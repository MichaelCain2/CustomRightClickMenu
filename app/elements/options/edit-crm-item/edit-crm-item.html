<!DOCTYPE HTML>
<link rel="import" href="../../../bower_components/paper-checkbox/paper-checkbox.html"/>
<link rel="import" href="../../../bower_components/paper-ripple/paper-ripple.html" />
<link rel="import" href="../../../bower_components/iron-icon/iron-icon.html"/>
<dom-module id="edit-crm-item" attributes="item shadow expanded rootNode">
	<template>
		<!-- build:css inline ../../../elements/options/edit-crm-item/edit-crm-item.css -->
		<link rel="stylesheet" href="../../elements/options/edit-crm-item/edit-crm-item.css" />
		<!-- /build -->
		<div id="itemCont" shadow$="[[shadow]]">
			<div class="item">
				<template is="dom-if" if="{{!rootNode}}">
					<type-switcher on-mousemove="onMouseOver" title="[[__(lang, langReady, 'options_editCrmItem_changeType')]]" id="typeSwitcher" type="{{type}}"></type-switcher>
				</template>
				<template is="dom-if" if="{{rootNode}}">
					<div id="rootNodeTypeColor"></div>
				</template>
				<template is="dom-if" if="{{!rootNode}}">
					<div id="draggerOrCheckbox" title="[[__(lang, langReady, 'options_editCrmItem_dragNode')]]">
						<div class="dragger">
							<div class="draggerImg">
								<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 48" height="30" width="20">
									<path d="M4 31v4h40v-4H4zm0-10v4h40v-4H4zm0-10v4h40v-4H4z"/>
								</svg>
							</div>
						</div>
						<div id="checkboxCont">
							<paper-checkbox on-tap="onToggle" id="checkbox"></paper-checkbox>
						</div>
					</div>
				</template>
				<div class="CRMItemTitle" title$="{{getTitle(rootNode, lang, langReady)}}" isroot$="{{rootNode}}" ismenu$="{{isMenu}}" has-code-settings$="{{hasCodeSettings}}" on-tap="checkClickType">
					<template is="dom-if" if="{{rootNode}}">
						<input id="rootNameTitle" on-change="rootNameChange" value$="{{itemName}}">
					</template>
					<template is="dom-if" if="{{!rootNode}}">
						<span>{{itemName}}</span>
						<paper-ripple></paper-ripple>
					</template>
				</div>
				<template is="dom-if" if="{{isMenu}}">
					<div title$="[[getMenuExpandMessage(item, lang, langReady)]]" on-click="openMenu" class="menuArrowCont">
						<div class="menuArrow" expanded$="[[expanded]]">
							<svg class="menuArrowImage" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewbox="0 0 48 48">
								<path d="M16 10v28l22-14z"/>
							</svg>
							<paper-ripple></paper-ripple>
						</div>
					</div>
				</template>
				<template is="dom-if" if="{{hasCodeSettings}}">
					<div title="Open options" class="codeSettingsButton" on-tap="_openCodeSettings">
						<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24">
							<path d="M0 0h24v24H0z" fill="none"/>
							<path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/>
						</svg>
						<paper-ripple></paper-ripple>
					</div>
				</template>
			</div>
		</div>
	</template>
</dom-module>
<!-- build:js inline -->
<script src="edit-crm-item.js"></script>
<!-- /build -->