<!DOCTYPE HTML>
<link rel="import" href="../../../elements/elements.html" />
<dom-module id="crm-app">
	<template>
		<!-- build:css inline ../../../elements/options/crm-app/crm-app.css -->
		<link rel="stylesheet" href="../../elements/options/crm-app/crm-app.css" />
		<!-- /build -->
		<style>
			.title {
				@apply --layout;
				@apply --layout-flex-auto;
				@apply --layout-center-center;
			}
		</style>
		<div class="popupCont">
			<div id="fullscreenEditor">
				<div id="editorCurrentScriptTitle">
					<div id="showHideToolsRibbonCont">
						<paper-icon-button title="tools" id="showHideToolsRibbonButton" 
							icon="menu" on-tap="domListener" data-on-tap="toggleToolsRibbon">
						</paper-icon-button>							
					</div>
					<div id="editorTitleRibbon">
						<span id="ribbonScriptName" hidden$="[[!scriptItem]]"></span>
						<span id="ribbonStylesheetName" hidden$="[[!stylesheetItem]]"></span>
					</div>
					<div id="titleRibbonEnd">
						<div id="fullscreenEditorButtons">
							<div hidden="{{_currentItemIsCss(item)}}" title="Toggle typescript" id="editorTypescript" on-tap="domListener" data-on-tap="toggleTypescript">
								[[__(lang, langReady, 'crmApp_ribbons_ts')]]
							</div>
							<div title="Exit fullscreen" id="fullscreenEditorToggle" on-tap="domListener" data-on-tap="exitFullscreen">
								<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 48 48">
									<path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"/>
								</svg>
							</div>
							<div title="Toggle options" id="fullscreenEditorSettings" on-tap="domListener" data-on-tap="toggleFullscreenOptions">
								<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewbox="0 0 48 48">
									<path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3c-1.22.51-2.35 1.17-3.38 1.97L9.9 10.1c-.45-.17-.97 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3c1.22-.51 2.35-1.17 3.38-1.97l4.98 2.01c.45.17.97 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>
								</svg>
							</div>
						</div>
						<div id="shrinkTitleRibbonButtonCont">
							<svg id="shrinkTitleRibbonButton" on-tap="toggleShrinkTitleRibbon" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewbox="0 0 48 48"><path d="M16 10v28l22-14z" /></svg>
						</div>
					</div>
				</div>
				<div id="fullscreenEditorHorizontal">
					<div id="editorToolsRibbonContainer">
						<div id="editorToolsRibbon">
							<div on-tap="domListener" data-on-tap="launchExternalEditorDialog" class="ribbonTool" id="externalEditorDialogTrigger">Use External Editor</div>
							<paper-libraries-selector id="paperLibrariesSelector" class="ribbonTool jsTool" usedlibraries="[[scriptItem.value.libraries]]"></paper-libraries-selector>
							<paper-get-page-properties id="paperGetPageProperties" class="ribbonTool jsTool"></paper-get-page-properties>
							<div on-tap="domListener" data-on-tap="launchSearchWebsiteToolScript" class="ribbonTool jsTool" id="paperSearchWebsitesToolTrigger">Search Website</div>
							<div on-tap="domListener" data-on-tap="runLint" class="ribbonTool" id="runCssLintButton">
								<span class="cssTool">
									[[__(lang, langReady, 'crmApp_ribbons_tslint')]]
								</span>
								<span class="jsTool">
									[[__(lang, langReady, 'crmApp_ribbons_jslint')]]
								</span>
							</div>
							<div on-tap="domListener" data-on-tap="showCssTips" class="ribbonTool cssTool" id="showCssTipsButton">
								[[__(lang, langReady, 'crmApp_ribbons_info')]]
							</div>
						</div>
					</div>
					<div id="fullscreenSettingsContainer">
						<div id="editorOptions">
							<div id="settingsPadding">
								<div class="editorSettingsTxt">
									[[__(lang, langReady, 'crmApp_editor_settings_header')]]
								</div>
								<div id="editorThemeSettingCont">
									<div id="editorThemeSettingTxt">[[__(lang, langReady, 'crmApp_editor_settings_theme')]]:</div>
									<div id="editorThemeSettingChoicesCont">
										<div id="editorThemeSettingWhite" on-tap="domListener" data-on-tap="setThemeWhite" class="editorThemeSetting"></div>
										<div id="editorThemeSettingDark" on-tap="domListener" data-on-tap="setThemeDark" class="editorThemeSetting"></div>
									</div>
								</div>
								<br />
								<div id="editorThemeFontSize">
									<paper-input on-change="domListener" data-on-change="fontSizeChange" id="editorThemeFontSizeInput" type="number" always-float-label label="[[__(lang, langReady, 'crmApp_editor_settings_fontsizePercentage')]]">
										<div suffix>%</div>
									</paper-input>
								</div>
								<br />
								<div id="editorJSLintGlobals">
									<div id="editorJSLintGlobalsFlexCont">
										<paper-input on-keypress="domListener" data-on-keypress="jsLintGlobalsChange" id="editorJSLintGlobalsInput" label="[[__(lang, langReady, 'crmApp_jslintGlobals')]]"  always-float-label></paper-input>
									</div>
								</div>
								<br />
								<br />
								<div id="keyBindingsText" class="editorSettingsTxt">[[__(lang, langReady, 'crmApp_editor_settings_keybindings')]]</div>
								<div id="keyBindingsContainer">
									<template id="keyBindingsTemplate" is="dom-repeat" as="keyBinding">
										<div class="keyBinding">
											<div>
												<paper-input data-index="{{itemIndex}}" on-keydown="domListener" data-on-keydown="onKeyBindingKeyDown" label="{{keyBinding.name}}" value="{{getKeyBindingValue(keyBinding)}}" class="keyBindingSettingKeyInput" always-float-label></paper-input>
											</div>
											<br />
										</div>
									</template>
								</div>
								<br id="afterEditorSettingsSpacing" /><br /><br />
							</div>
						</div>
					</div>
					<monaco-editor no-spinner id="fullscreenEditorEditor"></monaco-editor>
				</div>
			</div>
			<crm-edit-page hidden$="[[!show]]" id="editPage" item="{{item}}"></crm-edit-page>
		</div>
		<div class="backdropCont"></div>
		<div class="pageCont">
			<app-header-layout>
				<app-header slot="header" reveals effects="waterfall">
					<app-toolbar>
						<div main-title class="title">
							<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewbox="10000 5500 9000 10590" width="70px" height="70px" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
								xmlns:xlink="http://www.w3.org/1999/xlink">
								<defs>
									<style type="text/css">
										.fil5 {fill:white}
										.fil0 {fill:#3F51B5}
										.fil3 {fill:#4CAF50}
										.fil4 {fill:#AA00FF}
										.fil1 {fill:#F44336}
										.fil2 {fill:#FFC107}
									</style>
								</defs>
								<g id="Layer_x0020_1">
									<metadata id="CorelCorpID_0Corel-Layer"/>
									<g id="_592574224">
										<path class="fil0" d="M16886 12415l168 -169c63,-62 63,-164 0,-227l-947 -947 -569 222 1121 1121c62,62 164,62 227,0z"/>
										<path class="fil1" d="M15906 12225l168 -168c63,-63 63,-165 0,-227l-536 -536 -568 222 709 709c62,63 164,63 227,0z"/>
										<path class="fil2" d="M16095 13205l169 -168c62,-63 62,-165 0,-227l-1294 -1294 -293 114 -108 276 1299 1299c63,63 165,63 227,0z"/>
										<path class="fil3" d="M15115 13016l169 -169c62,-62 62,-164 0,-226l-715 -715 -223 568 542 542c63,62 165,62 227,0z"/>
										<path class="fil4" d="M15305 13996l168 -169c62,-62 62,-164 0,-226l-1127 -1127 -222 568 954 954c62,62 164,62 227,0z"/>
										<rect class="fil4" transform="matrix(0.515153 -0.515153 0.164098 0.164098 15404.8 14322.8)" width="767" height="2672" rx="220" ry="220"/>
										<rect class="fil3" transform="matrix(0.515153 -0.515153 -0.15801 -0.15801 15838.2 13965.6)" width="767" height="2672" rx="220" ry="220"/>
										<rect class="fil2" transform="matrix(0.515153 -0.515153 -0.264406 -0.264406 16826.3 14163.2)" width="767" height="2672" rx="220" ry="220"/>
										<rect class="fil1" transform="matrix(0.515153 -0.515153 -0.291735 -0.291735 16726.2 13272.5)" width="767" height="2672" rx="220" ry="220"/>
										<rect class="fil0" transform="matrix(0.515153 -0.515153 -0.139794 -0.139794 17657.4 13413.2)" width="767" height="2672" rx="220" ry="220"/>
										<rect class="fil2" transform="matrix(0.515153 -0.515153 -0.0972441 -0.0972441 17224.2 14561.1)" width="767" height="2672" rx="220" ry="220"/>
										<rect class="fil5" transform="matrix(0.457635 -0.457635 0.457635 0.457635 10474.2 7770.44)" width="767" height="2672" rx="220" ry="220"/>
										<rect class="fil5" x="12215" y="6895" width="497" height="1729" rx="142" ry="142"/>
										<rect class="fil5" transform="matrix(-1.71705E-14 0.647193 0.647193 1.71705E-14 9950.21 9159.86)" width="767" height="2672" rx="220" ry="220"/>
										<rect class="fil5" transform="matrix(0.457635 0.457635 -0.457635 0.457635 14071.1 7370.17)" width="767" height="2672" rx="220" ry="220"/>
										<rect class="fil5" transform="matrix(0.457635 0.457635 0.457635 -0.457635 10425.1 11016.2)" width="767" height="2672" rx="220" ry="220"/>
										<path class="fil5" d="M12638 9203l3531 1269c159,57 241,232 184,391 -32,90 -102,156 -186,185l-1490 582 -589 1504c-62,157 -239,234 -396,172 -85,-33 -147,-101 -176,-181l0 0 -1269 -3531c-57,-159 26,-334 184,-391 70,-25 143,-23 207,0z"/>
									</g>
								</g>
							</svg>								
							<span>[[_getPageTitle(lang, langReady)]]</span>
						</div>
					</app-toolbar>
					<template is="dom-if" if="[[_isOldChrome()]]">
						<div class="badBrowserBanner">[[__exec(lang, langReady, 'crmApp_header_oldChrome', _getChromeAge)]]</div>
					</template>
				</app-header>
				<div class="container">
					<lang-selector></lang-selector>
					<br />
					<div class="customRightClickMenuConfig">
						<div id="crmEditPageTopTextContainer">
							<div class="bigTxt">
								[[__(lang, langReady, 'crmApp_editcrm_editingCrm')]]
							</div>
							<div id="crmTypeSelector">
								<div class="crmType pageType" title="[[__exec(lang, langReady, 'crmApp_crmtype_toggle', ___,'crmApp_crmtype_regularebpages')]]"  on-tap="domListener" data-on-tap="iconSwitch">
									<paper-ripple></paper-ripple>
									<div class="crmTypeIcon">
										<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="80" height="80" viewbox="0 0 24 24">
											<path d="M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
										</svg>
									</div>
									<div class="crmTypeTxt">
										[[__(lang, langReady, 'crmTypes_webpages')]]
									</div>
								</div>
								<div class="crmType linkType" title="[[__exec(lang, langReady, 'crmApp_crmtype_toggle', ___,'crmTypes_weblinks')]]" on-tap="domListener" data-on-tap="iconSwitch">
									<paper-ripple></paper-ripple>
									<div class="crmTypeIcon">
										<svg height="80" viewbox="0 0 24 24" width="80" xmlns="http://www.w3.org/2000/svg">
											<path d="M0 0h24v24H0z" fill="none" />
											<path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" />
										</svg>
									</div>
									<div class="crmTypeTxt">
										[[__(lang, langReady, 'crmTypes_weblinks')]]
									</div>
								</div>
								<div class="crmType selectionType" title="[[__exec(lang, langReady, 'crmApp_crmtype_toggle', ___,'crmApp_crmtype_selectedText')]]" on-tap="domListener" data-on-tap="iconSwitch">
									<paper-ripple></paper-ripple>
									<div class="crmTypeIcon">
										<svg height="80" viewbox="0 0 24 24" width="80" xmlns="http://www.w3.org/2000/svg">
											<path d="M0 0h24v24H0z" fill="none" />
											<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" />
										</svg>
									</div>
									<div class="crmTypeTxt">
										[[__(lang, langReady, 'crmTypes_selection')]]
									</div>
								</div>
								<div class="crmType imageType" title="[[__exec(lang, langReady, 'crmApp_crmtype_toggle', ___,'crmTypes_images')]]" on-tap="domListener" data-on-tap="iconSwitch">
									<paper-ripple></paper-ripple>
									<div class="crmTypeIcon">
										<svg height="80" viewbox="0 0 24 24" width="80" xmlns="http://www.w3.org/2000/svg">
											<path d="M0 0h24v24H0z" fill="none" />
											<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" />
										</svg>
									</div>
									<div class="crmTypeTxt">
										[[__(lang, langReady, 'crmTypes_images')]]
									</div>
								</div>
								<div class="crmType videoType" title="[[__exec(lang, langReady, 'crmApp_crmtype_toggle', ___,'crmTypes_videos')]]" on-tap="domListener" data-on-tap="iconSwitch">
									<paper-ripple></paper-ripple>
									<div class="crmTypeIcon">
										<svg height="80" viewbox="0 0 24 24" width="80" xmlns="http://www.w3.org/2000/svg">
											<path d="M0 0h24v24H0z" fill="none" />
											<path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z" />
										</svg>
									</div>
									<div class="crmTypeTxt">
										[[__(lang, langReady, 'crmTypes_videos')]]
									</div>
								</div>
								<div class="crmType audioType" title="[[__exec(lang, langReady, 'crmApp_crmtype_toggle', ___,'crmTypes_audio')]]" on-tap="domListener" data-on-tap="iconSwitch">
									<paper-ripple></paper-ripple>
									<div class="crmTypeIcon">
										<svg height="80" viewbox="0 0 24 24" width="80" xmlns="http://www.w3.org/2000/svg">
											<path d="M0 0h24v24H0z" fill="none" />
											<path d="M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z" />
										</svg>
									</div>
									<div class="crmTypeTxt">
										[[__(lang, langReady, 'crmTypes_audio')]]
									</div>
								</div>
							</div>
						</div>
						<div class="customRightClickMenuEdit">
							<edit-crm id="editCrm"></edit-crm>
						</div>
					</div>
					<br /><br />
					<div class="optionsCont">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_options_header')]]
						</div>
						<div class="options">
							<paper-toggle-option id="catchErrors">
								[[__(lang, langReady, 'crmApp_options_catchErrors')]]
							</paper-toggle-option>
							<paper-toggle-option id="showOptions">
								[[__(lang, langReady, 'crmApp_options_showoptions')]]
							</paper-toggle-option>
							<paper-toggle-option id="recoverUnsavedData">
								[[__(lang, langReady, 'crmApp_options_recoverUnsavedData')]]
							</paper-toggle-option>
							<paper-toggle-option id="CRMOnPage" showmessage disabledreason="[[_getCRMInRMDisabledReason(lang, langReady)]]">
								[[__(lang, langReady, 'crmApp_options_CRMOnPageOption')]]
							</paper-toggle-option>
							<paper-toggle-option id="editCRMInRM" disabledreason="[[__(lang, langReady, 'options_inputs_paperToggleOption_chromeLow')]]">
								[[__(lang, langReady, 'crmApp_options_editCRMInRM')]]
							</paper-toggle-option>
							<paper-toggle-option id="useStorageSync" disabledreason="[[_getStorageSyncDisabledReason(lang, langReady)]]">
								[[__(lang, langReady, 'crmApp_options_useStorageSyncOption')]]
								<span style$="{{_getSettingsJsonLengthColor(settingsJsonLength)}}">{{_placeCommas(settingsJsonLength)}}</span>/102,400 bytes
							</paper-toggle-option>
							<paper-button on-tap="domListener" data-on-tap="showManagePermissions" raised class="blue">[[__(lang, langReady, 'crmApp_options_managePermissions')]]</paper-button>
						</div>
					</div>
					<br /><br />
					<div class="defaultCRMLinks">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_defaultLinks_header')]]
						</div>
						<div class="defaultsDescr">
							[[__(lang, langReady, 'crmApp_defaultLinks_description')]]
						</div>
						<br />
						<div class="defaultLinks">
							<default-link href="http://www.google.com" default-name="Google"></default-link>
							<default-link href="http://www.facebook.com" default-name="Facebook"></default-link>
							<default-link href="http://www.twitter.com" default-name="Twitter"></default-link>
							<default-link href="http://www.youtube.com" default-name="Youtube"></default-link>
							<default-link href="http://www.yahoo.com" default-name="Yahoo"></default-link>
							<default-link href="http://www.wikipedia.org" default-name="Wikipedia"></default-link>
							<default-link href="http://www.amazon.com" default-name="Amazon"></default-link>
							<default-link href="http://www.ebay.com" default-name="Ebay"></default-link>
							<default-link href="http://www.reddit.com" default-name="Reddit"></default-link>
						</div>
					</div>
					<br /><br />
					<div class="defaultCRMSearchEngines">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_searchEngines_header')]]
						</div>
						<div class="defaultsDescr">
							<echo-html html="[[__(lang, langReady, 'crmApp_searchEngines_description')]]"></echo-html>
						</div>
						<div class="defaultSearchEngines">
							<default-link search-engine href="https://www.google.com/search?q=%s" default-name="Search Google for %s"></default-link>
							<default-link search-engine href="https://en.wikipedia.org/w/index.php?title=Special:Search&search=%s" default-name="Search Wikipedia for %s"></default-link>
							<default-link search-engine href="https://www.youtube.com/results?search_query=%s" default-name="Search Youtube for %s"></default-link>
							<default-link search-engine href="https://www.amazon.com/s/?url=search-alias%3Daps&field-keywords=%s" default-name="Search Amazon for %s"></default-link>
						</div>
						<paper-button class="blue topoffset" id="removeButton" on-tap="domListener" data-on-tap="launchSearchWebsiteToolLink" raised>ADD CUSTOM WEBSITE</paper-button>
					</div>
					<br /><br />
					<div class="URIScheme">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_uriScheme_header')]]
						</div>
						<div class="URISchemeDescr">
							<echo-html html="[[__(lang, langReady, 'crmApp_uriScheme_description')]]"></echo-html>
						</div>
						<div class="URISchemeGenerator">
							<paper-input id="URISchemeFilePath" label="[[__(lang, langReady, 'crmApp_uriScheme_filePathLabel')]]" value="C:\files\file.exe"></paper-input>
							<paper-input id="URISchemeSchemeName" pattern="(\w|\d|_|\.|-)*" auto-validate="true" error-message="[[__(lang, langReady, 'crmApp_uriScheme_invalidScheme')]]" label="[[__(lang, langReady, 'crmApp_uriScheme_schemeNameLabel')]]" value="[[__(lang, langReady, 'crmApp_uriScheme_example')]]"></paper-input>
							<animated-button cooldown raised class="blue topoffset" tap="domListener" data-on-click="_generateRegexFile" content="[[__(lang, langReady, 'crmApp_uriScheme_generate')]]"></animated-button>
						</div>
					</div>
					<br /><br />
					<div class="importSettingsCont">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_importing_header')]]
						</div>
						<div class="importDescr">
							[[__(lang, langReady, 'crmApp_importing_description')]]
						</div>
						<div class="importSettings">
							<textarea rows="10" id="importSettingsInput" class="textarea" spellcheck="false" autocomplete="off"></textarea>
							<span id="importSettingsError">
								[[__(lang, langReady, 'crmApp_importing_error')]]
							</span>
						</div>
						<paper-checkbox title="[[__(lang, langReady, 'crmApp_importing_overwriteTitle')]]" checked id="overWriteImport">[[__(lang, langReady, 'crmApp_importing_overwrite')]]</paper-checkbox>
						<paper-checkbox title="[[__(lang, langReady, 'crmApp_importing_legacyTitle')]]" id="oldCRMImport">[[__(lang, langReady, 'crmApp_importing_legacy')]]</paper-checkbox>
						<br />
						<animated-button class="blue" cooldown raised id="importButton" tap="domListener" data-on-click="importData" content="[[__(lang, langReady, 'crmApp_importing_import')]]"></animated-button>
					</div>
					<br /><br />
					<div class="exportSettingsCont">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_exporting_header')]]
						</div>
						<div class="exportDescr">
							[[__(lang, langReady, 'crmApp_exporting_description')]]
						</div>
						<div class="exportSettings">
							<center-element id="exportSettingsSpinner" nostyle hide>
								<div>
									<div class="exportSettingsSpinnerHorizontalCenterer">
										<paper-spinner active></paper-spinner>
									</div>
									<div>
										[[__(lang, langReady, 'crmApp_exporting_waiting')]]
									</div>
								</div>
							</center-element>
							<textarea rows="10" id="exportSettingsOutput" class="textarea" spellcheck="false" autocomplete="off"></textarea>
						</div>
						<paper-checkbox checked id="exportCRM">[[__(lang, langReady, 'crmApp_exporting_exportCRM')]]</paper-checkbox>
						<paper-checkbox checked id="exportSettings">[[__(lang, langReady, 'crmApp_exporting_exportSettings')]]</paper-checkbox>
						<paper-icon-button id="exportCopyButton" icon="content-copy" title="copy to clipboard" on-tap="domListener" data-on-tap="copyExportToClipboard"></paper-icon-button>
						<br/>
						<animated-button cooldown class="blue" raised id="exportButton" tap="domListener" data-on-click="exportData" content="[[__(lang, langReady, 'crmApp_exporting_export')]]"></animated-button>
					</div>
					<br/><br/>
					<div class="helpCont">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_help_header')]]
						</div>
						<div class="helpDescr">
							<echo-html html="[[__(lang, langReady, 'crmApp_help_description')]]"></echo-html>
						</div>
					</div>
					<br /><br />
					<div class="contactCont">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_contact_header')]]
						</div>
						<div class="contactDescr">
							<echo-html html="[[__(lang, langReady, 'crmApp_contact_description')]]"></echo-html>
						</div>
					</div>
					<br /><br />
					<div class="bugReportingCont">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_bugs_header')]]
						</div>
						<div class="bugReportingDescr">
							[[__(lang, langReady, 'crmApp_bugs_description')]]
						</div>
						<paper-button raised class="blue topoffset" on-tap="domListener" data-on-tap="_toggleBugReportingTool">[[__(lang, langReady, 'crmApp_bugs_toggle')]]</paper-button>
					</div>
					<br /><br />
					<div class="globalExcludes">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_globalExcludes_header')]]
						</div>
						<div class="globalExcludesDescr">
							[[__(lang, langReady, 'crmApp_globalExcludes_description')]]
							<a href="https://developer.chrome.com/extensions/match_patterns" rel="noopener" target="_blank">https://developer.chrome.com/extensions/match_patterns</a>
						</div>
						<div class="globalExcludesItems">
							<template is="dom-repeat" items="{{globalExcludes}}" as="globalExclude">
								<div class="globalExcludeContainer">
									<paper-input on-change="domListener" data-on-change="globalExcludeChange" pattern="(file:///.*|(\*|http|https|file|ftp)://(\*\.[^/]+|\*|([^/\*]+.[^/\*]+))(/(.*))?|(<all_urls>))" auto-validate="true" label="[[__(lang, langReady, 'crmApp_globalExcludes_patternLabel')]]" error-message="[[__(lang, langReady, 'crmApp_globalExcludes_patternInvalid')]]" class="globalExcludeInput" value="[[globalExclude]]"></paper-input>
									<paper-icon-button hidden$="[[_isOnlyGlobalExclude(globalExcludes)]]" icon="clear" on-tap="domListener" data-on-tap="removeGlobalExclude" class="globalExcludeRemove" data-url$="[[globalExclude]]"></paper-icon-button>
								</div>
							</template>
							<paper-button raised class="blue topoffset" on-tap="domListener" data-on-tap="addGlobalExcludeField">[[__(lang, langReady, 'generic_add')]]</paper-button>
						</div>
					</div>
					<br /><br />
					<div class="loggingButtonCont">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_logging_header')]]
						</div>
						<div class="loggingDescr">
							<echo-html html="[[__(lang, langReady, 'crmApp_logging_description')]]"></echo-html>
						</div>
						<paper-button class="blue topoffset" raised on-tap="domListener" data-on-tap="_openLogging">[[__(lang, langReady, 'crmApp_logging_logging')]]</paper-button>
					</div>
					<br /><br />
					<div class="privacyPolicyCont">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_privacyPolicy_header')]]
						</div>
						<div class="privacyPolicyDescr">
							<echo-html html="[[__(lang, langReady, 'crmApp_privacyPolicy_description')]]"></echo-html>
						</div>
					</div>
					<br/><br/>
					<div class="changelogCont">
						<div class="bigTxt">
							[[__(lang, langReady, 'crmApp_changelog_changelog')]]
						</div>
						<change-log></change-log>
					</div>
					<div class="trailingBrs">
						<br /><br /><br /><br /><br />
					</div>
				</div>
			</app-header-layout>
			<div id="dialogs">
				<!--Toasts-->
				<paper-toast id="messageToast" text="Please ignore this" duration="5000">
					<span class="toastLink" on-tap="domListener" data-on-tap="hideGenericToast" role="button">[[__(lang, langReady, 'generic_dismiss')]]</span>
				</paper-toast>
				<paper-toast id="undoToast" text="[[__(lang, langReady, 'crmApp_toasts_revert')]]">
					<span class="toastLink" on-tap="domListener" data-on-tap="undo" role="button">[[__(lang, langReady, 'generic_undo')]]</span>
				</paper-toast>
				<paper-toast data-element-type="ScriptUpdatesToast" id="scriptUpdatesToast" text="Please ignore this" duration="10000">
					<span id="nextScriptUpdateButton" class="toastLink" on-tap="domListener" data-on-tap="nextUpdatedScript" role="button">[[__(lang, langReady, 'generic_next')]]</span>
					<span class="toastLink" on-tap="domListener" data-on-tap="hideScriptUpdatesToast" role="button">[[__(lang, langReady, 'generic_dismiss')]]</span>
				</paper-toast>
				<paper-toast id="contentTypeToast" text="[[__(lang, langReady, 'crmApp_toasts_contentType')]]" duration="5000"></paper-toast>
				<paper-toast id="externalEditorErrorToast" text="Something went wrong connecting to the CRM App, make sure you have the app installed" duration="10000">
					<a class="toastLink" href="https://chrome.google.com/webstore/detail/crm-external-editor-app/hkjjmhkhhlmkflpihbikfpcojeofbjgn" rel="noopener" target="_blank">INSTALL</a>
					<span id="externalEditorTryAgainButton" role="button">RETRY</span>
				</paper-toast>
				<paper-toast id="externalEditorLocationToast" text="The file is located at...." duration="10000">
					<a href="file:///C:/" rel="noopener" target="_blank" id="externalEditoOpenLocationInBrowser" role="button">OPEN IN BROWSER</a>
				</paper-toast>
				<paper-toast id="storageExceededToast" text="[[__(lang, langReady, 'crmApp_toasts_storageExceeded')]]" duration="10000"></paper-toast>
				<paper-toast id="noErrorsFound" text="[[__(lang, langReady, 'crmApp_toasts_noErrors')]]" duration="3500"></paper-toast>
				<paper-toast id="acceptDownloadToast" text="[[__(lang, langReady, 'crmApp_toasts_acceptDownload')]]" duration="3500"></paper-toast>
				<paper-toast id="updatedSettingsToast" text="Settings were updated to those on xx-xx-xxxx" duration="5000"></paper-toast>
				<!--Dialogs-->
				<paper-dialog id="codeSettingsDialog" no-cancel-on-outside-click no-cancel-on-esc-key data-element-type="CodeSettingsDialog" with-backdrop entry-animation="scale-up-animation" exit-animation="fade-out-animation">
					<h2 id="codeSettingsTitle">[[__(lang, langReady, 'crmApp_dialogs_codeSettings_changingOptions')]] <span class="bold" id="codeSettingsNodeName"></span></h2>
					<div id="codeSettingsOptions">
						<template is="dom-if" id="codeSettingsNoItems">
							<div>[[__(lang, langReady, 'crmApp_dialogs_codeSettings_noOptions')]]</div>
						</template>
						<template is="dom-repeat" id="codeSettingsRepeat" as="codeSetting">
							<div class="codeSettingSetting" data-key$="[[codeSetting.key]]" data-type$="[[codeSetting.value.type]]">
								<template is="dom-if" if="{{_isOfType(codeSetting.value, 'number')}}">
									<span class="optionMetaDescr">[[__(lang, langReady, 'crmApp_dialogs_codeSettings_numberInput')]]</span>
									<paper-input type="number" placeholder="[[_getString(codeSetting.value.descr)]]"
										value="{{codeSetting.value.value}}" min="[[codeSetting.value.minimum]]"
										max="[[codeSetting.value.maximum]]"
										label="[[codeSetting.key]]"
										title="[[_getString(codeSetting.value.descr)]]"></paper-input>
								</template>
								<template is="dom-if" if="{{_isOfType(codeSetting.value, 'boolean')}}">
									<span class="optionMetaDescr">[[__(lang, langReady, 'crmApp_dialogs_codeSettings_booleanInput')]]</span>
									<br><div class="optionPading"></div>
									<paper-checkbox checked="{{codeSetting.value.value}}">
										<span>
											<b>[[codeSetting.key]]</b>
											<template is="dom-if" if="[[_getString(codeSetting.value.descr)]]">
												<span>: <span>[[_getString(codeSetting.value.descr)]]</span></span>
											</template>
										</span>
									</paper-checkbox>
								</template>
								<template is="dom-if" if="{{_isOfType(codeSetting.value, 'string')}}">
									<span class="optionMetaDescr">[[__(lang, langReady, 'crmApp_dialogs_codeSettings_textInput')]]</span>
									<paper-input type="text" placeholder="[[_getString(codeSetting.value.descr)]]"
										value="{{codeSetting.value.value}}"
										maxlength="[[codeSetting.value.maxLength]]"
										label="[[codeSetting.key]]"
										pattern="[[codeSetting.format]]"
										title="[[_getString(codeSetting.value.descr)]]"></paper-input>
								</template>
								<template is="dom-if" if="{{_isOfType(codeSetting.value, 'color')}}">
									<span class="optionMetaDescr">[[__(lang, langReady, 'crmApp_dialogs_codeSettings_colorInput')]]</span>
									<input type="color" placeholder="[[_getString(codeSetting.value.descr)]]"
										value="{{codeSetting.value.value}}"
										label="[[codeSetting.key]]"
										title="[[_getString(codeSetting.value.descr)]]"></input>
								</template>
								<template is="dom-if" if="{{_isOfType(codeSetting.value, 'array')}}">
									<paper-array-input values="{{codeSetting.value.value}}" 
										max="[[codeSetting.value.maxItems]]"
										subtext="[[codeSetting.value.descr]]"
										title="[[codeSetting.key]]"
										type="[[codeSetting.value.items]]"></paper-array-input>
									<br>
								</template>
								<template is="dom-if" if="{{_isOfType(codeSetting.value, 'choice')}}">
									<paper-dropdown-menu title="[[_getString(codeSetting.value.descr)]]" 
											label="[[codeSetting.key]]" indent="true" 
											fancylabel subtext="[[codeSetting.value.descr]]"
											selected="{{codeSetting.value.selected}}" dropdownraised>
										<paper-menu slot="menu" selected="{{codeSetting.value.selected}}">
											<div slot="content">
												<template id="tabRepeat" is="dom-repeat" items="[[codeSetting.value.values]]" as="codeSettingOption">
													<paper-item>
														<div class="menuSelectedCheckmark">
															<svg fill="#2699f4" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewbox="0 0 48 48">
																<path d="M18 32.34L9.66 24l-2.83 2.83L18 38l24-24-2.83-2.83z"/>
															</svg>
														</div>
														<span title$="[[codeSettingOption]]" class="menuOptionName">[[codeSettingOption]]</span>
													</paper-item>
												</template>
											</div>
										</paper-menu>
									</paper-dropdown-menu>
								</template>
							</div>
							<br />
						</template>
					</div>
					<div class="buttons">
						<paper-button dialog-dismiss>[[__(lang, langReady, 'generic_cancel')]]</paper-button>
						<paper-button dialog-confirm on-tap="domListener" data-on-tap="confirmCodeSettings">[[__(lang, langReady, 'generic_save')]]</paper-button>
					</div>
				</paper-dialog>
				<paper-dialog no-cancel-on-outside-click no-cancel-on-esc-key id="restoreChangesDialog" with-backdrop entry-animation="scale-up-animation" exit-animation="fade-out-animation">
					<div id="restoreChangesMain">
						<h2>[[__(lang, langReady, 'crmApp_dialogs_recoverUnsaved_header')]]</h2>
						<span>[[__(lang, langReady, 'crmApp_dialogs_recoverUnsaved_description')]]</span>
						<div id="highlightChangedScript" class="restoreChangesOption">[[__(lang, langReady, 'crmApp_dialogs_recoverUnsaved_whatNode')]]</div>
					</div>
					<div id="restoreChangesHeader">
						<div class="halfDivider">
							<div class="half">
								<h2>[[__(lang, langReady, 'crmApp_dialogs_recoverUnsaved_oldCode')]]</h2>
							</div>
							<div class="half">
								<h2>[[__(lang, langReady, 'crmApp_dialogs_recoverUnsaved_unsavedCode')]]</h2>
							</div>
						</div>
					</div>
					<monaco-editor id="restoreChangesEditor"></monaco-editor>
					<div class="buttons">
						<paper-button id="discardButton" dialog-dismiss>[[__(lang, langReady, 'generic_discard')]]</paper-button>
						<paper-button id="keepChangesButton" dialog-confirm>[[__(lang, langReady, 'crmApp_dialogs_recoverUnsaved_keepOld')]]</paper-button>
					</div>
				</paper-dialog>
				<paper-dialog data-element-type="ChooseFileDialog" no-cancel-on-outside-click no-cancel-on-esc-key id="externalEditorChooseFile" with-backdrop entry-animation="scale-up-animation" exit-animation="fade-out-animation">
					<div id="chooseFileMainDialog">
						<h2>Choose the file you want to keep</h2>
						<monaco-editor id="chooseFileMerger"></monaco-editor>
						<div class="buttons">
							<paper-button class="closeChooseFileDialog">[[__(lang, langReady, 'generic_cancel')]]</paper-button>
							<paper-button id="chooseFileChooseCRM" dialog-confirm>Choose extension code</paper-button>
							<paper-button id="chooseFileChooseDisk" dialog-confirm>Choose code on disk</paper-button>
						</div>	
					</div>
				</paper-dialog>
				<paper-dialog no-cancel-on-esc-key with-backdrop id="addLibraryDialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
					<div id="addLibraryLoadingDialog">
						<div id="addLibraryLoadingDialogCenterer">
							<paper-spinner active></paper-spinner>
						</div>
					</div>
					<div id="addLibraryProcessContainer">
						<h2>[[__(lang, langReady, 'crmApp_dialogs_addLibrary_header')]]</h2>
						<paper-input error-message="[[__(lang, langReady, 'crmApp_dialogs_addLibrary_noNameError')]]" id="addedLibraryName" label="name"></paper-input>
						<paper-radio-group id="addLibraryRadios" selected="url">
							<paper-radio-button id="addLibraryUrlOption" name="url">[[__(lang, langReady, 'crmApp_dialogs_addLibrary_urlInput')]]</paper-radio-button>
							<paper-radio-button id="addLibraryManualOption" name="manual">[[__(lang, langReady, 'crmApp_dialogs_addLibrary_codeInput')]]</paper-radio-button>
						</paper-radio-group>
						<paper-input pattern="$a" id="addLibraryUrlInput" label="[[__(lang, langReady, 'generic_url')]]" error-message="[[__(lang, langReady, 'crmApp_dialogs_addLibrary_urlError')]]"></paper-input>
						<paper-textarea id="addLibraryManualInput" label="[[__(lang, langReady, 'crmApp_dialogs_addLibrary_code')]]"></paper-textarea>
						<br><br>
						<paper-checkbox id="addLibraryIsTS">[[__(lang, langReady, 'crmApp_dialogs_addLibrary_usesTypescript')]] <a rel="noopener" href="https://www.typescriptlang.org/" target="_blank">typescript</a></paper-checkbox>
						<div class="buttons">
							<paper-button dialog-dismiss>[[__(lang, langReady, 'generic_cancel')]]</paper-button>
							<paper-button id="addLibraryButton">[[__(lang, langReady, 'generic_add')]]</paper-button>
						</div>
					</div>
					<div id="addLibraryConfirmationContainer">
						<h2>[[__(lang, langReady, 'crmApp_dialogs_addLibrary_isThisOkay')]]</h2>
						<textarea id="addLibraryConfirmationInput"></textarea>
						<div class="buttons">
							<paper-button id="addLibraryDenyConfirmation">[[__(lang, langReady, 'generic_no')]]</paper-button>
							<paper-button id="addLibraryConfirmAddition">[[__(lang, langReady, 'generic_yes')]]</paper-button>
						</div>
					</div>
					<div id="addLibraryDialogSucces">
						<div id="addLibraryDialogSuccesCheckmark" class="checkmark"></div>
						<div id="addLibraryDialogSuccesText">[[__(lang, langReady, 'crmApp_dialogs_addLibrary_added')]]</div>
					</div>
				</paper-dialog>
				<paper-dialog with-backdrop id="cssEditorInfoDialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
					<h2>[[__(lang, langReady, 'crmApp_dialogs_cssEditorInfo_header')]]</h2>
					<br />
					[[__(lang, langReady, 'crmApp_dialogs_cssEditorInfo_description')]]
					<div class="buttons">
						<paper-button dialog-dismiss>[[__(lang, langReady, 'generic_close')]]</paper-button>
					</div>
				</paper-dialog>
				<center-element fullscreenoverlay id="exportCenterer">
					<paper-dialog with-backdrop id="exportDialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
						<h2>[[__(lang, langReady, 'crmApp_dialogs_cssEditorInfo_header')]]</h2>
						<div>
							[[__(lang, langReady, 'crmApp_dialogs_cssEditorInfo_description')]]
						</div>
						<div id="exportInputLine">
							<paper-input always-float-label id="exportAuthorName" label="[[__(lang, langReady, 'crmApp_dialogs_exporting_authorName')]]" placeholder="anonymous"></paper-input>
							<paper-icon-button id="dialogCopyButton" icon="content-copy" title="[[__(lang, langReady, 'crmApp_dialogs_exporting_copyToClipboard')]]" on-tap="domListener" data-on-tap="copyExportDialogToClipboard"></paper-icon-button>
						</div>
						<textarea class="paperTextArea" id="exportJSONData" rows="20" spellcheck="false" autocomplete="off"></textarea>
						<div class="buttons">
							<paper-button dialog-dismiss>[[__(lang, langReady, 'generic_close')]]</paper-button>
						</div>
					</paper-dialog>
				</center-element>
				<center-element fullscreenoverlay id="scriptPermissionsCenterer">
					<paper-dialog with-backdrop id="scriptPermissionDialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
						<br>
						<h2 class="requestPermissionsScriptName">
							Managing permisions for script "[[name]]"
						</h2>
						<div>
							[[__(lang, langReady, 'crmApp_dialogs_permissions_description')]]
						</div>
						<div class="scriptPermissionsContainer">
							<div class="scriptPermissionsUsedPermissionsTxt">
								[[__(lang, langReady, 'crmApp_dialogs_permissions_usedPermissions')]]
							</div>
							<div class="requestPermissionsPermissions">
								<template is="dom-repeat" id="scriptPermissionsTemplate" items="[]" as="permission">
									<div class="requestPermissionsPermission">
										<div class="requestPermissionsPermissionTopCont" is-required$="[[permission.required]]">
											<span class="requestPermissionName">[[permission.name]]</span>
											<div class="requestPermissionsShowBot">
												<svg class="requestPermissionsSvg" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewbox="0 0 48 48"><path d="M16 10v28l22-14z" /></svg>
											</div>
											<paper-toggle-button class="scriptPermissionsToggle" checked="[[permission.toggled]]" ischecked$="[[permission.toggled]]"></paper-toggle-button>
										</div>
										<div class="requestPermissionsPermissionBotCont">
											<span class="requestPermissionsDescription">
												<echo-html makelink html="[[permission.description]]"></echo-html>
											</span>
										</div>
									</div>
								</template>
							</div>
						</div>
						<div class="buttons">
							<paper-button dialog-dismiss>[[__(lang, langReady, 'generic_close')]]</paper-button>
						</div>
					</paper-dialog>
				</center-element>
				<center-element fullscreenoverlay id="requestPermissionsCenterer">
					<paper-dialog no-cancel-on-outside-click no-cancel-on-esc-key with-backdrop id="requestPermissionsDialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
						<div>
							<h2 id="requestPermissionsHeader">[[__(lang, langReady, 'crmApp_dialogs_requestPermissions_header')]]</h2>
							<div id="requestPermissionsTxt">
								[[__(lang, langReady, 'crmApp_dialogs_requestPermissions_description')]]
							<br />
							<div class="requestPermissionsPermissions">
								<div id="requestedPermissionsCont">
									<div id="requestPermissionsAsked">
										<div class="requestPermissionsType">
											[[__(lang, langReady, 'crmApp_dialogs_requestPermissions_required')]] :
										</div>
										<template id="requestedPermissionsTemplate" is="dom-repeat" items="[]" as="requestedPermission">
											<div class="requestPermissionsPermission">
												<div class="requestPermissionsPermissionTopCont">
													<span class="requestPermissionName">[[requestedPermission.name]]</span>
													<div class="requestPermissionsShowBot">
														<svg class="requestPermissionsSvg" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewbox="0 0 48 48"><path d="M16 10v28l22-14z" /></svg>
													</div>
													<paper-toggle-button class="requestPermissionButton required" checked="[[requestedPermission.toggled]]" ischecked$="[[requestedPermission.toggled]]"></paper-toggle-button>
												</div>
												<div class="requestPermissionsPermissionBotCont">
													<span class="requestPermissionsDescription">[[requestedPermission.description]]</span>
												</div>
											</div>
										</template>
										<div class="requestPermissionsPermission">
											<div class="requestPermissionsPermissionTopCont">
												<span class="requestPermissionName">[[requestedPermission.name]]</span>
												<div class="requestPermissionsShowBot">
													<svg class="requestPermissionsSvg" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewbox="0 0 48 48"><path d="M16 10v28l22-14z" /></svg>
												</div>
												<paper-toggle-button class="requestPermissionButton required" checked="[[requestedPermission.toggled]]" ischecked$="[[requestedPermission.toggled]]"></paper-toggle-button>
											</div>
											<div class="requestPermissionsPermissionBotCont">
												<span class="requestPermissionsDescription">[[requestedPermission.description]]</span>
											</div>
										</div>
									</div>
									<div id="requestPermissionsLineCont">
										<div id="requestPermissionsSplitter"></div>
										<svg id="requestPermissionsShowOther" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewbox="0 0 48 48">
											<path d="M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z" />
											<line x1="10" y1="24" style="stroke: rgb(0, 0, 0); stroke-width: 5;" x2="38" y2="24" />
										</svg>
									</div>
								</div>
								<div id="requestPermissionsOther">
									<div class="requestPermissionsType">
										[[__(lang, langReady, 'crmApp_dialogs_requestPermissions_others')]] :
									</div>
									<template id="requestedPermissionsOtherTemplate" is="dom-repeat" items="[]" as="otherPermission">
										<div class="requestPermissionsPermission">
											<div class="requestPermissionsPermissionTopCont">
												<span class="requestPermissionName">[[otherPermission.name]]</span>
												<div class="requestPermissionsShowBot">
													<svg class="requestPermissionsSvg" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewbox="0 0 48 48"><path d="M16 10v28l22-14z" /></svg>
												</div>
												<paper-toggle-button class="requestPermissionButton" checked="[[otherPermission.toggled]]" ischecked$="[[otherPermission.toggled]]"></paper-toggle-button>
											</div>
											<div class="requestPermissionsPermissionBotCont">
												<span class="requestPermissionsDescription">
													<echo-html makelink html="[[otherPermission.description]]"></echo-html>
												</span>
											</div>
										</div>
									</template>
								</div>
							</div>
							<div class="buttons">
								<paper-button dialog-dismiss>[[__(lang, langReady, 'generic_close')]]</paper-button>
								<paper-button id="requestPermissionsAcceptAll">[[__(lang, langReady, 'crmApp_dialogs_requestPermissions_acceptAll')]]</paper-button>
							</div>
						</div>
					</paper-dialog>
				</center-element>
				<center-element fullscreenoverlay id="versionUpdateCenterer">
					<paper-dialog data-element-type="VersionUpdateDialog" with-backdrop id="versionUpdateDialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
						<br />
						<div id="versionUpdateTabContainer" tab$="[[versionUpdateTab]]">
							<div id="versionUpdateTabSlider">
								<div class="versionUpdateTab">
									<h2 class="versionUpdateTabHeader">Welcome to the new Custom Right-Click Menu</h2>
									<div class="versionUpdateTabTxt">
										Custom Right-Click Menu (CRM) has been updated to version 2.0. This version has a hugely upgraded
										UI, lots of new features, a new editor, a CRM API for your scripting and includes the new stylesheet type.
										It's now also fully compatible with userscripts (such as GreaseMonkey and TamperMonkey).
										Click the next button to see more features.
									</div>
								</div>
								<div class="versionUpdateTab">
									<h2 class="versionUpdateTabHeader">A new editor</h2>
									<div class="versionUpdateTabTxt">
										This update also includes a new editor featuring the widely used CodeMirror. This editor allows
										you to better edit your code with features like:
										<ul>
											<li>Synthax highlighting</li>
											<li>Autocomplete</li>
											<li>Function definitions</li>
											<li>A search/replace function</li>
											<li>Custom theme, custom keybindings</li>
										</ul>
										And even if you don't like it, you can now sync up a script/stylesheet to a file on your hard drive
										so you can edit files in your favorite editor and have them be used here.
										<br />
										<b>Try it out below:</b>
										<monaco-editor id="tryOutEditor"></monaco-editor>
									</div>
								</div>
								<div class="versionUpdateTab">
									<h2 class="versionUpdateTabHeader">The new stylesheet type</h2>
									<div class="versionUpdateTabTxt">
										Often you're not satisfied with some elements on a page, and wish them to be removed. Or you just
										want to change the background color of a site to be less straining on the eyes. The new stylesheet
										type allows you to either always apply it or have the ability to toggle it on and off.
										<div id="gifCropper">
											<img id="stylesheetGif" data-src="../../images/stylesheet.gif" alt="stylesheet demo gif" />
										</div>
									</div>
								</div>
								<div class="versionUpdateTab">
									<h2 class="versionUpdateTabHeader">Compatible with userscripts</h2>
									<div class="versionUpdateTabTxt">
										Custom Right-Click Menu is now fully compatible with userscripts. These are the scripts used by
										extensions such as TamperMonkey and GreaseMonkey. These extensions work great but a lot of
										features are simply missing. That is why it's now possible to install any userscript in this
										extension as well. Simply go to a page where you can find a userscript
										(such as <a href="https://greasyfork.org/" rel="noopener" target="_blank">greasyfork</a> or
										<a href="http://userscripts-mirror.org/" rel="noopener" target="_blank">userscripts-mirror</a>), click the install button
										and the script will be installed for you. <br />
										You can also export scripts from CRM as userscripts. Keep in mind that while all features
										that userscripts include are included in CRM, the opposite is NOT true. This means that CRM-only features
										will not be usable on extensions such as TamperMonkey/GreaseMonkey. CRM users installing that script
										will however have all the original features.
									</div>
								</div>
								<div class="versionUpdateTab">
									<h2 class="versionUpdateTabHeader">Extra open source</h2>
									<div class="versionUpdateTabTxt">
										While the source of browser extensions can be looked at by anyone, the extension wasn't
										completely open source before. With this new version the entire project is online over
										at <a href="https://www.github.com/SanderRonde/CustomRightClickMenu" rel="noopener" target="_blank">Github</a>.
										If you feel like helping out, reporting some issues, or just checking out the code and learning
										please check it out. <br />
										If you have any questions or suggestions, please don't hesitate to contact me by email over at
										<a href="mailto:awsdfgvhbjn_gmail.com" target="_blank" rel="noopener">awsdfgvhbjn_gmail.com</a>.
										<br /><br />
										<div class="finalMessage">Have fun using this extension!</div>
										<br />
									</div>
								</div>
							</div>
						</div>
						<div class="buttons">
							<paper-button notshown$="[[_isVersionUpdateTabX(versionUpdateTab, 0)]]" id="versionUpdatePrevTab" on-tap="domListener" data-on-tap="goPrevVersionUpdateTab">previous</paper-button>
							<paper-button id="versionUpdateNextTab" on-tap="domListener" data-on-tap="goNextVersionUpdateTab">
								<span hidden$="[[!_isVersionUpdateTabX(versionUpdateTab, 4)]]">close</span>
								<span hidden$="[[_isVersionUpdateTabX(versionUpdateTab, 4)]]">next</span>
							</paper-button>
						</div>
					</paper-dialog>
				</center-element>
				<center-element fullscreenoverlay id="addedPermissionsCenterer">
					<paper-dialog with-backdrop id="addedPermissionsDialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
						<br>
						<div id="addedPermissionsTabContainer" data-element-type="AddedPermissionsTabContainer">
							<template id="addedPermissionsTabRepeater" is="dom-repeat" as="nodeAddedPermission">
								<div class="nodeAddedPermissionsCont" data-id$="[[nodeAddedPermission.node]]">
									<h2 class="nodeAddedHeader">
										[[__exec(lang, langReady, 'crmApp_dialogs_addedPermissions_header', _getNodeName, nodeAddedPermission.node, _getNodeVersion, nodeAddedPermission.node)]]
									</h2>
									<div class="nodeAddedPermissions">
										<template is="dom-repeat" items="[[nodeAddedPermission.permissions]]" as="permission">
											<div class="nodeAddedPermissionCont">
												<div class="nodeAddedPermissionTop">
													<div class="nodeAddedPermissionCheckbox">
														<paper-checkbox 
															data-permission$="[[permission]]">
															<b>[[permission]]</b>
														</paper-checkbox>
													</div>
												</div>
												<div class="nodeAddedPermissionDescription">[[_getPermissionDescription(permission)]]</div>
											</div>
										</template>
									</div>
								</div>
							</template>
						</div>
						<div class="buttons">
							<paper-button
								id="addedPermissionPrevButton"
								on-tap="domListener" data-on-tap="addedPermissionPrev">[[__(lang, langReady, 'generic_previous')]]</paper-button>
							<paper-button id="addedPermissionNextButton" on-tap="domListener" data-on-tap="addedPermissionNext">
								<span class="close">[[__(lang, langReady, 'generic_apply')]]</span>
								<span class="next">[[__(lang, langReady, 'generic_next')]]</span>
							</paper-button>
						</div>
					</paper-dialog>
				</center-element>
				<paper-search-website-dialog id="paperSearchWebsiteDialog"></paper-search-website-dialog>
				<use-external-editor id="useExternalEditor"></use-external-editor>
			</div>
		</div>
	</template>
</dom-module>
<!-- build:js inline -->
<script src="../../../js/shared.js"></script>
<script src="../../../js/libraries/jquery/jquery-3.3.1.js"></script>
<script src="../../../js/libraries/jquery/jquery-ui.min.js"></script>
<script src="../../../js/libraries/jquery/jquery.requestAnimationFrame.min.js"></script>
<script src="../../../js/libraries/jquery/jquery.bez.js"></script>
<script src="../../../js/libraries/md5.js"></script>
<script src="crm-app.js"></script>
<!-- /build -->