/*!
 * Original can be found at https://github.com/SanderRonde/CustomRightClickMenu 
 * This code may only be used under the MIT style license found in the LICENSE.txt file 
**/
!function(e){var r=e.babelHelpers={};r.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r.classCallCheck=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},r.createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),r.defineEnumerableProperties=function(e,r){for(var t in r){var n=r[t];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t,n)}return e},r.defaults=function(e,r){for(var t=Object.getOwnPropertyNames(r),n=0;n<t.length;n++){var o=t[n],i=Object.getOwnPropertyDescriptor(r,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e},r.defineProperty=function(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e},r.extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r.get=function e(r,t,n){null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,t);if(void 0===o){var i=Object.getPrototypeOf(r);return null===i?void 0:e(i,t,n)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(n)},r.inherits=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?typeof Object['setPrototype' + 'Of'] === 'function'?Object['setPrototype' + 'Of'](e,r):e.__proto__ = r:e.__proto__=r)},r.instanceof=function(e,r){return null!=r&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](e):e instanceof r},r.newArrowCheck=function(e,r){if(e!==r)throw new TypeError("Cannot instantiate an arrow function")},r.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},r.objectWithoutProperties=function(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},r.possibleConstructorReturn=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r},r.set=function e(r,t,n,o){var i=Object.getOwnPropertyDescriptor(r,t);if(void 0===i){var a=Object.getPrototypeOf(r);null!==a&&e(a,t,n,o)}else if("value"in i&&i.writable)i.value=n;else{var u=i.set;void 0!==u&&u.call(o,n)}return n},r.slicedToArray=function(){function e(e,r){var t=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r.taggedTemplateLiteral=function(e,r){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))},r.temporalRef=function(e,r,t){if(e===t)throw new ReferenceError(r+" is not defined - temporal dead zone");return e},r.temporalUndefined={},r.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},r.toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}}("undefined"==typeof global?self:global);
(function () {
'use notstrict';
try { eval('class foo {}'); eval("(()=>{if(!window.customElements)return;const a=window.HTMLElement,b=window.customElements.define,c=window.customElements.get,d=new Map,e=new Map;let f=!1,g=!1;window.HTMLElement=function(){if(!f){const a=d.get(this.constructor),b=c.call(window.customElements,a);g=!0;const e=new b;return e}f=!1;},window.HTMLElement.prototype=a.prototype;Object.defineProperty(window,'customElements',{value:window.customElements,configurable:!0,writable:!0}),Object.defineProperty(window.customElements,'define',{value:(c,h)=>{const i=h.prototype,j=class extends a{constructor(){super(),typeof Object['setPrototype' + 'Of'] === 'function'?Object['setPrototype' + 'Of'](this,i):this.__proto__ = i,g||(f=!0,h.call(this)),g=!1;}},k=j.prototype;j.observedAttributes=h.observedAttributes,k.connectedCallback=i.connectedCallback,k.disconnectedCallback=i.disconnectedCallback,k.attributeChangedCallback=i.attributeChangedCallback,k.adoptedCallback=i.adoptedCallback,d.set(h,c),e.set(c,h),b.call(window.customElements,c,j);},configurable:!0,writable:!0}),Object.defineProperty(window.customElements,'get',{value:(a)=>e.get(a),configurable:!0,writable:!0});})();") } catch (e) { }
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

}());
(function(){"use notstrict";function b(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function c(j){j=j.replace(v,"").replace(K,"");var a=j,c=new b;c.start=0,c.end=a.length;for(var d=c,e=0,f=a.length;e<f;e++)if("{"===a[e]){d.rules||(d.rules=[]);var h=d,g=h.rules[h.rules.length-1]||null;d=new b,d.start=e+1,d.parent=h,d.previous=g,h.rules.push(d)}else"}"===a[e]&&(d.end=e+1,d=d.parent||c);return i(c,j)}function i(h,a){var b=a.substring(h.start,h.end-1);if(h.parsedCssText=h.cssText=b.trim(),h.parent&&(b=a.substring(h.previous?h.previous.end:h.parent.start,h.start-1),b=g(b),b=b.replace(V," "),b=b.substring(b.lastIndexOf(";")+1),b=h.parsedSelector=h.selector=b.trim(),h.atRule=0===b.indexOf("@"),h.atRule?0===b.indexOf("@media")?h.type=u:b.match(U)&&(h.type=x,h.keyframesName=h.selector.split(V).pop()):h.type=0===b.indexOf("--")?t:k),b=h.rules)for(var c,f=0,d=b.length;f<d&&(c=b[f]);f++)i(c,a);return h}function g(b){return b.replace(/\\([0-9a-f]{1,6})\s/gi,function(b,a){for(b=a,a=6-b.length;a--;)b="0"+b;return"\\"+b})}function j(i,a,b){b=void 0===b?"":b;var c="";if(i.cssText||i.rules){var d,f=i.rules;if((d=f)&&(d=f[0],d=!(d&&d.selector&&0===d.selector.indexOf("--"))),d){d=0;for(var e,g=f.length;d<g&&(e=f[d]);d++)c=j(e,a,c)}else a?a=i.cssText:(a=i.cssText,a=a.replace(L,"").replace(N,""),a=a.replace(O,"").replace(P,"")),(c=a.trim())&&(c="  "+c+"\n")}return c&&(i.selector&&(b+=i.selector+" {\n"),b+=c,i.selector&&(b+="}\n\n")),b}function d(b){(b=B[b])&&(b._applyShimCurrentVersion=b._applyShimCurrentVersion||0,b._applyShimValidatingVersion=b._applyShimValidatingVersion||0,b._applyShimNextVersion=(b._applyShimNextVersion||0)+1)}function e(b){return b._applyShimCurrentVersion===b._applyShimNextVersion}function f(b){b._applyShimValidatingVersion=b._applyShimNextVersion,b.a||(b.a=!0,r.then(function(){b._applyShimCurrentVersion=b._applyShimNextVersion,b.a=!1}))}function a(b){J=b&&b.shimcssproperties?!1:W||!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")}function h(b){return b?("string"===typeof b&&(b=c(b)),j(b,X)):""}function l(b){return!b.__cssRules&&b.textContent&&(b.__cssRules=c(b.textContent)),b.__cssRules||null}function m(i,a,b,c){if(i){var d=!1,j=i.type;if(c&&j===u){var f=i.selector.match(G);f&&(window.matchMedia(f[1]).matches||(d=!0))}if(j===k?a(i):b&&j===x?b(i):j===t&&(d=!0),(i=i.rules)&&!d){d=0,j=i.length;for(var h;d<j&&(h=i[d]);d++)m(h,a,b,c)}}}function n(g,a){var b=g.indexOf("var(");if(-1===b)return a(g,"","","");a:{for(var c=0,d=b+3,e=g.length;d<e;d++)if("("===g[d])c++;else if(")"===g[d]&&0===--c)break a;d=-1}return c=g.substring(b+4,d),b=g.substring(0,b),g=n(g.substring(d+1),a),d=c.indexOf(","),-1===d?a(b,c.trim(),"",g):a(b,c.substring(0,d).trim(),c.substring(d+1).trim(),g)}function o(){this.a={}}function p(){this.b=this.c=null,this.a=new o}function q(c,a){return a=a.replace(Y,function(a,b,d,e){return w(c,a,b,d,e)}),s(c,a)}function s(i,a){for(var b;b=F.exec(a);){var c=b[0],d=b[1];b=b.index;var e=a.slice(0,b+c.indexOf("@apply"));a=a.slice(b+c.length);var f=y(i,e);c=void 0;var h=i;d=d.replace($,"");var g=[],j=h.a.get(d);if(j||(h.a.set(d,{}),j=h.a.get(d)),j)for(c in h.c&&(j.i[h.c]=!0),j.h)h=f&&f[c],j=[c,": var(",d,"_-_",c],h&&j.push(",",h),j.push(")"),g.push(j.join(""));c=g.join("; "),a=""+e+c+a,F.lastIndex=b+c.length}return a}function y(i,a){a=a.split(";");for(var b,c,d,h={},e=0;e<a.length;e++)if((b=a[e])&&(d=b.split(":"),1<d.length)){b=d[0].trim();var f=i;c=b,d=d.slice(1).join(":");var g=_.exec(d);g&&(g[1]?(f.b||(f.b=document.createElement("meta"),f.b.setAttribute("apply-shim-measure",""),f.b.style.all="initial",document.head.appendChild(f.b)),c=window.getComputedStyle(f.b).getPropertyValue(c)):c="apply-shim-inherit",d=c),c=d,h[b]=c}return h}function z(d,a){if(aa)for(var b in a.i)b!==d.c&&aa(b)}function w(i,a,b,c,d){if(c&&n(c,function(a,b){b&&i.a.get(b)&&(d="@apply "+b+";")}),!d)return a;var j=s(i,d),f=a.slice(0,a.indexOf("--")),h=j=y(i,j),g=i.a.get(b),k=g&&g.h;k?h=Object.assign(Object.create(k),j):i.a.set(b,h);var m,o=[],p=!1;for(m in h){var q=j[m];void 0===q&&(q="initial"),!k||m in k||(p=!0),o.push(""+b+"_-_"+m+": "+q)}return p&&z(i,g),g&&(g.h=h),c&&(f=a+";"+f),""+f+o.join("; ")+";"}function C(b){requestAnimationFrame(function(){Q?Q(b):(S||(S=new Promise(function(b){M=b}),"complete"===document.readyState?M():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&M()})),S.then(function(){b&&b()}))})}function D(){var b=this;this.a=null,C(function(){H(b)}),R.invalidCallback=d}function H(b){b.a||(b.a=window.ShadyCSS.CustomStyleInterface,b.a&&(b.a.transformCallback=function(b){R.f(b)},b.a.validateCallback=function(){requestAnimationFrame(function(){b.a.enqueued&&I(b)})}))}function I(e){if(H(e),e.a){var a=e.a.processStyles();if(e.a.enqueued){for(var b,d=0;d<a.length;d++)b=e.a.getStyleForCustomStyle(a[d]),b&&R.f(b);e.a.enqueued=!1}}}var J,B={},k=1,x=7,u=4,t=1E3,v=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,K=/@import[^;]*;/gim,L=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,N=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,O=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,P=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,U=/^@[^\s]*keyframes/,V=/\s+/g,r=Promise.resolve(),W=!(window.ShadyDOM&&window.ShadyDOM.inUse);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?J=window.ShadyCSS.nativeCss:window.ShadyCSS?(a(window.ShadyCSS),window.ShadyCSS=void 0):a(window.WebComponents&&window.WebComponents.flags);var X=J,Y=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,F=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,G=/@media\s(.*)/,$=/;\s*/m,_=/^\s*(initial)|(inherit)\s*$/;o.prototype.set=function(c,a){c=c.trim(),this.a[c]={h:a,i:{}}},o.prototype.get=function(b){return b=b.trim(),this.a[b]||null};var aa=null;p.prototype.o=function(b){return b=F.test(b)||Y.test(b),F.lastIndex=0,Y.lastIndex=0,b},p.prototype.m=function(d,a){d=d.content.querySelector("style");var b=null;return d&&(b=this.j(d,a)),b},p.prototype.j=function(d,a){a=void 0===a?"":a;var b=l(d);return this.l(b,a),d.textContent=h(b),b},p.prototype.f=function(d){var e=this,a=l(d);return m(a,function(b){":root"===b.selector&&(b.selector="html"),e.g(b)}),d.textContent=h(a),a},p.prototype.l=function(d,a){var b=this;this.c=a,m(d,function(c){b.g(c)}),this.c=null},p.prototype.g=function(b){b.cssText=q(this,b.parsedCssText),":root"===b.selector&&(b.selector=":host > *")},p.prototype.detectMixin=p.prototype.o,p.prototype.transformStyle=p.prototype.j,p.prototype.transformCustomStyle=p.prototype.f,p.prototype.transformRules=p.prototype.l,p.prototype.transformRule=p.prototype.g,p.prototype.transformTemplate=p.prototype.m,p.prototype._separator="_-_",Object.defineProperty(p.prototype,"invalidCallback",{get:function(){return aa},set:function(b){aa=b}});var M,S=null,Q=window.HTMLImports&&window.HTMLImports.whenReady||null,R=new p;if(D.prototype.prepareTemplate=function(c,a){H(this),B[a]=c,a=R.m(c,a),c._styleAst=a},D.prototype.styleSubtree=function(d,a){if(H(this),a)for(var b in a)null===b?d.style.removeProperty(b):d.style.setProperty(b,a[b]);if(d.shadowRoot)for(this.styleElement(d),d=d.shadowRoot.children||d.shadowRoot.childNodes,a=0;a<d.length;a++)this.styleSubtree(d[a]);else for(d=d.children||d.childNodes,a=0;a<d.length;a++)this.styleSubtree(d[a])},D.prototype.styleElement=function(d){H(this);var a,c=d.localName;a=c?-1<c.indexOf("-")?c:d.getAttribute&&d.getAttribute("is")||"":d.is,(c=B[a])&&!e(c)&&((e(c)||c._applyShimValidatingVersion!==c._applyShimNextVersion)&&(this.prepareTemplate(c,a),f(c)),(d=d.shadowRoot)&&(d=d.querySelector("style"))&&(d.__cssRules=c._styleAst,d.textContent=h(c._styleAst)))},D.prototype.styleDocument=function(b){H(this),this.styleSubtree(document.body,b)},!window.ShadyCSS||!window.ShadyCSS.ScopingShim){var T=new D,Z=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate:function(c,a){I(T),T.prepareTemplate(c,a)},styleSubtree:function(c,a){I(T),T.styleSubtree(c,a)},styleElement:function(b){I(T),T.styleElement(b)},styleDocument:function(b){I(T),T.styleDocument(b)},getComputedStyleValue:function(c,a){return(c=window.getComputedStyle(c).getPropertyValue(a))?c.trim():""},nativeCss:X,nativeShadow:W},Z&&(window.ShadyCSS.CustomStyleInterface=Z)}window.ShadyCSS.ApplyShim=R}).call(this);
(function(){'use notstrict';var a=window.Polymer;window.Polymer=function(a){return window.Polymer._polymerFn(a)},a&&Object.assign(Polymer,a),window.Polymer._polymerFn=function(){throw new Error('Load polymer.html to use the Polymer() function.')},window.Polymer.version='2.0.0',window.JSCompiler_renameProperty=function(a){return a}})();
(function(){'use notstrict';function a(a){return function(b){a.__mixinApplications||(a.__mixinApplications=new WeakMap);var c=a.__mixinApplications,d=c.get(b);return d||(d=a(b),c.set(b,d)),d}}var b=0;Polymer.dedupingMixin=function(c){return c=a(c),c.__dedupeId=++b,function(a){var b=a.__mixinSet;if(b&&b[c.__dedupeId])return a;var d=c(a);return d.__mixinSet=Object.create(d.__mixinSet||b||null),d.__mixinSet[c.__dedupeId]=!0,d}}})();
(function(){'use notstrict';var a={},b=/-[a-z]/g,c=/([A-Z])/g;Polymer.CaseMap={dashToCamelCase:function(c){return a[c]||(a[c]=0>c.indexOf('-')?c:c.replace(b,function(a){return a[1].toUpperCase()}))},camelToDashCase:function(b){return a[b]||(a[b]=b.replace(c,'-$1').toLowerCase())}}})();
(function(){'use notstrict';function a(a,d){if(a&&e.test(a))return a;if(void 0===b){b=!1;try{var f=new URL('b','http://a');f.pathname='c%20d',b='http://a/c%20d'===f.href}catch(a){}}return(d||(d=document.baseURI||window.location.href),b)?new URL(a,d).href:(c||(c=document.implementation.createHTMLDocument('temp'),c.base=c.createElement('base'),c.head.appendChild(c.base),c.anchor=c.createElement('a'),c.body.appendChild(c.anchor)),c.base.href=d,c.anchor.href=a,c.anchor.href||a)}var b,c,d=/(url\()([^)]*)(\))/g,e=/(^\/)|(^#)|(^[\w-\d]*:)/;Polymer.ResolveUrl={resolveCss:function(b,c){return b.replace(d,function(b,d,e,f){return d+'\''+a(e.replace(/["']/g,''),c)+'\''+f})},resolveUrl:a,pathFromUrl:function(a){return a.substring(0,a.lastIndexOf('/')+1)}}})();
(function(){'use notstrict';function a(a){return Polymer.DomModule?Polymer.DomModule['import'](a):null}Polymer.StyleGather={cssFromModules:function(a){for(var b=a.trim().split(' '),c='',d=0;d<b.length;d++)c+=this.cssFromModule(b[d]);return c},cssFromModule:function(b){var c=a(b);if(c&&void 0===c._cssText){var d='',e=c.querySelector('template');e&&(d+=this.cssFromTemplate(e,c.assetpath)),d+=this.cssFromModuleImports(b),c._cssText=d||null}return c||console.warn('Could not find style data in module named',b),c&&c._cssText||''},cssFromTemplate:function(a,b){for(var c='',d=a.content.querySelectorAll('style'),f=0;f<d.length;f++){var g=d[f],e=g.getAttribute('include');e&&(c+=this.cssFromModules(e)),g.parentNode.removeChild(g),c+=b?Polymer.ResolveUrl.resolveCss(g.textContent,b):g.textContent}return c},cssFromModuleImports:function(b){var c='',d=a(b);if(!d)return c;for(var e,f=d.querySelectorAll('link[rel=import][type~=css]'),g=0;g<f.length;g++)if(e=f[g],e['import']){var h=e['import'],i=h.body?h.body:h;c+=Polymer.ResolveUrl.resolveCss(i.textContent,h.baseURI)}return c}}})();
(function(){'use notstrict';function a(a){return c[a]||d[a.toLowerCase()]}function b(a){a.querySelector('style')&&console.warn('dom-module %s has style outside template',a.id)}var c={},d={},e=function(e){function f(){return babelHelpers.classCallCheck(this,f),babelHelpers.possibleConstructorReturn(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return babelHelpers.inherits(f,e),babelHelpers.createClass(f,[{key:'attributeChangedCallback',value:function(a,b,c){b!==c&&this.register()}},{key:'register',value:function(a){a=a||this.id,a&&(this.id=a,c[a]=this,d[a.toLowerCase()]=this,b(this))}},{key:'assetpath',get:function(){if(!this.__assetpath){var a=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,b=Polymer.ResolveUrl.resolveUrl(this.getAttribute('assetpath')||'',a.baseURI);this.__assetpath=Polymer.ResolveUrl.pathFromUrl(b)}return this.__assetpath}}],[{key:'import',value:function(b,c){if(b){var d=a(b);return d&&c?d.querySelector(c):d}return null}},{key:'observedAttributes',get:function(){return['id']}}]),f}(HTMLElement);e.prototype.modules=c,customElements.define('dom-module',e),Polymer.DomModule=e})();
(function(){'use notstrict';var a={isPath:function(a){return 0<=a.indexOf('.')},root:function(a){var b=a.indexOf('.');return-1===b?a:a.slice(0,b)},isAncestor:function(a,b){return 0===a.indexOf(b+'.')},isDescendant:function(a,b){return 0===b.indexOf(a+'.')},translate:function(a,b,c){return b+c.slice(a.length)},matches:function(a,b){return a===b||this.isAncestor(a,b)||this.isDescendant(a,b)},normalize:function(a){if(Array.isArray(a)){for(var b,c=[],d=0;d<a.length;d++){b=a[d].toString().split('.');for(var e=0;e<b.length;e++)c.push(b[e])}return c.join('.')}return a},split:function(a){return Array.isArray(a)?this.normalize(a).split('.'):a.toString().split('.')},get:function(a,b,c){for(var d=a,e=this.split(b),f=0;f<e.length;f++){if(!d)return;var g=e[f];d=d[g]}return c&&(c.path=e.join('.')),d},set:function(a,b,c){var d=a,e=this.split(b),f=e[e.length-1];if(1<e.length){for(var g,h=0;h<e.length-1;h++)if(g=e[h],d=d[g],!d)return;d[f]=c}else d[b]=c;return e.join('.')}};a.isDeep=a.isPath,Polymer.Path=a})();
(function(){'use notstrict';var a=0,b=0,c=[],d=0,e=document.createTextNode('');new window.MutationObserver(function(){for(var a,d=c.length,e=0;e<d;e++)if(a=c[e],a)try{a()}catch(a){setTimeout(function(){throw a})}c.splice(0,d),b+=d}).observe(e,{characterData:!0}),Polymer.Async={timeOut:{after:function(a){return{run:function(b){return setTimeout(b,a)},cancel:window.clearTimeout.bind(window)}},run:window.setTimeout.bind(window),cancel:window.clearTimeout.bind(window)},animationFrame:{run:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)},idlePeriod:{run:function(a){return window.requestIdleCallback?window.requestIdleCallback(a):window.setTimeout(a,16)},cancel:function(a){window.cancelIdleCallback?window.cancelIdleCallback(a):window.clearTimeout(a)}},microTask:{run:function(b){return e.textContent=d++,c.push(b),a++},cancel:function(a){var d=a-b;if(0<=d){if(!c[d])throw new Error('invalid async handle: '+a);c[d]=null}}}}})();
(function(){'use notstrict';function a(a,b){if(!d[b]){var c=a[b];c!==void 0&&(a.__data?a._setPendingProperty(b,c):(a.__dataProto?!a.hasOwnProperty(JSCompiler_renameProperty('__dataProto',a))&&(a.__dataProto=Object.create(a.__dataProto)):a.__dataProto={},a.__dataProto[b]=c))}}for(var b=Polymer.CaseMap,c=Polymer.Async.microTask,d={},e=HTMLElement.prototype;e;){for(var f=Object.getOwnPropertyNames(e),g=0;g<f.length;g++)d[f[g]]=!0;e=Object.getPrototypeOf(e)}Polymer.PropertyAccessors=Polymer.dedupingMixin(function(d){var e=function(d){function e(){babelHelpers.classCallCheck(this,e);var a=babelHelpers.possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a._initializeProperties(),a}return babelHelpers.inherits(e,d),babelHelpers.createClass(e,null,[{key:'createPropertiesForAttributes',value:function(){for(var a=this.observedAttributes,c=0;c<a.length;c++)this.prototype._createPropertyAccessor(b.dashToCamelCase(a[c]))}}]),babelHelpers.createClass(e,[{key:'attributeChangedCallback',value:function(a,b,c){b!==c&&this._attributeToProperty(a,c)}},{key:'_initializeProperties',value:function(){for(var a in this.__serializing=!1,this.__dataCounter=0,this.__dataEnabled=!1,this.__dataInitialized=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),this.__dataHasAccessor)this.hasOwnProperty(a)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[a]=this[a],delete this[a])}},{key:'_initializeProtoProperties',value:function(a){for(var b in a)this._setProperty(b,a[b])}},{key:'_initializeInstanceProperties',value:function(a){Object.assign(this,a)}},{key:'_ensureAttribute',value:function(a,b){this.hasAttribute(a)||this._valueToNodeAttribute(this,b,a)}},{key:'_attributeToProperty',value:function(a,c,d){if(!this.__serializing){var e=b.dashToCamelCase(a);this[e]=this._deserializeValue(c,d)}}},{key:'_propertyToAttribute',value:function(a,c,d){this.__serializing=!0,d=3>arguments.length?this[a]:d,this._valueToNodeAttribute(this,d,c||b.camelToDashCase(a)),this.__serializing=!1}},{key:'_valueToNodeAttribute',value:function(a,b,c){var d=this._serializeValue(b);void 0===d?a.removeAttribute(c):a.setAttribute(c,d)}},{key:'_serializeValue',value:function(a){switch('undefined'===typeof a?'undefined':babelHelpers['typeof'](a)){case'boolean':return a?'':void 0;case'object':if(a instanceof Date)return a.toString();if(a)try{return JSON.stringify(a)}catch(a){return''}default:return null==a?void 0:a.toString();}}},{key:'_deserializeValue',value:function(a,b){var c;switch(b){case Number:c=+a;break;case Boolean:c=null!==a;break;case Object:try{c=JSON.parse(a)}catch(a){}break;case Array:try{c=JSON.parse(a)}catch(b){c=null,console.warn('Polymer::Attributes: couldn\'t decode Array as JSON: '+a)}break;case Date:c=new Date(a);break;case String:default:c=a;}return c}},{key:'_createPropertyAccessor',value:function(b,c){this.hasOwnProperty('__dataHasAccessor')||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[b]||(this.__dataHasAccessor[b]=!0,a(this,b),Object.defineProperty(this,b,{get:function(){return this.__data[b]},set:c?function(){}:function(a){this._setProperty(b,a)}}))}},{key:'_hasAccessor',value:function(a){return this.__dataHasAccessor&&this.__dataHasAccessor[a]}},{key:'_setProperty',value:function(a,b){this._setPendingProperty(a,b)&&this._invalidateProperties()}},{key:'_setPendingProperty',value:function(a,b){var c=this.__data[a];if(this._shouldPropertyChange(a,b,c))return this.__dataPending||(this.__dataPending={},this.__dataOld={}),a in this.__dataOld||(this.__dataOld[a]=c),this.__data[a]=b,this.__dataPending[a]=b,!0}},{key:'_isPropertyPending',value:function(a){return this.__dataPending&&a in this.__dataPending}},{key:'_invalidateProperties',value:function(){var a=this;!this.__dataInvalid&&this.__dataInitialized&&(this.__dataInvalid=!0,c.run(function(){a.__dataInvalid&&(a.__dataInvalid=!1,a._flushProperties())}))}},{key:'_enableProperties',value:function(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}},{key:'_flushProperties',value:function(){if(this.__dataPending){var a=this.__dataPending;this.__dataPending=null,this.__dataCounter++,this._propertiesChanged(this.__data,a,this.__dataOld),this.__dataCounter--}}},{key:'ready',value:function(){this.__dataInitialized=!0,this._flushProperties()}},{key:'_propertiesChanged',value:function(){}},{key:'_shouldPropertyChange',value:function(a,b,c){return c!==b&&(c===c||b===b)}}]),e}(d);return e})})();
(function(){'use notstrict';function a(a){var b=a.getAttribute('is');if(b&&g[b]){var c=a;for(c.removeAttribute('is'),a=c.ownerDocument.createElement(b),c.parentNode.replaceChild(a,c),a.appendChild(c);c.attributes.length;)a.setAttribute(c.attributes[0].name,c.attributes[0].value),c.removeAttribute(c.attributes[0].name)}return a}function b(a,c){var d=c.parentInfo&&b(a,c.parentInfo);if(d){for(var e=d.firstChild,f=0;e;e=e.nextSibling)if(c.parentIndex===f++)return e;}else return a}function c(a,b,c,d){d.id&&(b[d.id]=c)}function d(a,b,c){if(c.events&&c.events.length)for(var d,e=0,f=c.events;e<f.length&&(d=f[e]);e++)a._addMethodEventListenerToNode(b,d.name,d.value,a)}function e(a,b,c){c.templateInfo&&(b._templateInfo=c.templateInfo)}function f(a,b,c){a=a._methodHost||a;return function(b){a[c]?a[c](b,b.detail):console.warn('listener method `'+c+'` not defined')}}var g={"dom-if":!0,"dom-repeat":!0};Polymer.TemplateStamp=Polymer.dedupingMixin(function(g){var h=function(g){function h(){return babelHelpers.classCallCheck(this,h),babelHelpers.possibleConstructorReturn(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return babelHelpers.inherits(h,g),babelHelpers.createClass(h,[{key:'_stampTemplate',value:function(a){a&&!a.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(a);var f=this.constructor._parseTemplate(a),g=f.nodeInfoList,h=f.content||a.content,j=document.importNode(h,!0);j.__noInsertionPoint=!f.hasInsertionPoint;var k=j.nodeList=Array(g.length);j.$={};for(var m,n,o=0,i=g.length;o<i&&(m=g[o]);o++)n=k[o]=b(j,m),c(this,j.$,n,m),e(this,n,m),d(this,n,m);return j}},{key:'_addMethodEventListenerToNode',value:function(a,b,c,d){d=d||a;var e=f(d,b,c);return this._addEventListenerToNode(a,b,e),e}},{key:'_addEventListenerToNode',value:function(a,b,c){a.addEventListener(b,c)}},{key:'_removeEventListenerFromNode',value:function(a,b,c){a.removeEventListener(b,c)}}],[{key:'_parseTemplate',value:function(a,b){if(!a._templateInfo){var c=a._templateInfo={};c.nodeInfoList=[],c.stripWhiteSpace=b&&b.stripWhiteSpace||a.hasAttribute('strip-whitespace'),this._parseTemplateContent(a,c,{parent:null})}return a._templateInfo}},{key:'_parseTemplateContent',value:function(a,b,c){return this._parseTemplateNode(a.content,b,c)}},{key:'_parseTemplateNode',value:function(a,b,c){var d;return'template'!=a.localName||a.hasAttribute('preserve-content')?'slot'===a.localName&&(b.hasInsertionPoint=!0):d=this._parseTemplateNestedTemplate(a,b,c)||d,a.firstChild&&(d=this._parseTemplateChildNodes(a,b,c)||d),a.hasAttributes&&a.hasAttributes()&&(d=this._parseTemplateNodeAttributes(a,b,c)||d),d}},{key:'_parseTemplateChildNodes',value:function(b,c,d){for(var e,f=b.firstChild,g=0;f;f=e){if('template'==f.localName&&(f=a(f)),e=f.nextSibling,f.nodeType===Node.TEXT_NODE){for(var h=e;h&&h.nodeType===Node.TEXT_NODE;)f.textContent+=h.textContent,e=h.nextSibling,b.removeChild(h),h=e;if(c.stripWhiteSpace&&!f.textContent.trim()){b.removeChild(f);continue}}var i={parentIndex:g,parentInfo:d};this._parseTemplateNode(f,c,i)&&(i.infoIndex=c.nodeInfoList.push(i)-1),f.parentNode&&g++}}},{key:'_parseTemplateNestedTemplate',value:function(a,b,c){var d=this._parseTemplate(a,b),e=d.content=a.content.ownerDocument.createDocumentFragment();return e.appendChild(a.content),c.templateInfo=d,!0}},{key:'_parseTemplateNodeAttributes',value:function(b,c,d){for(var e,a=void 0,f=Array.from(b.attributes),g=f.length-1;e=f[g];g--)a=this._parseTemplateNodeAttribute(b,c,d,e.name,e.value)||a;return a}},{key:'_parseTemplateNodeAttribute',value:function(a,b,c,d,e){return'on-'===d.slice(0,3)?(a.removeAttribute(d),c.events=c.events||[],c.events.push({name:d.slice(3),value:e}),!0):'id'===d?(c.id=e,!0):void 0}},{key:'_contentForTemplate',value:function(a){var b=a.__templateInfo;return b&&b.content||a.content}}]),h}(g);return h})})();
(function(){'use notstrict';function e(e,t){var a=e[t];if(!a)a=e[t]={};else if(!e.hasOwnProperty(t))for(var r in a=e[t]=Object.create(e[t]),a)for(var n=a[r],o=a[r]=Array(n.length),p=0;p<n.length;p++)o[p]=n[p];return a}function t(e,t,r,n,o,i){if(t){var p=!1,d=z++;for(var s in r)a(e,t,d,s,r,n,o,i)&&(p=!0);return p}return!1}function a(e,t,a,n,o,p,d,s){var _=!1,y=d?Polymer.Path.root(n):n,u=t[y];if(u)for(var h,f=0,i=u.length;f<i&&(h=u[f]);f++)h.info&&h.info.lastRun===a||d&&!r(n,h.trigger)||(h.info&&(h.info.lastRun=a),h.fn(e,n,o,p,h.info,d,s),_=!0);return _}function r(e,t){if(t){var a=t.name;return a==e||t.structured&&Polymer.Path.isAncestor(a,e)||t.wildcard&&Polymer.Path.isDescendant(a,e)}return!0}function n(e,t,a,r,n){var o=e[n.methodName],i=n.property;o?o.call(e,e.__data[i],r[i]):!n.dynamicFn&&console.warn('observer method `'+n.methodName+'` not defined')}function o(e,t,r,n,o){var p,d=e.__notifyEffects,s=z++;for(var _ in t)t[_]&&(d&&a(e,d,s,_,r,n,o)?p=!0:o&&i(e,_,r)&&(p=!0));var l;p&&(l=e.__dataHost)&&l._invalidateProperties&&l._invalidateProperties()}function i(e,t,a){var r=Polymer.Path.root(t);if(r!==t){var n=Polymer.CaseMap.camelToDashCase(r)+'-changed';return p(e,n,a[t],t),!0}}function p(e,t,a,r){var n={value:a,queueProperty:!0};r&&(n.path=r),e.dispatchEvent(new CustomEvent(t,{detail:n}))}function d(e,t,a,r,n,o){var i=o?Polymer.Path.root(t):t,d=i==t?null:t,s=d?Polymer.Path.get(e,d):e.__data[t];d&&s===void 0&&(s=a[t]),p(e,n.eventName,s,d)}function s(e,t,a,r,n){var o,i=e.detail,p=i&&i.path;p?(r=Polymer.Path.translate(a,r,p),o=i&&i.value):o=e.target[a],o=n?!o:o,t.__readOnly&&t.__readOnly[r]||!t._setPendingPropertyOrPath(r,o,!0,!!p)||i&&i.queueProperty||t._invalidateProperties()}function _(e,t,a,r,n){var o=e.__data[t];Polymer.sanitizeDOMValue&&(o=Polymer.sanitizeDOMValue(o,n.attrName,'attribute',e)),e._propertyToAttribute(t,n.attrName,o)}function l(e,a,r,n){var o=e.__computeEffects;if(o)for(var i=a;t(e,o,i,r,n);)Object.assign(r,e.__dataOld),Object.assign(a,e.__dataPending),i=e.__dataPending,e.__dataPending=null}function y(e,t,a,r,n){var o=O(e,t,a,r,n),i=n.methodInfo;e.__dataHasAccessor&&e.__dataHasAccessor[i]?e._setPendingProperty(i,o,!0):e[i]=o}function u(e,t,r){var n=e.__dataLinkedPaths;if(n){var o;for(var i in n){var a=n[i];Polymer.Path.isDescendant(i,t)?(o=Polymer.Path.translate(i,a,t),e._setPendingPropertyOrPath(o,r,!0,!0)):Polymer.Path.isDescendant(a,t)&&(o=Polymer.Path.translate(a,i,t),e._setPendingPropertyOrPath(o,r,!0,!0))}}}function h(e,t,a,r,n,o,p){a.bindings=a.bindings||[];var d={kind:r,target:n,parts:o,literal:p,isCompound:1!==o.length};if(a.bindings.push(d),m(d)){var s=d.parts[0],_=s.event,l=s.negate;d.listenerEvent=_||H.camelToDashCase(n)+'-changed',d.listenerNegate=l}for(var y,u=t.nodeInfoList.length,h=0;h<d.parts.length;h++)y=d.parts[h],y.compoundIndex=h,f(e,t,d,y,u)}function f(e,t,a,r,n){if(!r.literal)if('attribute'===a.kind&&'-'===a.target[0])console.warn('Cannot set attribute '+a.target+' because "-" is not a valid attribute starting character');else for(var o,i=r.dependencies,p={index:n,binding:a,part:r,evaluator:e},d=0;d<i.length;d++)o=i[d],'string'==typeof o&&(o=I(o),o.wildcard=!0),e._addTemplatePropertyEffect(t,o.rootProperty,{fn:P,info:p,trigger:o})}function P(e,t,a,r,n,o,i){var p=i[n.index],d=n.binding,s=n.part;if(o&&s.source&&t.length>s.source.length&&'property'==d.kind&&!d.isCompound&&p.__dataHasAccessor&&p.__dataHasAccessor[d.target]){var _=a[t];t=Polymer.Path.translate(s.source,d.target,t),p._setPendingPropertyOrPath(t,_,!1,!0)&&e._enqueueClient(p)}else{var l=n.evaluator._evaluateBinding(e,s,t,a,r,o);g(e,p,d,s,l)}}function g(e,t,a,r,n){if(n=c(t,n,a,r),Polymer.sanitizeDOMValue&&(n=Polymer.sanitizeDOMValue(n,a.target,a.kind,t)),'attribute'==a.kind)e._valueToNodeAttribute(t,n,a.target);else{var o=a.target;t.__dataHasAccessor&&t.__dataHasAccessor[o]?(!t.__readOnly||!t.__readOnly[o])&&t._setPendingProperty(o,n)&&e._enqueueClient(t):e._setUnmanagedPropertyToNode(t,o,n)}}function c(e,t,a,r){if(a.isCompound){var n=e.__dataCompoundStorage[a.target];n[r.compoundIndex]=t,t=n.join('')}return'attribute'!==a.kind&&('textContent'===a.target||'input'==e.localName&&'value'==a.target)&&(t=void 0==t?'':t),t}function m(e){return e.target&&'attribute'!=e.kind&&'text'!=e.kind&&!e.isCompound&&'{'===e.parts[0].mode}function v(e,t){var a=t.nodeList,r=t.nodeInfoList;if(r.length)for(var n=0;n<r.length;n++){var o=r[n],i=a[n],p=o.bindings;if(p)for(var d,s=0;s<p.length;s++)d=p[s],k(i,d),E(i,e,d);i.__dataHost=e}}function k(e,t){if(t.isCompound){for(var a=e.__dataCompoundStorage||(e.__dataCompoundStorage={}),r=t.parts,n=Array(r.length),o=0;o<r.length;o++)n[o]=r[o].literal;var i=t.target;a[i]=n,t.literal&&'property'==t.kind&&(e[i]=t.literal)}}function E(e,t,a){if(a.listenerEvent){var r=a.parts[0];e.addEventListener(a.listenerEvent,function(n){s(n,t,a.target,r.source,r.negate)})}}function C(e,t,a,r,n,o){o=t['static']||o&&('object'!==('undefined'===typeof o?'undefined':babelHelpers['typeof'](o))||o[t.methodName]);for(var p,d={methodName:t.methodName,args:t.args,methodInfo:n,dynamicFn:o},s=0;s<t.args.length&&(p=t.args[s]);s++)p.literal||e._addPropertyEffect(p.rootProperty,a,{fn:r,info:d,trigger:p});o&&e._addPropertyEffect(t.methodName,a,{fn:r,info:d})}function O(e,t,a,r,n){var o=e._methodHost||e,i=o[n.methodName];if(i){var p=x(e.__data,n.args,t,a);return i.apply(o,p)}n.dynamicFn||console.warn('method `'+n.methodName+'` not defined')}function T(e){for(var t,a='',r=0;r<e.length;r++)t=e[r].literal,a+=t||'';return a}function b(e){var t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){var a=t[1],r={methodName:a,static:!0};if(t[2].trim()){var n=t[2].replace(/\\,/g,'&comma;').split(',');return N(n,r)}return r.args=M,r}return null}function N(e,t){return t.args=e.map(function(e){var a=I(e);return a.literal||(t['static']=!1),a},this),t}function I(e){var t=e.trim().replace(/&comma;/g,',').replace(/\\(.)/g,'$1'),r={name:t},a=t[0];return'-'===a&&(a=t[1]),'0'<=a&&'9'>=a&&(a='#'),'\''===a||'"'===a?(r.value=t.slice(1,-1),r.literal=!0):'#'===a?(r.value=+t,r.literal=!0):void 0,(r.literal||(r.rootProperty=Polymer.Path.root(t),r.structured=Polymer.Path.isPath(t),r.structured&&(r.wildcard='.*'==t.slice(-2),r.wildcard&&(r.name=t.slice(0,-2)))),r)}function x(e,t,a,r){for(var n=[],o=0,i=t.length;o<i;o++){var p=t[o],d=p.name,s=void 0;if(p.literal?s=p.value:p.structured?(s=Polymer.Path.get(e,d),void 0===s&&(s=r[d])):s=e[d],p.wildcard){var _=0===d.indexOf(a+'.'),l=0===a.indexOf(d)&&!_;n[o]={path:l?a:d,value:l?r[a]:s,base:s}}else n[o]=s}return n}function A(e,t,a,r){var n=a+'.splices';e.notifyPath(n,{indexSplices:r}),e.notifyPath(a+'.length',t.length),e.__data[n]={indexSplices:null}}function L(e,t,a,r,n,o){A(e,t,a,[{index:r,addedCount:n,removed:o,object:t,type:'splice'}])}function R(e){return e[0].toUpperCase()+e.substring(1)}var H=Polymer.CaseMap,z=0,D={COMPUTE:'__computeEffects',REFLECT:'__reflectEffects',NOTIFY:'__notifyEffects',PROPAGATE:'__propagateEffects',OBSERVE:'__observeEffects',READ_ONLY:'__readOnly'},M=[],S='(?:[a-zA-Z_$][\\w.:$\\-*]*)',F='(?:'+S+'|'+'(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)'+'|'+('(?:'+'(?:\'(?:[^\'\\\\]|\\\\.)*\')'+'|'+'(?:"(?:[^"\\\\]|\\\\.)*")'+')')+'\\s*)',w=/(\[\[|{{)\s*(?:(!)\s*)?((?:[a-zA-Z_$][\w.:$\-*]*)\s*(?:\(\s*(?:(?:(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*)(?:,\s*(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*))*)?)\)\s*)?)(?:]]|}})/g;Polymer.PropertyEffects=Polymer.dedupingMixin(function(a){var r=Polymer.TemplateStamp(Polymer.PropertyAccessors(a)),i=function(a){function r(){return babelHelpers.classCallCheck(this,r),babelHelpers.possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return babelHelpers.inherits(r,a),babelHelpers.createClass(r,[{key:'_initializeProperties',value:function(){babelHelpers.get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),'_initializeProperties',this).call(this),B.registerHost(this),this.__dataClientsInitialized=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={}}},{key:'_initializeProtoProperties',value:function(e){this.__data=Object.create(e),this.__dataPending=Object.create(e),this.__dataOld={}}},{key:'_initializeInstanceProperties',value:function(e){var t=this.__readOnly;for(var a in e)t&&t[a]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[a]=this.__dataPending[a]=e[a])}},{key:'_addPropertyEffect',value:function(t,a,r){this._createPropertyAccessor(t,a==D.READ_ONLY);var n=e(this,a)[t];n||(n=this[a][t]=[]),n.push(r)}},{key:'_removePropertyEffect',value:function(t,a,r){var n=e(this,a)[t],o=n.indexOf(r);0<=o&&n.splice(o,1)}},{key:'_hasPropertyEffect',value:function(e,t){var a=this[t];return!!(a&&a[e])}},{key:'_hasReadOnlyEffect',value:function(e){return this._hasPropertyEffect(e,D.READ_ONLY)}},{key:'_hasNotifyEffect',value:function(e){return this._hasPropertyEffect(e,D.NOTIFY)}},{key:'_hasReflectEffect',value:function(e){return this._hasPropertyEffect(e,D.REFLECT)}},{key:'_hasComputedEffect',value:function(e){return this._hasPropertyEffect(e,D.COMPUTE)}},{key:'_setPendingPropertyOrPath',value:function(e,t,a,n){if(n||Polymer.Path.root(Array.isArray(e)?e[0]:e)!==e){if(!n){var o=Polymer.Path.get(this,e);if(e=Polymer.Path.set(this,e,t),!e||!babelHelpers.get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),'_shouldPropertyChange',this).call(this,e,t,o))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(e,t,a))return u(this,e,t),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[e])return this._setPendingProperty(e,t,a);this[e]=t}return!1}},{key:'_setUnmanagedPropertyToNode',value:function(e,t,a){(a!==e[t]||'object'==('undefined'===typeof a?'undefined':babelHelpers['typeof'](a)))&&(e[t]=a)}},{key:'_setPendingProperty',value:function(e,t,a){var r=this.__dataHasPaths&&Polymer.Path.isPath(e),n=r?this.__dataTemp:this.__data;if(this._shouldPropertyChange(e,t,n[e]))return this.__dataPending||(this.__dataPending={},this.__dataOld={}),e in this.__dataOld||(this.__dataOld[e]=this.__data[e]),r?this.__dataTemp[e]=t:this.__data[e]=t,this.__dataPending[e]=t,(r||this.__notifyEffects&&this.__notifyEffects[e])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[e]=a),!0}},{key:'_setProperty',value:function(e,t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}},{key:'_invalidateProperties',value:function(){this.__dataInitialized&&this._flushProperties()}},{key:'_enqueueClient',value:function(e){this.__dataPendingClients=this.__dataPendingClients||[],e!==this&&this.__dataPendingClients.push(e)}},{key:'_flushClients',value:function(){if(!this.__dataClientsInitialized)this.__dataClientsInitialized=!0,this._readyClients(),this.__dataInitialized=!0;else{var e=this.__dataPendingClients;if(e){this.__dataPendingClients=null;for(var t,a=0;a<e.length;a++)t=e[a],t.__dataPending&&t._flushProperties()}}}},{key:'_readyClients',value:function(){var e=this.__dataPendingClients;if(e){this.__dataPendingClients=null;for(var t,a=0;a<e.length;a++)t=e[a],t.__dataEnabled||t._enableProperties()}}},{key:'setProperties',value:function(e,t){for(var a in e)!t&&this.__readOnly&&this.__readOnly[a]||this._setPendingPropertyOrPath(a,e[a],!0);this._invalidateProperties()}},{key:'ready',value:function(){this._flushProperties(),this.__dataClientsInitialized||this._flushClients(),this.__dataPending&&this._flushProperties()}},{key:'_propertiesChanged',value:function(e,a,r){var n=this.__dataHasPaths;this.__dataHasPaths=!1,l(this,a,r,n);var i=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(a,r,n),this._flushClients(),t(this,this.__reflectEffects,a,r,n),t(this,this.__observeEffects,a,r,n),i&&o(this,i,a,r,n),1==this.__dataCounter&&(this.__dataTemp={})}},{key:'_propagatePropertyChanges',value:function(e,a,r){this.__propagateEffects&&t(this,this.__propagateEffects,e,a,r);for(var n=this.__templateInfo;n;)t(this,n.propertyEffects,e,a,r,n.nodeList),n=n.nextTemplateInfo}},{key:'linkPaths',value:function(e,t){e=Polymer.Path.normalize(e),t=Polymer.Path.normalize(t),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[e]=t}},{key:'unlinkPaths',value:function(e){e=Polymer.Path.normalize(e),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[e]}},{key:'notifySplices',value:function(e,t){var a={},r=Polymer.Path.get(this,e,a);A(this,r,a.path,t)}},{key:'get',value:function(e,t){return Polymer.Path.get(t||this,e)}},{key:'set',value:function(e,t,a){a?Polymer.Path.set(a,e,t):(!this.__readOnly||!this.__readOnly[e])&&this._setPendingPropertyOrPath(e,t,!0)&&this._invalidateProperties()}},{key:'push',value:function(e){for(var t={},a=Polymer.Path.get(this,e,t),r=a.length,n=arguments.length,o=Array(1<n?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var p=a.push.apply(a,o);return o.length&&L(this,a,t.path,r,o.length,[]),p}},{key:'pop',value:function(e){var t={},a=Polymer.Path.get(this,e,t),r=!!a.length,n=a.pop();return r&&L(this,a,t.path,a.length,0,[n]),n}},{key:'splice',value:function(e,t,a){var r=Math.floor,n={},o=Polymer.Path.get(this,e,n);t=0>t?o.length-r(-t):r(t),t||(t=0);for(var i=arguments.length,p=Array(3<i?i-3:0),d=3;d<i;d++)p[d-3]=arguments[d];var s=o.splice.apply(o,[t,a].concat(p));return(p.length||s.length)&&L(this,o,n.path,t,p.length,s),s}},{key:'shift',value:function(e){var t={},a=Polymer.Path.get(this,e,t),r=!!a.length,n=a.shift();return r&&L(this,a,t.path,0,0,[n]),n}},{key:'unshift',value:function(e){for(var t={},a=Polymer.Path.get(this,e,t),r=arguments.length,n=Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var i=a.unshift.apply(a,n);return n.length&&L(this,a,t.path,0,n.length,[]),i}},{key:'notifyPath',value:function(e,t){var a;if(1==arguments.length){var r={};t=Polymer.Path.get(this,e,r),a=r.path}else a=Array.isArray(e)?Polymer.Path.normalize(e):e;this._setPendingPropertyOrPath(a,t,!0,!0)&&this._invalidateProperties()}},{key:'_createReadOnlyProperty',value:function(e,t){this._addPropertyEffect(e,D.READ_ONLY),t&&(this['_set'+R(e)]=function(t){this._setProperty(e,t)})}},{key:'_createPropertyObserver',value:function(e,t,a){var r={property:e,methodName:t,dynamicFn:a};this._addPropertyEffect(e,D.OBSERVE,{fn:n,info:r,trigger:{name:e}}),a&&this._addPropertyEffect(t,D.OBSERVE,{fn:n,info:r,trigger:{name:t}})}},{key:'_createMethodObserver',value:function(e,t){var a=b(e);if(!a)throw new Error('Malformed observer expression \''+e+'\'');C(this,a,D.OBSERVE,O,null,t)}},{key:'_createNotifyingProperty',value:function(e){this._addPropertyEffect(e,D.NOTIFY,{fn:d,info:{eventName:H.camelToDashCase(e)+'-changed',property:e}})}},{key:'_createReflectedProperty',value:function(e){var t=H.camelToDashCase(e);'-'===t[0]?console.warn('Property '+e+' cannot be reflected to attribute '+t+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property thisead.'):this._addPropertyEffect(e,D.REFLECT,{fn:_,info:{attrName:t}})}},{key:'_createComputedProperty',value:function(e,t,a){var r=b(t);if(!r)throw new Error('Malformed computed expression \''+t+'\'');C(this,r,D.COMPUTE,y,e,a)}},{key:'_bindTemplate',value:function(e,t){var a=this.constructor._parseTemplate(e),r=this.__templateInfo==a;if(!r)for(var n in a.propertyEffects)this._createPropertyAccessor(n);if(t&&(a=Object.create(a),a.wasPreBound=r,!r&&this.__templateInfo)){var o=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=o.nextTemplateInfo=a,a.previousTemplateInfo=o,a}return this.__templateInfo=a}},{key:'_stampTemplate',value:function(e){B.beginHosting(this);var a=babelHelpers.get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),'_stampTemplate',this).call(this,e);B.endHosting(this);var o=this._bindTemplate(e,!0);if(o.nodeList=a.nodeList,!o.wasPreBound)for(var i=o.childNodes=[],p=a.firstChild;p;p=p.nextSibling)i.push(p);return a.templateInfo=o,v(this,o),this.__dataInitialized&&t(this,o.propertyEffects,this.__data,null,!1,o.nodeList),a}},{key:'_removeBoundDom',value:function(e){var t=e.templateInfo;t.previousTemplateInfo&&(t.previousTemplateInfo.nextTemplateInfo=t.nextTemplateInfo),t.nextTemplateInfo&&(t.nextTemplateInfo.previousTemplateInfo=t.previousTemplateInfo),this.__templateInfoLast==t&&(this.__templateInfoLast=t.previousTemplateInfo),t.previousTemplateInfo=t.nextTemplateInfo=null;for(var a,r=t.childNodes,n=0;n<r.length;n++)a=r[n],a.parentNode.removeChild(a)}},{key:'PROPERTY_EFFECT_TYPES',get:function(){return D}}],[{key:'addPropertyEffect',value:function(e,t,a){this.prototype._addPropertyEffect(e,t,a)}},{key:'createPropertyObserver',value:function(e,t,a){this.prototype._createPropertyObserver(e,t,a)}},{key:'createMethodObserver',value:function(e,t){this.prototype._createMethodObserver(e,t)}},{key:'createNotifyingProperty',value:function(e){this.prototype._createNotifyingProperty(e)}},{key:'createReadOnlyProperty',value:function(e,t){this.prototype._createReadOnlyProperty(e,t)}},{key:'createReflectedProperty',value:function(e){this.prototype._createReflectedProperty(e)}},{key:'createComputedProperty',value:function(e,t,a){this.prototype._createComputedProperty(e,t,a)}},{key:'bindTemplate',value:function(e){return this.prototype._bindTemplate(e)}},{key:'_addTemplatePropertyEffect',value:function(e,t,a){var r=e.hostProps=e.hostProps||{};r[t]=!0;var n=e.propertyEffects=e.propertyEffects||{},o=n[t]=n[t]||[];o.push(a)}},{key:'_parseTemplateNode',value:function(e,t,a){var n=babelHelpers.get(r.__proto__||Object.getPrototypeOf(r),'_parseTemplateNode',this).call(this,e,t,a);if(e.nodeType===Node.TEXT_NODE){var o=this._parseBindings(e.textContent,t);o&&(e.textContent=T(o)||' ',h(this,t,a,'text','textContent',o),n=!0)}return n}},{key:'_parseTemplateNodeAttribute',value:function(e,t,a,n,o){var i=this._parseBindings(o,t);if(i){var p=n,d='property';'$'==n[n.length-1]&&(n=n.slice(0,-1),d='attribute');var s=T(i);return s&&'attribute'==d&&e.setAttribute(n,s),'input'===e.localName&&'value'===p&&e.setAttribute(p,''),e.removeAttribute(p),'property'===d&&(n=Polymer.CaseMap.dashToCamelCase(n)),h(this,t,a,d,n,i,s),!0}return babelHelpers.get(r.__proto__||Object.getPrototypeOf(r),'_parseTemplateNodeAttribute',this).call(this,e,t,a,n,o)}},{key:'_parseTemplateNestedTemplate',value:function(e,t,a){var n=babelHelpers.get(r.__proto__||Object.getPrototypeOf(r),'_parseTemplateNestedTemplate',this).call(this,e,t,a),o=a.templateInfo.hostProps;for(var i in o){h(this,t,a,'property','_host_'+i,[{mode:'{',source:i,dependencies:[i]}])}return n}},{key:'_parseBindings',value:function(e,t){for(var a,r=[],n=0;null!==(a=w.exec(e));){a.index>n&&r.push({literal:e.slice(n,a.index)});var o=a[1][0],p=!!a[2],d=a[3].trim(),s=void 0,_=void 0,l=void 0;'{'==o&&0<(l=d.indexOf('::'))&&(_=d.substring(l+2),d=d.substring(0,l),s=!0);var y=b(d),u=[];if(y){for(var h,f=y.args,P=y.methodName,g=0;g<f.length;g++)h=f[g],h.literal||u.push(h);var i=t.dynamicFns;(i&&i[P]||y['static'])&&(u.push(P),y.dynamicFn=!0)}else u.push(d);r.push({source:d,mode:o,negate:p,customEvent:s,signature:y,dependencies:u,event:_}),n=w.lastIndex}if(n&&n<e.length){var c=e.substring(n);c&&r.push({literal:c})}return r.length?r:void 0}},{key:'_evaluateBinding',value:function(e,t,a,r,n,o){var i;return i=t.signature?O(e,a,r,n,t.signature):a==t.source?o&&Polymer.Path.isPath(a)?Polymer.Path.get(e,a):e.__data[a]:Polymer.Path.get(e,t.source),t.negate&&(i=!i),i}}]),r}(r);return i});var B={stack:[],registerHost:function(e){if(this.stack.length){var t=this.stack[this.stack.length-1];t._enqueueClient(e)}},beginHosting:function(e){this.stack.push(e)},endHosting:function(e){var t=this.stack.length;t&&this.stack[t-1]==e&&this.stack.pop()}}})();
(function(){'use notstrict';var a=function(){};a.is,a['extends'],a.properties,a.observers,a.template,Polymer.ElementMixin=Polymer.dedupingMixin(function(a){function b(a){return a.hasOwnProperty(JSCompiler_renameProperty('__ownProperties',a))||(a.__ownProperties=a.hasOwnProperty(JSCompiler_renameProperty('properties',a))?a.properties:{}),a.__ownProperties}function c(a){return a.hasOwnProperty(JSCompiler_renameProperty('__ownObservers',a))||(a.__ownObservers=a.hasOwnProperty(JSCompiler_renameProperty('observers',a))?a.observers:[]),a.__ownObservers}function d(a,b){for(var c in b){var d=b[c];'function'==typeof d&&(d={type:d}),a[c]=d}return a}function e(a){if(!a.hasOwnProperty(JSCompiler_renameProperty('__classProperties',a))){a.__classProperties=d({},b(a));var c=Object.getPrototypeOf(a.prototype).constructor;c.prototype instanceof p&&(a.__classProperties=Object.assign(Object.create(e(c)),a.__classProperties))}return a.__classProperties}function f(a){if(!a.hasOwnProperty(JSCompiler_renameProperty('__classPropertyDefaults',a))){a.__classPropertyDefaults=null;var b=e(a);for(var c in b){var d=b[c];'value'in d&&(a.__classPropertyDefaults=a.__classPropertyDefaults||{},a.__classPropertyDefaults[c]=d)}}return a.__classPropertyDefaults}function g(a){return a.hasOwnProperty(JSCompiler_renameProperty('__finalized',a))}function h(a){var b=a.prototype,c=Object.getPrototypeOf(b).constructor;c.prototype instanceof p&&c.finalize(),i(a)}function i(a){a.__finalized=!0;var d=a.prototype;a.hasOwnProperty(JSCompiler_renameProperty('is',a))&&a.is&&Polymer.telemetry.register(d);var e=b(a);e&&j(d,e);var f=c(a);f&&k(d,f,e);var g=a.template;if(g){if('string'===typeof g){var h=document.createElement('template');h.innerHTML=g,g=h}else g=g.cloneNode(!0);d._template=g}}function j(a,b){for(var c in b)l(a,c,b[c],b)}function k(a,b,c){for(var d=0;d<b.length;d++)a._createMethodObserver(b[d],c)}function l(a,b,c,d){c.computed&&(c.readOnly=!0),c.computed&&!a._hasReadOnlyEffect(b)&&a._createComputedProperty(b,c.computed,d),c.readOnly&&!a._hasReadOnlyEffect(b)&&a._createReadOnlyProperty(b,!c.computed),c.reflectToAttribute&&!a._hasReflectEffect(b)&&a._createReflectedProperty(b),c.notify&&!a._hasNotifyEffect(b)&&a._createNotifyingProperty(b),c.observer&&a._createPropertyObserver(b,c.observer,d[c.observer])}function m(a,b,c,d,e){var f=Polymer.StyleGather.cssFromTemplate(b,c)+Polymer.StyleGather.cssFromModuleImports(d);if(f){var g=document.createElement('style');g.textContent=f,b.content.insertBefore(g,b.content.firstChild)}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(b,d,e),a._bindTemplate(b)}var n=Polymer.PropertyEffects(a),o=Polymer.CaseMap,p=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_initializeProperties',value:function(){Polymer.telemetry.instanceCount++,this.constructor.finalize();var a=this.constructor.importPath;if(this._template&&!this._template.__polymerFinalized){this._template.__polymerFinalized=!0;var c=a?Polymer.ResolveUrl.resolveUrl(a):'';m(this.__proto__,this._template,c,this.localName)}babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_initializeProperties',this).call(this),this.rootPath=Polymer.rootPath,this.importPath=a;var d=f(this.constructor);if(d)for(var e in d){var g=d[e];if(!this.hasOwnProperty(e)){var h='function'==typeof g.value?g.value.call(this):g.value;this._hasAccessor(e)?this._setPendingProperty(e,h,!0):this[e]=h}}}},{key:'connectedCallback',value:function(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),this._enableProperties()}},{key:'disconnectedCallback',value:function(){}},{key:'ready',value:function(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this)}},{key:'_readyClients',value:function(){this._template&&(this.root=this._attachDom(this.root)),babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_readyClients',this).call(this)}},{key:'_attachDom',value:function(a){if(!this.attachShadow)throw new Error('ShadowDOM not available. Polymer.Element can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.');else if(a)return this.shadowRoot||this.attachShadow({mode:'open'}),this.shadowRoot.appendChild(a),this.shadowRoot}},{key:'attributeChangedCallback',value:function(a,b,c){if(b!==c){var d=o.dashToCamelCase(a),f=e(this.constructor)[d].type;this._hasReadOnlyEffect(d)||this._attributeToProperty(a,c,f)}}},{key:'updateStyles',value:function(a){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,a)}},{key:'resolveUrl',value:function(a,b){return!b&&this.importPath&&(b=Polymer.ResolveUrl.resolveUrl(this.importPath)),Polymer.ResolveUrl.resolveUrl(a,b)}}],[{key:'finalize',value:function(){g(this)||h(this)}},{key:'_parseTemplateContent',value:function(a,c,d){return c.dynamicFns=c.dynamicFns||e(this),babelHelpers.get(b.__proto__||Object.getPrototypeOf(b),'_parseTemplateContent',this).call(this,a,c,d)}},{key:'observedAttributes',get:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty('__observedAttributes',this))){var a=[],b=e(this);for(var c in b)a.push(Polymer.CaseMap.camelToDashCase(c));this.__observedAttributes=a}return this.__observedAttributes}},{key:'template',get:function(){return this.hasOwnProperty(JSCompiler_renameProperty('_template',this))||(this._template=Polymer.DomModule['import'](this.is,'template')||Object.getPrototypeOf(this.prototype).constructor.template),this._template}},{key:'importPath',get:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty('_importPath',this))){var a=Polymer.DomModule['import'](this.is);this._importPath=a?a.assetpath:Object.getPrototypeOf(this.prototype).constructor.importPath}return this._importPath}}]),b}(n);return p}),Polymer.telemetry={instanceCount:0,registrations:[],_regLog:function(a){console.log('['+a.is+']: registered')},register:function(a){this.registrations.push(a),Polymer.log&&this._regLog(a)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}},Polymer.updateStyles=function(a){window.ShadyCSS&&window.ShadyCSS.styleDocument(a)},Polymer.rootPath=Polymer.rootPath||Polymer.ResolveUrl.pathFromUrl(document.baseURI||window.location.href)})();
(function(){'use notstrict';var a=function(){function a(){babelHelpers.classCallCheck(this,a),this._asyncModule=null,this._callback=null,this._timer=null}return babelHelpers.createClass(a,[{key:'setConfig',value:function(a,b){var c=this;this._asyncModule=a,this._callback=b,this._timer=this._asyncModule.run(function(){c._timer=null,c._callback()})}},{key:'cancel',value:function(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}},{key:'flush',value:function(){this.isActive()&&(this.cancel(),this._callback())}},{key:'isActive',value:function(){return null!=this._timer}}],[{key:'debounce',value:function(b,c,d){return b instanceof a?b.cancel():b=new a,b.setConfig(c,d),b}}]),a}();Polymer.Debouncer=a})();
(function(){'use notstrict';function a(a){for(var b,c=r?['click']:n,d=0;d<c.length;d++)b=c[d],a?document.addEventListener(b,s,!0):document.removeEventListener(b,s,!0)}function b(a){var b=a.type;if(-1===n.indexOf(b))return!1;if('mousemove'===b){var c=void 0===a.buttons?1:a.buttons;return a instanceof window.MouseEvent&&!p&&(c=o[a.which]||0),!!(1&c)}var d=void 0===a.button?0:a.button;return 0===d}function c(a){if('click'===a.type){if(0===a.detail)return!0;var b=v._findOriginalTarget(a);if(b.nodeType!==Node.ELEMENT_NODE)return!0;var c=b.getBoundingClientRect(),d=a.pageX,e=a.pageY;return!(d>=c.left&&d<=c.right&&e>=c.top&&e<=c.bottom)}return!1}function d(a){var b='auto',c=a.composedPath&&a.composedPath();if(c)for(var d,e=0;e<c.length;e++)if(d=c[e],d[l]){b=d[l];break}return b}function f(a,b,c){a.movefn=b,a.upfn=c,document.addEventListener('mousemove',b),document.addEventListener('mouseup',c)}function g(a){document.removeEventListener('mousemove',a.movefn),document.removeEventListener('mouseup',a.upfn),a.movefn=null,a.upfn=null}var h=Math.abs,e='string'===typeof document.head.style.touchAction,j='__polymerGestures',k='__polymerGesturesHandled',l='__polymerGesturesTouchAction',i=25,m=5,n=['mousedown','mousemove','mouseup','click'],o=[0,1,4,2],p=function(){try{return 1===new MouseEvent('test',{buttons:1}).buttons}catch(a){return!1}}(),q=!1;(function(){try{var a=Object.defineProperty({},'passive',{get:function(){q=!0}});window.addEventListener('test',null,a),window.removeEventListener('test',null,a)}catch(a){}})();var r=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),s=function(a){var b=a.sourceCapabilities;if((!b||b.firesTouchEvents)&&(a[k]={skip:!0},'click'===a.type)){var c=a.composedPath&&a.composedPath();if(c)for(var d=0;d<c.length;d++)if(c[d]===u.mouse.target)return;a.preventDefault(),a.stopPropagation()}},u={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};document.addEventListener('touchend',function(b){u.mouse.mouseIgnoreJob||a(!0);u.mouse.target=b.composedPath()[0],u.mouse.mouseIgnoreJob=Polymer.Debouncer.debounce(u.mouse.mouseIgnoreJob,Polymer.Async.timeOut.after(2500),function(){a(),u.mouse.target=null,u.mouse.mouseIgnoreJob=null})},!!q&&{passive:!0});var v={gestures:{},recognizers:[],deepTargetFind:function(a,b){for(var c,d=document.elementFromPoint(a,b),e=d;e&&e.shadowRoot&&!window.ShadyDOM&&(c=e,e=e.shadowRoot.elementFromPoint(a,b),c!==e);)e&&(d=e);return d},_findOriginalTarget:function(a){return a.composedPath?a.composedPath()[0]:a.target},_handleNative:function(a){var b,c=a.type,d=a.currentTarget,f=d[j];if(f){var g=f[c];if(g){if(!a[k]&&(a[k]={},'touch'===c.slice(0,5))){var h=a.changedTouches[0];if('touchstart'===c&&1===a.touches.length&&(u.touch.id=h.identifier),u.touch.id!==h.identifier)return;e||'touchstart'!==c&&'touchmove'!==c||v._handleTouchAction(a)}if(b=a[k],!b.skip){for(var l,m=v.recognizers,n=0;n<m.length;n++)l=m[n],g[l.name]&&!b[l.name]&&l.flow&&-1<l.flow.start.indexOf(a.type)&&l.reset&&l.reset();for(var i,o=0;o<m.length;o++)i=m[o],g[i.name]&&!b[i.name]&&(b[i.name]=!0,i[c](a))}}}},_handleTouchAction:function(a){var b=a.changedTouches[0],c=a.type;if('touchstart'===c)u.touch.x=b.clientX,u.touch.y=b.clientY,u.touch.scrollDecided=!1;else if('touchmove'===c){if(u.touch.scrollDecided)return;u.touch.scrollDecided=!0;var e=d(a),f=!1,g=h(u.touch.x-b.clientX),i=h(u.touch.y-b.clientY);a.cancelable&&('none'===e?f=!0:'pan-x'===e?f=i>g:'pan-y'===e&&(f=g>i)),f?a.preventDefault():v.prevent('track')}},addListener:function(a,b,c){if(this.gestures[b])return this._add(a,b,c),!0},removeListener:function(a,b,c){if(this.gestures[b])return this._remove(a,b,c),!0},_add:function(a,b,c){var d=this.gestures[b],e=d.deps,f=d.name,g=a[j];g||(a[j]=g={});for(var h,k,l=0;l<e.length;l++)(h=e[l],!(r&&-1<n.indexOf(h)&&'click'!==h))&&(k=g[h],k||(g[h]=k={_count:0}),0===k._count&&a.addEventListener(h,this._handleNative),k[f]=(k[f]||0)+1,k._count=(k._count||0)+1);a.addEventListener(b,c),d.touchAction&&this.setTouchAction(a,d.touchAction)},_remove:function(a,b,c){var d=this.gestures[b],e=d.deps,f=d.name,g=a[j];if(g)for(var h,k,l=0;l<e.length;l++)h=e[l],k=g[h],k&&k[f]&&(k[f]=(k[f]||1)-1,k._count=(k._count||1)-1,0===k._count&&a.removeEventListener(h,this._handleNative));a.removeEventListener(b,c)},register:function(a){this.recognizers.push(a);for(var b=0;b<a.emits.length;b++)this.gestures[a.emits[b]]=a},_findRecognizerByEvent:function(a){for(var b,c=0;c<this.recognizers.length;c++){b=this.recognizers[c];for(var d,e=0;e<b.emits.length;e++)if(d=b.emits[e],d===a)return b}return null},setTouchAction:function(a,b){e&&(a.style.touchAction=b),a[l]=b},_fire:function(a,b,c){var d=new Event(b,{bubbles:!0,cancelable:!0,composed:!0});if(d.detail=c,a.dispatchEvent(d),d.defaultPrevented){var e=c.preventer||c.sourceEvent;e&&e.preventDefault&&e.preventDefault()}},prevent:function(a){var b=this._findRecognizerByEvent(a);b.info&&(b.info.prevent=!0)},resetMouseCanceller:function(){u.mouse.mouseIgnoreJob&&u.mouse.mouseIgnoreJob.flush()}};v.register({name:'downup',deps:['mousedown','touchstart','touchend'],flow:{start:['mousedown','touchstart'],end:['mouseup','touchend']},emits:['down','up'],info:{movefn:null,upfn:null},reset:function(){g(this.info)},mousedown:function(a){if(b(a)){var c=v._findOriginalTarget(a),d=this,e=function(a){b(a)||(d._fire('up',c,a),g(d.info))},h=function(a){b(a)&&d._fire('up',c,a),g(d.info)};f(this.info,e,h),this._fire('down',c,a)}},touchstart:function(a){this._fire('down',v._findOriginalTarget(a),a.changedTouches[0],a)},touchend:function(a){this._fire('up',v._findOriginalTarget(a),a.changedTouches[0],a)},_fire:function(a,b,c,d){v._fire(b,a,{x:c.clientX,y:c.clientY,sourceEvent:c,preventer:d,prevent:function(a){return v.prevent(a)}})}}),v.register({name:'track',touchAction:'none',deps:['mousedown','touchstart','touchmove','touchend'],flow:{start:['mousedown','touchstart'],end:['mouseup','touchend']},emits:['track'],info:{x:0,y:0,state:'start',started:!1,moves:[],addMove:function(a){this.moves.length>2&&this.moves.shift(),this.moves.push(a)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state='start',this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,g(this.info)},hasMovedEnough:function(a,b){if(this.info.prevent)return!1;if(this.info.started)return!0;var c=h(this.info.x-a),d=h(this.info.y-b);return c>=m||d>=m},mousedown:function(a){if(b(a)){var c=v._findOriginalTarget(a),d=this,h=function(a){var e=a.clientX,f=a.clientY;d.hasMovedEnough(e,f)&&(d.info.state=d.info.started?'mouseup'===a.type?'end':'track':'start','start'===d.info.state&&v.prevent('tap'),d.info.addMove({x:e,y:f}),!b(a)&&(d.info.state='end',g(d.info)),d._fire(c,a),d.info.started=!0)},e=function(a){d.info.started&&h(a),g(d.info)};f(this.info,h,e),this.info.x=a.clientX,this.info.y=a.clientY}},touchstart:function(a){var b=a.changedTouches[0];this.info.x=b.clientX,this.info.y=b.clientY},touchmove:function(a){var b=v._findOriginalTarget(a),c=a.changedTouches[0],d=c.clientX,e=c.clientY;this.hasMovedEnough(d,e)&&('start'===this.info.state&&v.prevent('tap'),this.info.addMove({x:d,y:e}),this._fire(b,c),this.info.state='track',this.info.started=!0)},touchend:function(a){var b=v._findOriginalTarget(a),c=a.changedTouches[0];this.info.started&&(this.info.state='end',this.info.addMove({x:c.clientX,y:c.clientY}),this._fire(b,c,a))},_fire:function(a,b){var c,d=this.info.moves[this.info.moves.length-2],e=this.info.moves[this.info.moves.length-1],f=e.x-this.info.x,g=e.y-this.info.y,h=0;return d&&(c=e.x-d.x,h=e.y-d.y),v._fire(a,'track',{state:this.info.state,x:b.clientX,y:b.clientY,dx:f,dy:g,ddx:c,ddy:h,sourceEvent:b,hover:function(){return v.deepTargetFind(b.clientX,b.clientY)}})}}),v.register({name:'tap',deps:['mousedown','click','touchstart','touchend'],flow:{start:['mousedown','touchstart'],end:['click','touchend']},emits:['tap'],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},save:function(a){this.info.x=a.clientX,this.info.y=a.clientY},mousedown:function(a){b(a)&&this.save(a)},click:function(a){b(a)&&this.forward(a)},touchstart:function(a){this.save(a.changedTouches[0],a)},touchend:function(a){this.forward(a.changedTouches[0],a)},forward:function(a,b){var d=h(a.clientX-this.info.x),f=h(a.clientY-this.info.y),g=v._findOriginalTarget(a);(isNaN(d)||isNaN(f)||d<=i&&f<=i||c(a))&&!this.info.prevent&&v._fire(g,'tap',{x:a.clientX,y:a.clientY,sourceEvent:a,preventer:b})}}),v.findOriginalTarget=v._findOriginalTarget,v.add=v.addListener,v.remove=v.removeListener,Polymer.Gestures=v})();
(function(){'use notstrict';var a=Polymer.Gestures;Polymer.GestureEventListeners=Polymer.dedupingMixin(function(b){var c=function(b){function c(){return babelHelpers.classCallCheck(this,c),babelHelpers.possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return babelHelpers.inherits(c,b),babelHelpers.createClass(c,[{key:'_addEventListenerToNode',value:function(b,d,e){a.addListener(b,d,e)||babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'_addEventListenerToNode',this).call(this,b,d,e)}},{key:'_removeEventListenerFromNode',value:function(b,d,e){a.removeListener(b,d,e)||babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'_removeEventListenerFromNode',this).call(this,b,d,e)}}]),c}(b);return c})})();
(function(){'use notstrict';function a(a){window.HTMLImports?HTMLImports.whenReady(a):a()}Polymer.importHref=function(b,c,d,e){var f=document.head.querySelector('link[href="'+b+'"][import-href]');f||(f=document.createElement('link'),f.rel='import',f.href=b,f.setAttribute('import-href','')),e&&f.setAttribute('async','');var g=function(){f.removeEventListener('load',h),f.removeEventListener('error',i)},h=function(b){g(),f.__dynamicImportLoaded=!0,c&&a(function(){c(b)})},i=function(b){g(),f.parentNode&&f.parentNode.removeChild(f),d&&a(function(){d(b)})};return f.addEventListener('load',h),f.addEventListener('error',i),null==f.parentNode?document.head.appendChild(f):f.__dynamicImportLoaded&&f.dispatchEvent(new Event('load')),f}})();
(function(){'use notstrict';function a(){e=!0,requestAnimationFrame(function(){e=!1,b(f),setTimeout(function(){c(g)})})}function b(a){for(;a.length;)d(a.shift())}function c(a){for(var b=0,c=a.length;b<c;b++)d(a.shift())}function d(a){var b=a[0],c=a[1],d=a[2];try{c.apply(b,d)}catch(a){setTimeout(function(){throw a})}}var e=!1,f=[],g=[];Polymer.RenderStatus={beforeNextRender:function(b,c,d){e||a(),f.push([b,c,d])},afterNextRender:function(b,c,d){e||a(),g.push([b,c,d])},flush:function(){for(;f.length||g.length;)b(f),b(g);e=!1}}})();
(function(){'use notstrict';function a(){document.body.removeAttribute('unresolved')}window.WebComponents?window.addEventListener('WebComponentsReady',a):'interactive'===document.readyState||'complete'===document.readyState?a():window.addEventListener('DOMContentLoaded',a)})();
(function(){'use notstrict';function a(a,b,c){return{index:a,removed:b,addedCount:c}}var b=0,c=1,d=2,e=3,f={calcEditDistances:function(a,b,c,d,e,f){for(var g=f-e+1,h=c-b+1,k=Array(g),l=0;l<g;l++)k[l]=Array(h),k[l][0]=l;for(var i=0;i<h;i++)k[0][i]=i;for(var j=1;j<g;j++)for(var m=1;m<h;m++)if(this.equals(a[b+m-1],d[e+j-1]))k[j][m]=k[j-1][m-1];else{var n=k[j-1][m]+1,o=k[j][m-1]+1;k[j][m]=n<o?n:o}return k},spliceOperationsFromEditDistances:function(a){for(var f=a.length-1,g=a[0].length-1,h=a[f][g],i=[];0<f||0<g;){if(0==f){i.push(d),g--;continue}if(0==g){i.push(e),f--;continue}var j=a[f-1][g-1],k=a[f-1][g],l=a[f][g-1],m=void 0;m=k<l?k<j?k:j:l<j?l:j,m==j?(j==h?i.push(b):(i.push(c),h=j),f--,g--):m==k?(i.push(e),f--,h=k):(i.push(d),g--,h=l)}return i.reverse(),i},calcSplices:function(f,g,h,j,k,l){var m,n=0,o=0,p=Math.min(h-g,l-k);if(0==g&&0==k&&(n=this.sharedPrefix(f,j,p)),h==f.length&&l==j.length&&(o=this.sharedSuffix(f,j,p-n)),g+=n,k+=n,h-=o,l-=o,0==h-g&&0==l-k)return[];if(g==h){for(m=a(g,[],0);k<l;)m.removed.push(j[k++]);return[m]}if(k==l)return[a(g,[],h-g)];var q=this.spliceOperationsFromEditDistances(this.calcEditDistances(f,g,h,j,k,l));m=void 0;for(var r=[],s=g,t=k,u=0;u<q.length;u++)switch(q[u]){case b:m&&(r.push(m),m=void 0),s++,t++;break;case c:m||(m=a(s,[],0)),m.addedCount++,s++,m.removed.push(j[t]),t++;break;case d:m||(m=a(s,[],0)),m.addedCount++,s++;break;case e:m||(m=a(s,[],0)),m.removed.push(j[t]),t++;}return m&&r.push(m),r},sharedPrefix:function(a,b,c){for(var d=0;d<c;d++)if(!this.equals(a[d],b[d]))return d;return c},sharedSuffix:function(a,b,c){for(var d=a.length,e=b.length,f=0;f<c&&this.equals(a[--d],b[--e]);)f++;return f},calculateSplices:function(a,b){return this.calcSplices(a,0,a.length,b,0,b.length)},equals:function(a,b){return a===b}};Polymer.ArraySplice={calculateSplices:function(a,b){return f.calculateSplices(a,b)}}})();
(function(){'use notstrict';function a(a){return'slot'===a.localName}var b=function(){function b(a,c){var d=this;babelHelpers.classCallCheck(this,b),this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=a,this.callback=c,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=function(){d._schedule()},this.connect(),this._schedule()}return babelHelpers.createClass(b,null,[{key:'getFlattenedNodes',value:function(b){return a(b)?b.assignedNodes({flatten:!0}):Array.from(b.childNodes).map(function(b){return a(b)?b.assignedNodes({flatten:!0}):[b]}).reduce(function(c,a){return c.concat(a)},[])}}]),babelHelpers.createClass(b,[{key:'connect',value:function(){var b=this;a(this._target)?this._listenSlots([this._target]):(this._listenSlots(this._target.children),window.ShadyDOM?this._shadyChildrenObserver=ShadyDOM.observeChildren(this._target,function(a){b._processMutations(a)}):(this._nativeChildrenObserver=new MutationObserver(function(a){b._processMutations(a)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}},{key:'disconnect',value:function(){a(this._target)?this._unlistenSlots([this._target]):(this._unlistenSlots(this._target.children),window.ShadyDOM&&this._shadyChildrenObserver?(ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}},{key:'_schedule',value:function(){var a=this;this._scheduled||(this._scheduled=!0,Polymer.Async.microTask.run(function(){return a.flush()}))}},{key:'_processMutations',value:function(a){this._processSlotMutations(a),this.flush()}},{key:'_processSlotMutations',value:function(a){if(a)for(var b,c=0;c<a.length;c++)b=a[c],b.addedNodes&&this._listenSlots(b.addedNodes),b.removedNodes&&this._unlistenSlots(b.removedNodes)}},{key:'flush',value:function(){if(this._connected){window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this.shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;for(var a,b={target:this._target,addedNodes:[],removedNodes:[]},c=this.constructor.getFlattenedNodes(this._target),d=Polymer.ArraySplice.calculateSplices(c,this._effectiveNodes),e=0;e<d.length&&(a=d[e]);e++)for(var f,g=0;g<a.removed.length&&(f=a.removed[g]);g++)b.removedNodes.push(f);for(var h,i=0;i<d.length&&(h=d[i]);i++)for(var j=h.index;j<h.index+h.addedCount;j++)b.addedNodes.push(c[j]);this._effectiveNodes=c;var k=!1;return(b.addedNodes.length||b.removedNodes.length)&&(k=!0,this.callback.call(this._target,b)),k}}},{key:'_listenSlots',value:function(b){for(var c,d=0;d<b.length;d++)c=b[d],a(c)&&c.addEventListener('slotchange',this._boundSchedule)}},{key:'_unlistenSlots',value:function(b){for(var c,d=0;d<b.length;d++)c=b[d],a(c)&&c.removeEventListener('slotchange',this._boundSchedule)}}]),b}();Polymer.FlattenedNodesObserver=b})();
(function(){'use notstrict';function a(){for(var a=!!b.length;b.length;)try{b.shift().flush()}catch(a){setTimeout(function(){throw a})}return a}var b=[];Polymer.enqueueDebouncer=function(a){b.push(a)},Polymer.flush=function(){var b,c;do b=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),c=a();while(b||c)}})();
(function(){'use notstrict';var a=Element.prototype,b=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector,d=function(a,c){return b.call(a,c)},c=function(){function a(b){babelHelpers.classCallCheck(this,a),this.node=b}return babelHelpers.createClass(a,[{key:'observeNodes',value:function(a){return new Polymer.FlattenedNodesObserver(this.node,a)}},{key:'unobserveNodes',value:function(a){a.disconnect()}},{key:'notifyObserver',value:function(){}},{key:'deepContains',value:function(a){if(this.node.contains(a))return!0;for(var b=a,c=a.ownerDocument;b&&b!==c&&b!==this.node;)b=b.parentNode||b.host;return b===this.node}},{key:'getOwnerRoot',value:function(){return this.node.getRootNode()}},{key:'getDistributedNodes',value:function(){return'slot'===this.node.localName?this.node.assignedNodes({flatten:!0}):[]}},{key:'getDestinationInsertionPoints',value:function(){for(var a=[],b=this.node.assignedSlot;b;)a.push(b),b=b.assignedSlot;return a}},{key:'importNode',value:function(a,b){var c=this.node instanceof Document?this.node:this.node.ownerDocument;return c.importNode(a,b)}},{key:'getEffectiveChildNodes',value:function(){return Polymer.FlattenedNodesObserver.getFlattenedNodes(this.node)}},{key:'queryDistributedElements',value:function(a){for(var b,c=this.getEffectiveChildNodes(),e=[],f=0,g=c.length;f<g&&(b=c[f]);f++)b.nodeType===Node.ELEMENT_NODE&&d(b,a)&&e.push(b);return e}},{key:'activeElement',get:function(){var a=this.node;return void 0===a._activeElement?a.activeElement:a._activeElement}}]),a}();(function(a,b){for(var c=function(c){var d=b[c];a[d]=function(){return this.node[d].apply(this.node,arguments)}},d=0;d<b.length;d++)c(d)})(c.prototype,['cloneNode','appendChild','insertBefore','removeChild','replaceChild','setAttribute','removeAttribute','querySelector','querySelectorAll']),function(a,b){for(var c=function(c){var d=b[c];Object.defineProperty(a,d,{get:function(){return this.node[d]},configurable:!0})},d=0;d<b.length;d++)c(d)}(c.prototype,['parentNode','firstChild','lastChild','nextSibling','previousSibling','firstElementChild','lastElementChild','nextElementSibling','previousElementSibling','childNodes','children','classList']),function(a,b){for(var c=function(c){var d=b[c];Object.defineProperty(a,d,{get:function(){return this.node[d]},set:function(a){this.node[d]=a},configurable:!0})},d=0;d<b.length;d++)c(d)}(c.prototype,['textContent','innerHTML']);var e=function(){function a(b){babelHelpers.classCallCheck(this,a),this.event=b}return babelHelpers.createClass(a,[{key:'rootTarget',get:function(){return this.event.composedPath()[0]}},{key:'localTarget',get:function(){return this.event.target}},{key:'path',get:function(){return this.event.composedPath()}}]),a}();Polymer.dom=function(a){a=a||document;var b=a instanceof Event?e:c;return a.__domApi||(a.__domApi=new b(a)),a.__domApi},Polymer.dom.matchesSelector=d,Polymer.dom.flush=Polymer.flush,Polymer.dom.addDebouncer=Polymer.enqueueDebouncer;var f=Polymer.Settings||{};f.useShadow=!window.ShadyDOM,f.useNativeCSSProperties=!(window.ShadyCSS&&!window.ShadyCSS.nativeCss),f.useNativeCustomElements=!window.customElements.polyfillWrapFlushCallback,Polymer.Settings=f})();
(function(){'use notstrict';var a=window.ShadyCSS;Polymer.LegacyElementMixin=Polymer.dedupingMixin(function(b){var c=Polymer.GestureEventListeners(Polymer.ElementMixin(b)),d={x:'pan-x',y:'pan-y',none:'none',all:'auto'},e=function(b){function c(){babelHelpers.classCallCheck(this,c);var a=babelHelpers.possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return a.root=a,a.created(),a}return babelHelpers.inherits(c,b),babelHelpers.createClass(c,[{key:'created',value:function(){}},{key:'connectedCallback',value:function(){babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'connectedCallback',this).call(this),this.isAttached=!0,this.attached()}},{key:'attached',value:function(){}},{key:'disconnectedCallback',value:function(){babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'disconnectedCallback',this).call(this),this.isAttached=!1,this.detached()}},{key:'detached',value:function(){}},{key:'attributeChangedCallback',value:function(a,b,d){b!==d&&(babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'attributeChangedCallback',this).call(this,a,b,d),this.attributeChanged(a,b,d))}},{key:'attributeChanged',value:function(){}},{key:'_initializeProperties',value:function(){var a=Object.getPrototypeOf(this);a.hasOwnProperty('__hasRegisterFinished')||(a.__hasRegisterFinished=!0,this._registered()),babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'_initializeProperties',this).call(this)}},{key:'_registered',value:function(){}},{key:'ready',value:function(){this._ensureAttributes(),this._applyListeners(),babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'ready',this).call(this)}},{key:'_ensureAttributes',value:function(){}},{key:'_applyListeners',value:function(){}},{key:'serialize',value:function(a){return this._serializeValue(a)}},{key:'deserialize',value:function(a,b){return this._deserializeValue(a,b)}},{key:'reflectPropertyToAttribute',value:function(a,b,c){this._propertyToAttribute(a,b,c)}},{key:'serializeValueToAttribute',value:function(a,b,c){this._valueToNodeAttribute(c||this,a,b)}},{key:'extend',value:function(a,b){if(!(a&&b))return a||b;for(var c,d,e=Object.getOwnPropertyNames(b),f=0;f<e.length&&(c=e[f]);f++)d=Object.getOwnPropertyDescriptor(b,c),d&&Object.defineProperty(a,c,d);return a}},{key:'mixin',value:function(a,b){for(var c in b)a[c]=b[c];return a}},{key:'chainObject',value:function(a,b){return a&&b&&a!==b&&(a.__proto__=b),a}},{key:'instanceTemplate',value:function(a){var b=this.constructor._contentForTemplate(a),c=document.importNode(b,!0);return c}},{key:'fire',value:function(a,b,c){c=c||{},b=null===b||void 0===b?{}:b;var d=new Event(a,{bubbles:void 0===c.bubbles||c.bubbles,cancelable:!!c.cancelable,composed:void 0===c.composed||c.composed});d.detail=b;var e=c.node||this;return e.dispatchEvent(d),d}},{key:'listen',value:function(a,b,c){a=a||this;var d=this.__boundListeners||(this.__boundListeners=new WeakMap),e=d.get(a);e||(e={},d.set(a,e));var f=b+c;e[f]||(e[f]=this._addMethodEventListenerToNode(a,b,c,this))}},{key:'unlisten',value:function(a,b,c){a=a||this;var d=this.__boundListeners&&this.__boundListeners.get(a),e=b+c,f=d&&d[e];f&&(this._removeEventListenerFromNode(a,b,f),d[e]=null)}},{key:'setScrollDirection',value:function(a,b){Polymer.Gestures.setTouchAction(b||this,d[a]||'auto')}},{key:'$$',value:function(a){return this.root.querySelector(a)}},{key:'distributeContent',value:function(){window.ShadyDOM&&this.shadowRoot&&this.shadowRoot.forceRender()}},{key:'getEffectiveChildNodes',value:function(){return Polymer.dom(this).getEffectiveChildNodes()}},{key:'queryDistributedElements',value:function(a){return Polymer.dom(this).queryDistributedElements(a)}},{key:'getEffectiveChildren',value:function(){var a=this.getEffectiveChildNodes();return a.filter(function(a){return a.nodeType===Node.ELEMENT_NODE})}},{key:'getEffectiveTextContent',value:function(){for(var a,b=this.getEffectiveChildNodes(),c=[],d=0;a=b[d];d++)a.nodeType!==Node.COMMENT_NODE&&c.push(a.textContent);return c.join('')}},{key:'queryEffectiveChildren',value:function(a){var b=this.queryDistributedElements(a);return b&&b[0]}},{key:'queryAllEffectiveChildren',value:function(a){return this.queryDistributedElements(a)}},{key:'getContentChildNodes',value:function(a){var b=this.root.querySelector(a||'slot');return b?Polymer.dom(b).getDistributedNodes():[]}},{key:'getContentChildren',value:function(a){return this.getContentChildNodes(a).filter(function(a){return a.nodeType===Node.ELEMENT_NODE})}},{key:'isLightDescendant',value:function(a){return this!==a&&this.contains(a)&&this.getRootNode()===a.getRootNode()}},{key:'isLocalDescendant',value:function(a){return this.root===a.getRootNode()}},{key:'scopeSubtree',value:function(){}},{key:'getComputedStyleValue',value:function(b){return a.getComputedStyleValue(this,b)}},{key:'debounce',value:function(a,b,c){return this._debouncers=this._debouncers||{},this._debouncers[a]=Polymer.Debouncer.debounce(this._debouncers[a],0<c?Polymer.Async.timeOut.after(c):Polymer.Async.microTask,b.bind(this))}},{key:'isDebouncerActive',value:function(a){this._debouncers=this._debouncers||{};var b=this._debouncers[a];return!!(b&&b.isActive())}},{key:'flushDebouncer',value:function(a){this._debouncers=this._debouncers||{};var b=this._debouncers[a];b&&b.flush()}},{key:'cancelDebouncer',value:function(a){this._debouncers=this._debouncers||{};var b=this._debouncers[a];b&&b.cancel()}},{key:'async',value:function(a,b){return 0<b?Polymer.Async.timeOut.run(a.bind(this),b):~Polymer.Async.microTask.run(a.bind(this))}},{key:'cancelAsync',value:function(a){0>a?Polymer.Async.microTask.cancel(~a):Polymer.Async.timeOut.cancel(a)}},{key:'create',value:function(a,b){var c=document.createElement(a);if(b)if(c.setProperties)c.setProperties(b);else for(var d in b)c[d]=b[d];return c}},{key:'importHref',value:function(a,b,c,d){var e=b?b.bind(this):null,f=c?c.bind(this):null;return Polymer.importHref(a,e,f,d)}},{key:'elementMatches',value:function(a,b){return Polymer.dom.matchesSelector(b||this,a)}},{key:'toggleAttribute',value:function(a,b,c){c=c||this,1==arguments.length&&(b=!c.hasAttribute(a)),b?c.setAttribute(a,''):c.removeAttribute(a)}},{key:'toggleClass',value:function(a,b,c){c=c||this,1==arguments.length&&(b=!c.classList.contains(a)),b?c.classList.add(a):c.classList.remove(a)}},{key:'transform',value:function(a,b){b=b||this,b.style.webkitTransform=a,b.style.transform=a}},{key:'translate3d',value:function(a,b,c,d){d=d||this,this.transform('translate3d('+a+','+b+','+c+')',d)}},{key:'arrayDelete',value:function(a,b){var c;if(!Array.isArray(a)){var d=Polymer.Path.get(this,a);if(c=d.indexOf(b),0<=c)return this.splice(a,c,1)}else if(c=a.indexOf(b),0<=c)return a.splice(c,1);return null}},{key:'_logger',value:function(a,b){var c;Array.isArray(b)&&1===b.length&&(b=b[0]),'log'===a||'warn'===a||'error'===a?(c=console)[a].apply(c,babelHelpers.toConsumableArray(b)):void 0}},{key:'_log',value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];this._logger('log',b)}},{key:'_warn',value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];this._logger('warn',b)}},{key:'_error',value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];this._logger('error',b)}},{key:'_logf',value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return['[%s::%s]',this.is].concat(b)}},{key:'domHost',get:function(){var a=this.getRootNode();return a instanceof DocumentFragment?a.host:a}}]),c}(c);return e})})();
(function(){'use notstrict';function a(a,e){if(!a)return e;e=b(e),Array.isArray(a)||(a=[a]);var f=e.prototype.behaviors;return a=d(a,null,f),e=c(a,e),f&&(a=f.concat(a)),e.prototype.behaviors=a,e}function c(a,d){for(var f,b=0;b<a.length;b++)f=a[b],f&&(d=Array.isArray(f)?c(f,d):e(f,d));return d}function d(a,c,e){c=c||[];for(var f,b=a.length-1;0<=b;b--)f=a[b],f?Array.isArray(f)?d(f,c):0>c.indexOf(f)&&(!e||0>e.indexOf(f))&&c.unshift(f):console.warn('behavior is null, check for missing or 404 import');return c}function e(b,a){var c=function(c){function d(){return babelHelpers.classCallCheck(this,d),babelHelpers.possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return babelHelpers.inherits(d,c),babelHelpers.createClass(d,[{key:'created',value:function(){babelHelpers.get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),'created',this).call(this),b.created&&b.created.call(this)}},{key:'_registered',value:function(){babelHelpers.get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),'_registered',this).call(this),b.beforeRegister&&b.beforeRegister.call(Object.getPrototypeOf(this)),b.registered&&b.registered.call(Object.getPrototypeOf(this))}},{key:'_applyListeners',value:function(){if(babelHelpers.get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),'_applyListeners',this).call(this),b.listeners)for(var a in b.listeners)this._addMethodEventListenerToNode(this,a,b.listeners[a])}},{key:'_ensureAttributes',value:function(){if(b.hostAttributes)for(var c in b.hostAttributes)this._ensureAttribute(c,b.hostAttributes[c]);babelHelpers.get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),'_ensureAttributes',this).call(this)}},{key:'ready',value:function(){babelHelpers.get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),'ready',this).call(this),b.ready&&b.ready.call(this)}},{key:'attached',value:function(){babelHelpers.get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),'attached',this).call(this),b.attached&&b.attached.call(this)}},{key:'detached',value:function(){babelHelpers.get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),'detached',this).call(this),b.detached&&b.detached.call(this)}},{key:'attributeChanged',value:function(a,c,e){babelHelpers.get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),'attributeChanged',this).call(this,a,c,e),b.attributeChanged&&b.attributeChanged.call(this,a,c,e)}}],[{key:'properties',get:function(){return b.properties}},{key:'observers',get:function(){return b.observers}},{key:'template',get:function(){return b._template||Polymer.DomModule['import'](this.is,'template')||a.template||this.prototype._template}}]),d}(a);for(var d in c.generatedFrom=b,b)if(!(d in f)){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(c.prototype,d,e)}return c}var b=Polymer.LegacyElementMixin,f={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0};Polymer.Class=function(c){c||console.warn('Polymer.Class requires `info` argument');var d=e(c,c.behaviors?a(c.behaviors,HTMLElement):b(HTMLElement));return d.is=c.is,d},Polymer.mixinBehaviors=a})();
var SplashScreenElement,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};(function(a){a.splashScreenProperties={name:{type:String,value:"",notify:!0},max:{type:Number,value:Infinity},finished:{type:Boolean,value:!1,notify:!0,observer:"_onFinish"}};var b=function(){function b(){}return b._onFinish=function(){this.finished?this.setAttribute("invisible","invisible"):this.removeAttribute("invisible")},b._animateTo=function(a,b){var c=this;return new Promise(function(d){window.setTransform(c.$.progressBar,b),c.async(function(){c._settings.lastReachedProgress=a,c._settings.isAnimating=!1,window.setTransform(c.$.progressBar,b),d(null)},200)})},b._animateLoadingBar=function(a){return __awaiter(this,void 0,void 0,function(){var b,c;return __generator(this,function(d){switch(d.label){case 0:return(b="scaleX("+a+")",c=this._settings.max===this._settings.lastReachedProgress,c||1<=this._settings.toReach)?(this._animateTo(a,b),[2]):this._settings.isAnimating?(this._settings.toReach=a,this._settings.shouldAnimate=!0,[3,3]):[3,1];case 1:return this._settings.isAnimating=!0,[4,this._animateTo(a,b)];case 2:d.sent(),this._animateLoadingBar(this._settings.toReach),d.label=3;case 3:return[2];}})})},b.setProgress=function(a){this._animateLoadingBar(Math.min(a,1))},b.finish=function(){this.finished=!0,this._onFinish()},b._onRegistration=function(a,b){var c=this,d=Math.round(100*(a/this._settings.max))/100;this.setProgress(d),a>=this._settings.max&&this.async(function(){c.finish(),b(null)},500)},b._listenForRegistrations=function(){var a=this;this.done=new Promise(function(b){var c=window.Polymer.telemetry.registrations.length,d=Array.prototype.slice.apply(window.Polymer.telemetry.registrations);d.push=function(e){Array.prototype.push.call(d,e),c++,a._onRegistration(c,b)},a._onRegistration(c,b),window.Polymer.telemetry.registrations=d})},b.init=function(a){this._settings.max=a,this._listenForRegistrations()},b.ready=function(){this.$.splashContainer.setAttribute("visible","visible"),this._settings={lastReachedProgress:0,toReach:0,isAnimating:!1,shouldAnimate:!1,max:Infinity},window.splashScreen=this,this.max&&this.init(this.max)},(b.is="splash-screen",b.properties=a.splashScreenProperties,b)}();a.SS=b,window.objectify?window.register(b):window.addEventListener("RegisterReady",function(){window.register(b)})})(SplashScreenElement||(SplashScreenElement={}));
(function(){'use notstrict';window.Polymer._polymerFn=function(a){var b;return b='function'===typeof a?a:Polymer.Class(a),customElements.define(b.is,b),b}})();
(function(){'use notstrict';function a(a,b,c,d,e){var f;e&&(f='object'===('undefined'===typeof c?'undefined':babelHelpers['typeof'](c))&&null!==c,f&&(d=a.__dataTemp[b]));var g=d!==c&&(d===d||c===c);return f&&g&&(a.__dataTemp[b]=c),g}Polymer.MutableData=Polymer.dedupingMixin(function(b){var c=function(b){function c(){return babelHelpers.classCallCheck(this,c),babelHelpers.possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return babelHelpers.inherits(c,b),babelHelpers.createClass(c,[{key:'_shouldPropertyChange',value:function(b,c,d){return a(this,b,c,d,!0)}}]),c}(b);return c}),Polymer.OptionalMutableData=Polymer.dedupingMixin(function(b){var c=function(b){function c(){return babelHelpers.classCallCheck(this,c),babelHelpers.possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return babelHelpers.inherits(c,b),babelHelpers.createClass(c,[{key:'_shouldPropertyChange',value:function(b,c,d){return a(this,b,c,d,this.mutableData)}}],[{key:'properties',get:function(){return{mutableData:Boolean}}}]),c}(b);return c}),Polymer.MutableData._mutablePropertyChange=a})();
(function(){'use notstrict';function a(){return j}function b(a,b){j=a,typeof Object['setPrototype' + 'Of'] === 'function'?Object['setPrototype' + 'Of'](a,b.prototype):a.__proto__ = b.prototype,new b,j=null}function c(a){var b=a.__dataHost;return b&&b._methodHost||b}function d(a,b,c){var d=c.mutableData?o:n,e=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),b}(d);return e.prototype.__templatizeOptions=c,e.prototype._bindTemplate(a),g(e,a,b,c),e}function e(a,c,d){var e=d.forwardHostProp;if(e){var g=c.templatizeTemplateClass;if(!g){var h=d.mutableData?l:k;g=c.templatizeTemplateClass=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),b}(h);var i=c.hostProps;for(var j in i)g.prototype._addPropertyEffect('_host_'+j,g.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:f(j,e)}),g.prototype._createNotifyingProperty('_host_'+j)}b(a,g),a.__dataProto&&Object.assign(a.__data,a.__dataProto),a.__dataTemp={},a.__dataPending=null,a.__dataOld=null,a._enableProperties()}}function f(a,b){return function(a,c,d){b.call(a.__templatizeOwner,c.substring(6),d[c])}}function g(a,b,c,d){var e=c.hostProps||{};for(var f in d.instanceProps){delete e[f];var g=d.notifyInstanceProp;g&&a.prototype._addPropertyEffect(f,a.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:h(f,g)})}if(d.forwardHostProp&&b.__dataHost)for(var j in e)a.prototype._addPropertyEffect(j,a.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:i()})}function h(a,b){return function(a,c,d){b.call(a.__templatizeOwner,a,c,d[c])}}function i(){return function(a,b,c){a.__dataHost._setPendingPropertyOrPath('_host_'+b,c[b],!0,!0)}}var j=null;a.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:a,writable:!0}});var k=Polymer.PropertyEffects(a),l=Polymer.MutableData(k),m=Polymer.PropertyEffects(function(){function a(){babelHelpers.classCallCheck(this,a)}return a}()),n=function(a){function b(a){babelHelpers.classCallCheck(this,b);var c=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));c._configureProperties(a),c.root=c._stampTemplate(c.__dataHost);for(var d=c.children=[],e=c.root.firstChild;e;e=e.nextSibling)d.push(e),e.__templatizeInstance=c;c.__templatizeOwner.__hideTemplateChildren__&&c._showHideChildren(!0);var f=c.__templatizeOptions;return(a&&f.instanceProps||!f.instanceProps)&&c._enableProperties(),c}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_configureProperties',value:function(a){var b=this.__templatizeOptions;if(a)for(var c in b.instanceProps)c in a&&this._setPendingProperty(c,a[c]);for(var d in this.__hostProps)this._setPendingProperty(d,this.__dataHost['_host_'+d])}},{key:'forwardHostProp',value:function(a,b){this._setPendingPropertyOrPath(a,b,!1,!0)&&this.__dataHost._enqueueClient(this)}},{key:'_addEventListenerToNode',value:function(a,b,c){var d=this;if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(a,b,function(a){a.model=d,c(a)});else{var e=this.__dataHost.__dataHost;e&&e._addEventListenerToNode(a,b,c)}}},{key:'_showHideChildren',value:function(a){for(var b,d=this.children,c=0;c<d.length;c++)b=d[c],!!a!=!!b.__hideTemplateChildren__&&(b.nodeType===Node.TEXT_NODE?a?(b.__polymerTextContent__=b.textContent,b.textContent=''):b.textContent=b.__polymerTextContent__:b.style&&(a?(b.__polymerDisplay__=b.style.display,b.style.display='none'):b.style.display=b.__polymerDisplay__)),b.__hideTemplateChildren__=a,b._showHideChildren&&b._showHideChildren(a)}},{key:'_setUnmanagedPropertyToNode',value:function(a,c,d){a.__hideTemplateChildren__&&a.nodeType==Node.TEXT_NODE&&'textContent'==c?a.__polymerTextContent__=d:babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_setUnmanagedPropertyToNode',this).call(this,a,c,d)}},{key:'parentModel',get:function(){var a=this.__parentModel;if(!a){var b;a=this;do a=a.__dataHost.__dataHost;while((b=a.__templatizeOptions)&&!b.parentModel);this.__parentModel=a}return a}}]),b}(m),o=Polymer.MutableData(n);Polymer.Templatize={templatize:function(a,b,f){if(f=f||{},a.__templatizeOwner)throw new Error('A <template> can only be templatized once');a.__templatizeOwner=b;var g=b.constructor._parseTemplate(a),h=g.templatizeInstanceClass;h||(h=d(a,g,f),g.templatizeInstanceClass=h),e(a,g,f);var i=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),b}(h);return i.prototype._methodHost=c(a),i.prototype.__dataHost=a,i.prototype.__templatizeOwner=b,i.prototype.__hostProps=g.hostProps,i},modelForElement:function(a,b){for(var c;b;)if(!(c=b.__templatizeInstance))b=b.parentNode;else if(c.__dataHost!=a)b=c.__dataHost;else return c;return null}}})();
(function(){'use notstrict';Polymer.Templatizer={templatize:function(a,b){this._templatizerTemplate=a,this.ctor=Polymer.Templatize.templatize(a,this,{mutableData:!!b,parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp:function(a){return new this.ctor(a)},modelForElement:function(a){return Polymer.Templatize.modelForElement(this._templatizerTemplate,a)}}})();
(function(){'use notstrict';var a=Polymer.GestureEventListeners(Polymer.OptionalMutableData(Polymer.PropertyEffects(HTMLElement))),b=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'attributeChangedCallback',value:function(){this.mutableData=!0}},{key:'connectedCallback',value:function(){this.render()}},{key:'disconnectedCallback',value:function(){this.__removeChildren()}},{key:'__insertChildren',value:function(){this.parentNode.insertBefore(this.root,this)}},{key:'__removeChildren',value:function(){if(this.__children)for(var a=0;a<this.__children.length;a++)this.root.appendChild(this.__children[a])}},{key:'render',value:function(){var a,b=this;if(!this.__children){if(a=a||this.querySelector('template'),!a){var c=new MutationObserver(function(){if(a=b.querySelector('template'),a)c.disconnect(),b.render(a);else throw new Error('dom-bind requires a <template> child')});return void c.observe(this,{childList:!0})}this.root=this._stampTemplate(a),this.$=this.root.$,this.__children=[];for(var d=this.root.firstChild;d;d=d.nextSibling)this.__children[this.__children.length]=d;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0}))}}],[{key:'observedAttributes',get:function(){return['mutable-data']}}]),b}(a);customElements.define('dom-bind',b)})();
(function(){'use notstrict';var a=Polymer.ElementMixin(HTMLElement);Polymer.Element=a})();
(function(){'use notstrict';var a=Polymer.OptionalMutableData(Polymer.Element),b=function(a){function b(){babelHelpers.classCallCheck(this,b);var a=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.__instances=[],a.__limit=Infinity,a.__pool=[],a.__renderDebouncer=null,a.__itemsIdxToInstIdx={},a.__chunkCount=null,a.__lastChunkTime=null,a.__needFullRefresh=!1,a.__sortFn=null,a.__filterFn=null,a.__observePaths=null,a.__ctor=null,a}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'dom-repeat'}},{key:'template',get:function(){return null}},{key:'properties',get:function(){return{items:{type:Array},as:{type:String,value:'item'},indexAs:{type:String,value:'index'},itemsIndexAs:{type:String,value:'itemsIndex'},sort:{type:Function,observer:'__sortChanged'},filter:{type:Function,observer:'__filterChanged'},observe:{type:String,observer:'__observeChanged'},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:'__initializeChunking'},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:'__computeFrameTime(targetFramerate)'}}}},{key:'observers',get:function(){return['__itemsChanged(items.*)']}}]),babelHelpers.createClass(b,[{key:'disconnectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'disconnectedCallback',this).call(this),this.__isDetached=!0;for(var a=0;a<this.__instances.length;a++)this.__detachInstance(a)}},{key:'connectedCallback',value:function(){if(babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'connectedCallback',this).call(this),this.__isDetached){this.__isDetached=!1;for(var a=this.parentNode,c=0;c<this.__instances.length;c++)this.__attachInstance(c,a)}}},{key:'__ensureTemplatized',value:function(){var a=this;if(!this.__ctor){var b=this.template=this.querySelector('template');if(!b){var c=new MutationObserver(function(){if(a.querySelector('template'))c.disconnect(),a.__render();else throw new Error('dom-repeat requires a <template> child')});return c.observe(this,{childList:!0}),!1}var d={};d[this.as]=!0,d[this.indexAs]=!0,d[this.itemsIndexAs]=!0,this.__ctor=Polymer.Templatize.templatize(b,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:d,forwardHostProp:function(a,b){for(var c,d=this.__instances,e=0;e<d.length&&(c=d[e]);e++)c.forwardHostProp(a,b)},notifyInstanceProp:function(a,b,c){if(Polymer.Path.matches(this.as,b)){var d=a[this.itemsIndexAs];b==this.as&&(this.items[d]=c);var e=Polymer.Path.translate(this.as,'items.'+d,b);this.notifyPath(e,c)}}})}return!0}},{key:'__getMethodHost',value:function(){return this.__dataHost._methodHost||this.__dataHost}},{key:'__sortChanged',value:function(a){var b=this.__getMethodHost();this.__sortFn=a&&('function'==typeof a?a:function(){return b[a].apply(b,arguments)}),this.__needFullRefresh=!0,this.items&&this.__debounceRender(this.__render)}},{key:'__filterChanged',value:function(a){var b=this.__getMethodHost();this.__filterFn=a&&('function'==typeof a?a:function(){return b[a].apply(b,arguments)}),this.__needFullRefresh=!0,this.items&&this.__debounceRender(this.__render)}},{key:'__computeFrameTime',value:function(a){return Math.ceil(1e3/a)}},{key:'__initializeChunking',value:function(){this.initialCount&&(this.__limit=this.initialCount,this.__chunkCount=this.initialCount,this.__lastChunkTime=performance.now())}},{key:'__tryRenderChunk',value:function(){this.items&&this.__limit<this.items.length&&this.__debounceRender(this.__requestRenderChunk)}},{key:'__requestRenderChunk',value:function(){var a=this;requestAnimationFrame(function(){return a.__renderChunk()})}},{key:'__renderChunk',value:function(){var a=performance.now(),b=this._targetFrameTime/(a-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*b)||1,this.__limit+=this.__chunkCount,this.__lastChunkTime=a,this.__debounceRender(this.__render)}},{key:'__observeChanged',value:function(){this.__observePaths=this.observe&&this.observe.replace('.*','.').split(' ')}},{key:'__itemsChanged',value:function(a){this.items&&!Array.isArray(this.items)&&console.warn('dom-repeat expected array for `items`, found',this.items),this.__handleItemPath(a.path,a.value)||(this.__needFullRefresh=!0,this.__initializeChunking(),this.__debounceRender(this.__render))}},{key:'__handleObservedPaths',value:function(a){if(this.__observePaths){a=a.substring(a.indexOf('.')+1);for(var b=this.__observePaths,c=0;c<b.length;c++)if(0===a.indexOf(b[c]))return this.__needFullRefresh=!0,this.__debounceRender(this.__render,this.delay),!0}}},{key:'__debounceRender',value:function(a,b){this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,0<b?Polymer.Async.timeOut.after(b):Polymer.Async.microTask,a.bind(this)),Polymer.enqueueDebouncer(this.__renderDebouncer)}},{key:'render',value:function(){this.__needFullRefresh=!0,this.__debounceRender(this.__render),Polymer.flush()}},{key:'__render',value:function(){this.__ensureTemplatized()&&(this.__applyFullRefresh(),this.__pool.length=0,this._setRenderedItemCount(this.__instances.length),this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0})),this.__tryRenderChunk())}},{key:'__applyFullRefresh',value:function(){for(var c=this,d=this.items||[],a=Array(d.length),b=0;b<d.length;b++)a[b]=b;this.__filterFn&&(a=a.filter(function(a,b,e){return c.__filterFn(d[a],b,e)})),this.__sortFn&&a.sort(function(e,a){return c.__sortFn(d[e],d[a])});for(var e=this.__itemsIdxToInstIdx={},f=0,g=Math.min(a.length,this.__limit);f<g;f++){var h=this.__instances[f],i=a[f],j=d[i];e[i]=f,h&&f<this.__limit?(h._setPendingProperty(this.as,j),h._setPendingProperty(this.indexAs,f),h._setPendingProperty(this.itemsIndexAs,i),h._flushProperties()):this.__insertInstance(j,f,i)}for(var k=this.__instances.length-1;k>=f;k--)this.__detachAndRemoveInstance(k)}},{key:'__detachInstance',value:function(a){for(var b,c=this.__instances[a],d=0;d<c.children.length;d++)b=c.children[d],c.root.appendChild(b);return c}},{key:'__attachInstance',value:function(a,b){var c=this.__instances[a];b.insertBefore(c.root,this)}},{key:'__detachAndRemoveInstance',value:function(a){var b=this.__detachInstance(a);b&&this.__pool.push(b),this.__instances.splice(a,1)}},{key:'__stampInstance',value:function(a,b,c){var d={};return d[this.as]=a,d[this.indexAs]=b,d[this.itemsIndexAs]=c,new this.__ctor(d)}},{key:'__insertInstance',value:function(a,b,c){var d=this.__pool.pop();d?(d._setPendingProperty(this.as,a),d._setPendingProperty(this.indexAs,b),d._setPendingProperty(this.itemsIndexAs,c),d._flushProperties()):d=this.__stampInstance(a,b,c);var e=this.__instances[b+1],f=e?e.children[0]:this;return this.parentNode.insertBefore(d.root,f),this.__instances[b]=d,d}},{key:'_showHideChildren',value:function(a){for(var b=0;b<this.__instances.length;b++)this.__instances[b]._showHideChildren(a)}},{key:'__handleItemPath',value:function(a,b){var c=a.slice(6),d=c.indexOf('.'),e=0>d?c:c.substring(0,d);if(e==parseInt(e,10)){var f=0>d?'':c.substring(d+1);if(!this.__handleObservedPaths(f)){var g=this.__itemsIdxToInstIdx[e],h=this.__instances[g];if(h){var i=this.as+(f?'.'+f:'');h._setPendingPropertyOrPath(i,b,!1,!0),h._flushProperties()}}return!0}}},{key:'itemForElement',value:function(a){var b=this.modelForElement(a);return b&&b[this.as]}},{key:'indexForElement',value:function(a){var b=this.modelForElement(a);return b&&b[this.indexAs]}},{key:'modelForElement',value:function(a){return Polymer.Templatize.modelForElement(this.template,a)}}]),b}(a);customElements.define(b.is,b),Polymer.DomRepeat=b})();
(function(){'use notstrict';var a=function(a){function b(){babelHelpers.classCallCheck(this,b);var a=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.__renderDebouncer=null,a.__invalidProps=null,a.__instance=null,a}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'dom-if'}},{key:'template',get:function(){return null}},{key:'properties',get:function(){return{if:{type:Boolean,observer:'__debounceRender'},restamp:{type:Boolean,observer:'__debounceRender'}}}}]),babelHelpers.createClass(b,[{key:'__debounceRender',value:function(){var a=this;this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,Polymer.Async.microTask,function(){return a.__render()}),Polymer.enqueueDebouncer(this.__renderDebouncer)}},{key:'disconnectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'disconnectedCallback',this).call(this),this.parentNode&&(this.parentNode.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||this.parentNode.host)||this.__teardownInstance()}},{key:'connectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'connectedCallback',this).call(this),this['if']&&this.__debounceRender()}},{key:'render',value:function(){Polymer.flush()}},{key:'__render',value:function(){if(this['if']){if(!this.__ensureInstance())return;this._showHideChildren()}else this.restamp&&this.__teardownInstance();!this.restamp&&this.__instance&&this._showHideChildren(),this['if']!=this._lastIf&&(this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0})),this._lastIf=this['if'])}},{key:'__ensureInstance',value:function(){var a=this,b=this.parentNode;if(b){if(!this.__ctor){var c=this.querySelector('template');if(!c){var d=new MutationObserver(function(){if(a.querySelector('template'))d.disconnect(),a.__render();else throw new Error('dom-if requires a <template> child')});return d.observe(this,{childList:!0}),!1}this.__ctor=Polymer.Templatize.templatize(c,this,{mutableData:!0,forwardHostProp:function(a,b){this.__instance&&(this['if']?this.__instance.forwardHostProp(a,b):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[Polymer.Path.root(a)]=!0))}})}if(!this.__instance)this.__instance=new this.__ctor,b.insertBefore(this.__instance.root,this);else{this.__syncHostProperties();var e=this.__instance.children;if(e&&e.length){var f=this.previousSibling;if(f!==e[e.length-1])for(var g,h=0;h<e.length&&(g=e[h]);h++)b.insertBefore(g,this)}}}return!0}},{key:'__syncHostProperties',value:function(){var a=this.__invalidProps;if(a){for(var b in a)this.__instance._setPendingProperty(b,this.__dataHost[b]);this.__invalidProps=null,this.__instance._flushProperties()}}},{key:'__teardownInstance',value:function(){if(this.__instance){var a=this.__instance.children;if(a&&a.length)for(var b,c=a[0].parentNode,d=0;d<a.length&&(b=a[d]);d++)c.removeChild(b);this.__instance=null,this.__invalidProps=null}}},{key:'_showHideChildren',value:function(){var a=this.__hideTemplateChildren__||!this['if'];this.__instance&&this.__instance._showHideChildren(a)}}]),b}(Polymer.Element);customElements.define(a.is,a),Polymer.DomIf=a})();
(function(){'use notstrict';var a=Polymer.dedupingMixin(function(a){var b=function(a){function b(){babelHelpers.classCallCheck(this,b);var a=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.__lastItems=null,a.__lastMulti=null,a.__selectedMap=null,a}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'properties',get:function(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}},{key:'observers',get:function(){return['__updateSelection(multi, items.*)']}}]),babelHelpers.createClass(b,[{key:'__updateSelection',value:function(a,b){var c=b.path;if('items'==c){var d=b.base||[],e=this.__lastItems,f=this.__lastMulti;if(a!==f&&this.clearSelection(),e){var g=Polymer.ArraySplice.calculateSplices(d,e);this.__applySplices(g)}this.__lastItems=d,this.__lastMulti=a}else if('items.splices'==b.path)this.__applySplices(b.value.indexSplices);else{var h=c.slice(6),i=parseInt(h,10);0>h.indexOf('.')&&h==i&&this.__deselectChangedIdx(i)}}},{key:'__applySplices',value:function(a){for(var b=this,c=this.__selectedMap,d=function(d){var e=a[d];c.forEach(function(a,b){a<e.index||(a>=e.index+e.removed.length?c.set(b,a+e.addedCount-e.removed.length):c.set(b,-1))});for(var f,g=0;g<e.addedCount;g++)f=e.index+g,c.has(b.items[f])&&c.set(b.items[f],f)},e=0;e<a.length;e++)d(e);this.__updateLinks();var f=0;c.forEach(function(a,d){0>a?(b.multi?b.splice('selected',f,1):b.selected=b.selectedItem=null,c['delete'](d)):f++})}},{key:'__updateLinks',value:function(){var a=this;if(this.__dataLinkedPaths={},this.multi){var b=0;this.__selectedMap.forEach(function(c){0<=c&&a.linkPaths('items.'+c,'selected.'+b++)})}else this.__selectedMap.forEach(function(b){a.linkPaths('selected','items.'+b),a.linkPaths('selectedItem','items.'+b)})}},{key:'clearSelection',value:function(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}},{key:'isSelected',value:function(a){return this.__selectedMap.has(a)}},{key:'isIndexSelected',value:function(a){return this.isSelected(this.items[a])}},{key:'__deselectChangedIdx',value:function(a){var b=this,c=this.__selectedIndexForItemIndex(a);if(0<=c){var d=0;this.__selectedMap.forEach(function(a,e){c==d++&&b.deselect(e)})}}},{key:'__selectedIndexForItemIndex',value:function(a){var b=this.__dataLinkedPaths['items.'+a];if(b)return parseInt(b.slice(9),10)}},{key:'deselect',value:function(a){var b=this.__selectedMap.get(a);if(0<=b){this.__selectedMap['delete'](a);var c;this.multi&&(c=this.__selectedIndexForItemIndex(b)),this.__updateLinks(),this.multi?this.splice('selected',c,1):this.selected=this.selectedItem=null}}},{key:'deselectIndex',value:function(a){this.deselect(this.items[a])}},{key:'select',value:function(a){this.selectIndex(this.items.indexOf(a))}},{key:'selectIndex',value:function(a){var b=this.items[a];this.isSelected(b)?this.toggle&&this.deselectIndex(a):(!this.multi&&this.__selectedMap.clear(),this.__selectedMap.set(b,a),this.__updateLinks(),this.multi?this.push('selected',b):this.selected=this.selectedItem=b)}}]),b}(a);return b});Polymer.ArraySelectorMixin=a;var b=a(Polymer.Element),c=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'array-selector'}}]),b}(b);customElements.define(c.is,c),Polymer.ArraySelector=c})();
(function(){"use notstrict";function a(b){i=b&&b.shimcssproperties?!1:f||!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")}function d(c,a){for(var b in a)null===b?c.style.removeProperty(b):c.style.setProperty(b,a[b])}function b(){var b=o;requestAnimationFrame(function(){l?l(b):(n||(n=new Promise(function(b){k=b}),"complete"===document.readyState?k():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&k()})),n.then(function(){b&&b()}))})}function e(){this.customStyles=[],this.enqueued=!1}function g(c){!c.enqueued&&o&&(c.enqueued=!0,b())}var i,f=!(window.ShadyDOM&&window.ShadyDOM.inUse);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?i=window.ShadyCSS.nativeCss:window.ShadyCSS?(a(window.ShadyCSS),window.ShadyCSS=void 0):a(window.WebComponents&&window.WebComponents.flags);var j=i;var k,n=null,l=window.HTMLImports&&window.HTMLImports.whenReady||null;var m=null,o=null;e.prototype.c=function(b){b.__seenByShadyCSS||(b.__seenByShadyCSS=!0,this.customStyles.push(b),g(this))},e.prototype.b=function(c){if(c.__shadyCSSCachedStyle)return c.__shadyCSSCachedStyle;var a;return a=c.getStyle?c.getStyle():c,a},e.prototype.a=function(){for(var c,d=this.customStyles,a=0;a<d.length;a++)if(c=d[a],!c.__shadyCSSCachedStyle){var b=this.b(c);b&&(b=b.__appliedElement||b,m&&m(b),c.__shadyCSSCachedStyle=b)}return d},e.prototype.addCustomStyle=e.prototype.c,e.prototype.getStyleForCustomStyle=e.prototype.b,e.prototype.processStyles=e.prototype.a,Object.defineProperties(e.prototype,{transformCallback:{get:function(){return m},set:function(b){m=b}},validateCallback:{get:function(){return o},set:function(c){var a=!1;o||(a=!0),o=c,a&&g(this)}}});var p=new e;window.ShadyCSS||(window.ShadyCSS={prepareTemplate:function(){},styleSubtree:function(c,a){p.a(),d(c,a)},styleElement:function(){p.a()},styleDocument:function(b){p.a(),d(document.body,b)},getComputedStyleValue:function(c,a){return(c=window.getComputedStyle(c).getPropertyValue(a))?c.trim():""},nativeCss:j,nativeShadow:f}),window.ShadyCSS.CustomStyleInterface=p}).call(this);
(function(){'use notstrict';var a='include',b=window.ShadyCSS.CustomStyleInterface,c=function(c){function d(){babelHelpers.classCallCheck(this,d);var a=babelHelpers.possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return a._style=null,b.addCustomStyle(a),a}return babelHelpers.inherits(d,c),babelHelpers.createClass(d,[{key:'getStyle',value:function(){if(this._style)return this._style;var b=this.querySelector('style');if(b){this._style=b;var c=b.getAttribute(a);return c&&(b.removeAttribute(a),b.textContent=Polymer.StyleGather.cssFromModules(c)+b.textContent),this._style}}}]),d}(HTMLElement);window.customElements.define('custom-style',c),Polymer.CustomStyle=c})();
(function(){'use notstrict';var a=Polymer.MutableData._mutablePropertyChange;Polymer.MutableDataBehavior={_shouldPropertyChange:function(b,c,d){return a(this,b,c,d,!0)}},Polymer.OptionalMutableDataBehavior={properties:{mutableData:Boolean},_shouldPropertyChange:function(b,c,d){return a(this,b,c,d,this.mutableData)}}})();
Polymer.Base=Polymer.LegacyElementMixin(HTMLElement).prototype;
Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:Polymer.Element?null:function(){this.fire('iron-form-element-register')},detached:Polymer.Element?null:function(){this._parentForm&&this._parentForm.fire('iron-form-element-unregister',{target:this})}};
(function(){'use notstrict';Polymer.IronA11yAnnouncer=Polymer({is:'iron-a11y-announcer',properties:{mode:{type:String,value:'polite'},_text:{type:String,value:''}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this),document.body.addEventListener('iron-announce',this._onIronAnnounce.bind(this))},announce:function(a){this._text='',this.async(function(){this._text=a},100)},_onIronAnnounce:function(a){a.detail&&a.detail.text&&this.announce(a.detail.text)}}),Polymer.IronA11yAnnouncer.instance=null,Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement('iron-a11y-announcer')),document.body.appendChild(Polymer.IronA11yAnnouncer.instance)}})();
(function(){function a(a){this.type=a&&a.type||'default',this.key=a&&a.key,'value'in a&&(this.value=a.value)}a.types={},a.prototype=Object.defineProperties({byKey:function(a){return this.key=a,this.value}},{value:{get:function(){var b=this.type,c=this.key;if(b&&c)return a.types[b]&&a.types[b][c]},set:function(b){var c=this.type,d=this.key;c&&d&&(c=a.types[c]=a.types[c]||{},null==b?delete c[d]:c[d]=b)},configurable:!0,enumerable:!0},list:{get:function(){var c=this.type;if(c){var d=a.types[this.type];return d?Object.keys(d).map(function(a){return b[this.type][a]},this):[]}},configurable:!0,enumerable:!0}}),Polymer.IronMeta=a;var b=Polymer.IronMeta.types;Polymer(Object.defineProperties({is:'iron-meta',properties:{type:{type:String,value:'default'},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:'_selfChanged'},__meta:{type:Boolean,computed:'__computeMeta(type, key, value)'}},hostAttributes:{hidden:!0},__computeMeta:function(a,b,c){var d=new Polymer.IronMeta({type:a,key:b});return void 0!==c&&c!==d.value?d.value=c:this.value!==d.value&&(this.value=d.value),d},_selfChanged:function(a){a&&(this.value=this)},byKey:function(a){return new Polymer.IronMeta({type:this.type,key:a}).value}},{list:{get:function(){return this.__meta&&this.__meta.list},configurable:!0,enumerable:!0}}))})();
Polymer.IronValidatableBehaviorMeta=null,Polymer.IronValidatableBehavior=Object.defineProperties({properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:'_invalidChanged'}},registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:'validator'})},_invalidChanged:function(){this.invalid?this.setAttribute('aria-invalid','true'):this.removeAttribute('aria-invalid')},hasValidator:function(){return null!=this._validator},validate:function(a){return this.invalid=void 0===a&&void 0!==this.value?!this._getValidity(this.value):!this._getValidity(a),!this.invalid},_getValidity:function(a){return!this.hasValidator()||this._validator.validate(a)}},{_validator:{get:function(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)},configurable:!0,enumerable:!0}});
Polymer(Object.defineProperties({is:'iron-input',behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{type:String},value:{computed:'_computeValue(bindValue)'},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:['_bindValueChanged(bindValue, _inputElement)'],listeners:{input:'_onInput',keypress:'_onKeypress'},created:function(){Polymer.IronA11yAnnouncer.requestAvailability(),this._previousValidInput='',this._patternAlreadyChecked=!1},attached:function(){this._observer=Polymer.dom(this).observeNodes(function(){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&(Polymer.dom(this).unobserveNodes(this._observer),this._observer=null)},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire('iron-input-ready')},_bindValueChanged:function(a,b){b&&(a===void 0?b.value=null:a!==b.value&&(this.inputElement.value=a),this.autoValidate&&this.validate(),this.fire('bind-value-changed',{value:a}))},_onInput:function(){if(this.allowedPattern&&!this._patternAlreadyChecked){var a=this._checkPatternValidity();a||(this._announceInvalidCharacter('Invalid string of characters not entered.'),this.inputElement.value=this._previousValidInput)}this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(a){var b=8==a.keyCode||9==a.keyCode||13==a.keyCode||27==a.keyCode,c=19==a.keyCode||20==a.keyCode||45==a.keyCode||46==a.keyCode||144==a.keyCode||145==a.keyCode||32<a.keyCode&&41>a.keyCode||111<a.keyCode&&124>a.keyCode;return!b&&!(0==a.charCode&&c)},_onKeypress:function(a){if(this.allowedPattern||'number'===this.type){var b=this._patternRegExp;if(b&&!(a.metaKey||a.ctrlKey||a.altKey)){this._patternAlreadyChecked=!0;var c=String.fromCharCode(a.charCode);this._isPrintable(a)&&!b.test(c)&&(a.preventDefault(),this._announceInvalidCharacter('Invalid character '+c+' not entered.'))}}},_checkPatternValidity:function(){var a=this._patternRegExp;if(!a)return!0;for(var b=0;b<this.inputElement.value.length;b++)if(!a.test(this.inputElement.value[b]))return!1;return!0},validate:function(){if(!this.inputElement)return this.invalid=!1,!0;var a=this.inputElement.checkValidity();return a&&(this.required&&''===this.bindValue?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.bindValue))),this.invalid=!a,this.fire('iron-input-validate'),a},_announceInvalidCharacter:function(a){this.fire('iron-announce',{text:a})},_computeValue:function(a){return a}},{inputElement:{get:function(){return this._inputElement},configurable:!0,enumerable:!0},_patternRegExp:{get:function(){var a;if(this.allowedPattern)a=new RegExp(this.allowedPattern);else switch(this.type){case'number':a=/[0-9.,e-]/;}return a},configurable:!0,enumerable:!0}}));
(function(){'use notstrict';function a(a,b){var c='';if(a){var d=a.toLowerCase();' '===d||o.test(d)?c='space':p.test(d)?c='esc':1==d.length?(!b||l.test(d))&&(c=d):n.test(d)?c=d.replace('arrow',''):'multiply'==d?c='*':c=d}return c}function b(a){var b='';return a&&(a in i?b=i[a]:m.test(a)?(a=parseInt(a.replace('U+','0x'),16),b=h(a).toLowerCase()):b=a.toLowerCase()),b}function c(a){var b='';return+a&&(65<=a&&90>=a?b=h(32+a):112<=a&&123>=a?b='f'+(a-112+1):48<=a&&57>=a?b=a-48+'':96<=a&&105>=a?b=a-96+'':b=j[a]),b}function d(d,e){return d.key?a(d.key,e):d.detail&&d.detail.key?a(d.detail.key,e):b(d.keyIdentifier)||c(d.keyCode)||''}function e(a,b){var c=d(b,a.hasModifiers);return c===a.key&&(!a.hasModifiers||!!b.shiftKey===!!a.shiftKey&&!!b.ctrlKey===!!a.ctrlKey&&!!b.altKey===!!a.altKey&&!!b.metaKey===!!a.metaKey)}function f(a){return 1===a.length?{combo:a,key:a,event:'keydown'}:a.split('+').reduce(function(a,b){var c=b.split(':'),d=c[0],e=c[1];return d in k?(a[k[d]]=!0,a.hasModifiers=!0):(a.key=d,a.event=e||'keydown'),a},{combo:a.split(':').shift()})}function g(a){return a.trim().split(' ').map(function(a){return f(a)})}var h=String.fromCharCode,i={"U+0008":'backspace',"U+0009":'tab',"U+001B":'esc',"U+0020":'space',"U+007F":'del'},j={8:'backspace',9:'tab',13:'enter',27:'esc',32:'space',33:'pageup',34:'pagedown',35:'end',36:'home',37:'left',38:'up',39:'right',40:'down',46:'del',106:'*'},k={shift:'shiftKey',ctrl:'ctrlKey',alt:'altKey',meta:'metaKey'},l=/[a-z0-9*]/,m=/U\+/,n=/^arrow/,o=/^space(bar)?/,p=/^escape$/;Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:['_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)'],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(a,b){this._imperativeKeyBindings[a]=b,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(a,b){for(var c=g(b),d=0;d<c.length;++d)if(e(c[d],a))return!0;return!1},_collectKeyBindings:function(){var a=this.behaviors.map(function(a){return a.keyBindings});return-1===a.indexOf(this.keyBindings)&&a.push(this.keyBindings),a},_prepKeyBindings:function(){for(var a in this._keyBindings={},this._collectKeyBindings().forEach(function(a){for(var b in a)this._addKeyBinding(b,a[b])},this),this._imperativeKeyBindings)this._addKeyBinding(a,this._imperativeKeyBindings[a]);for(var b in this._keyBindings)this._keyBindings[b].sort(function(a,b){var c=a[0].hasModifiers,d=b[0].hasModifiers;return c===d?0:c?-1:1})},_addKeyBinding:function(a,b){g(a).forEach(function(a){this._keyBindings[a.event]=this._keyBindings[a.event]||[],this._keyBindings[a.event].push([a,b])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(a){var b=this._keyBindings[a],c=this._onKeyBindingEvent.bind(this,b);this._boundKeyHandlers.push([this.keyEventTarget,a,c]),this.keyEventTarget.addEventListener(a,c)},this)},_unlistenKeyEventListeners:function(){for(var a,b,c,d;this._boundKeyHandlers.length;)a=this._boundKeyHandlers.pop(),b=a[0],c=a[1],d=a[2],b.removeEventListener(c,d)},_onKeyBindingEvent:function(a,b){if(this.stopKeyboardEventPropagation&&b.stopPropagation(),!b.defaultPrevented)for(var c=0;c<a.length;c++){var d=a[c][0],f=a[c][1];if(e(d,b)&&(this._triggerKeyHandler(d,f,b),b.defaultPrevented))return}},_triggerKeyHandler:function(a,b,c){var d=Object.create(a);d.keyboardEvent=c;var e=new CustomEvent(a.event,{detail:d,cancelable:!0});this[b].call(this,e),e.defaultPrevented&&c.preventDefault()}}})();
Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:'_disabledChanged',reflectToAttribute:!0},_oldTabIndex:{type:Number},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}},__handleEventRetargeting:{type:Boolean,value:function(){return!this.shadowRoot&&!Polymer.Element}}},observers:['_changedControlState(focused, disabled)'],ready:function(){this.addEventListener('focus',this._boundFocusBlurHandler,!0),this.addEventListener('blur',this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(a){if(Polymer.Element)return void this._setFocused('focus'===a.type);if(a.target===this)this._setFocused('focus'===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}},_disabledChanged:function(a){this.setAttribute('aria-disabled',a?'true':'false'),this.style.pointerEvents=a?'none':'',a?(this._oldTabIndex=this.tabIndex,this._setFocused(!1),this.tabIndex=-1,this.blur()):this._oldTabIndex!==void 0&&(this.tabIndex=this._oldTabIndex)},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};
Polymer.PaperInputHelper={},Polymer.PaperInputHelper.NextLabelID=1,Polymer.PaperInputHelper.NextAddonID=1,Polymer.PaperInputBehaviorImpl=Object.defineProperties({properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:'off'},autofocus:{type:Boolean,observer:'_autofocusChanged'},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:''},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:'none'},autocorrect:{type:String,value:'off'},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},_ariaDescribedBy:{type:String,value:''},_ariaLabelledBy:{type:String,value:''}},listeners:{"addon-attached":'_onAddonAttached'},keyBindings:{"shift+tab:keydown":'_onShiftTabDown'},hostAttributes:{tabindex:0},created:function(){this._typesThatHaveText=['date','datetime','datetime-local','month','time','week','file']},attached:function(){this._updateAriaLabelledBy(),!Polymer.Element&&this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(a,b){return a=a?a+' '+b:b,a},_onAddonAttached:function(a){var b=Polymer.dom(a).rootTarget;if(b.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,b.id);else{var c='paper-input-add-on-'+Polymer.PaperInputHelper.NextAddonID++;b.id=c,this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,c)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(a){Polymer.IronControlState._focusBlurHandler.call(this,a),this.focused&&!this._shiftTabPressed&&this._focusableElement&&this._focusableElement.focus()},_onShiftTabDown:function(){var a=this.getAttribute('tabindex');this._shiftTabPressed=!0,this.setAttribute('tabindex','-1'),this.async(function(){this.setAttribute('tabindex',a),this._shiftTabPressed=!1},1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(a){try{var b=this.inputElement.selectionStart;this.value=a,this.inputElement.selectionStart=b,this.inputElement.selectionEnd=b}catch(b){this.value=a}},_computeAlwaysFloatLabel:function(a,b){return b||a},_updateAriaLabelledBy:function(){var a=Polymer.dom(this.root).querySelector('label');if(!a)return void(this._ariaLabelledBy='');var b;a.id?b=a.id:(b='paper-input-label-'+Polymer.PaperInputHelper.NextLabelID++,a.id=b),this._ariaLabelledBy=b},_onChange:function(a){this.shadowRoot&&this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var a=document.activeElement,b=a instanceof HTMLElement,c=b&&a!==document.body&&a!==document.documentElement;c||this._focusableElement.focus()}}},{inputElement:{get:function(){return this.$.input},configurable:!0,enumerable:!0},_focusableElement:{get:function(){return this.inputElement},configurable:!0,enumerable:!0}}),Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];
Polymer.PaperInputAddonBehavior={attached:function(){Polymer.dom.flush(),this.fire('addon-attached')},update:function(){}};
Polymer({is:'paper-input-char-counter',behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:'0'}},update:function(a){if(a.inputElement){a.value=a.value||'';var b=a.value.toString().length.toString();a.inputElement.hasAttribute('maxlength')&&(b+='/'+a.inputElement.getAttribute('maxlength')),this._charCounterStr=b}}});
Polymer(Object.defineProperties({is:'paper-input-container',properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:'bind-value'},autoValidate:{type:Boolean,value:!1},invalid:{observer:'_invalidChanged',type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:'input,iron-input,textarea,.paper-input-input'},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":'_onAddonAttached',"iron-input-validate":'_onIronInputValidate'},ready:function(){this._addons||(this._addons=[]),this.addEventListener('focus',this._boundOnFocus,!0),this.addEventListener('blur',this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener('input',this._onInput),this._inputElementValue&&''!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):this._handleValue(this._inputElement)},_onAddonAttached:function(a){this._addons||(this._addons=[]);var b=a.target;-1===this._addons.indexOf(b)&&(this._addons.push(b),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1),this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(a){this._handleValueAndAutoValidate(a.target)},_onValueChanged:function(a){var b=a.target;void 0===b.value||this._handleValueAndAutoValidate(a.target)},_handleValue:function(a){var b=this._inputElementValue;this._inputHasContent=b||0===b||'number'===a.type&&!a.checkValidity(),this.updateAddons({inputElement:a,value:b,invalid:this.invalid})},_handleValueAndAutoValidate:function(a){if(this.autoValidate&&a){var b;b=a.validate?a.validate(this._inputElementValue):a.checkValidity(),this.invalid=!b}this._handleValue(a)},_onIronInputValidate:function(){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},updateAddons:function(a){for(var b,c=0;b=this._addons[c];c++)b.update(a)},_computeInputContentClass:function(a,b,c,d,e){var f='input-content';if(!a){var g=this.querySelector('label');b||e?(f+=' label-is-floating',this.$.labelAndInputContainer.style.position='static',d?f+=' is-invalid':c&&(f+=' label-is-highlighted')):(g&&(this.$.labelAndInputContainer.style.position='relative'),d&&(f+=' is-invalid'))}else e&&(f+=' label-is-hidden'),d&&(f+=' is-invalid');return c&&(f+=' focused'),f},_computeUnderlineClass:function(a,b){var c='underline';return b?c+=' is-invalid':a&&(c+=' is-highlighted'),c},_computeAddOnContentClass:function(a,b){var c='add-on-content';return b?c+=' is-invalid':a&&(c+=' is-highlighted'),c}},{_valueChangedEvent:{get:function(){return this.attrForValue+'-changed'},configurable:!0,enumerable:!0},_propertyForValue:{get:function(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},configurable:!0,enumerable:!0},_inputElement:{get:function(){return Polymer.dom(this).querySelector(this._inputSelector)},configurable:!0,enumerable:!0},_inputElementValue:{get:function(){return this._inputElement[this._propertyForValue]||this._inputElement.value},configurable:!0,enumerable:!0}}));
Polymer({is:'paper-input-error',behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(a){this._setInvalid(a.invalid)}});
Polymer(Object.defineProperties({is:'paper-input',behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],beforeRegister:function(){var a=document.createElement('iron-input'),b='function'==typeof a._initSlottedInput?'v1':'v0',c=Polymer.DomModule['import']('paper-input','template'),d=Polymer.DomModule['import']('paper-input','template#'+b),e=c.content.querySelector('#template-placeholder');e&&e.parentNode.replaceChild(d.content,e)},listeners:{"iron-input-ready":'_onIronInputReady'},_onIronInputReady:function(){this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.$.nativeInput.type)&&(this.alwaysFloatLabel=!0),!this.inputElement.bindValue||this.$.container._handleValueAndAutoValidate(this.inputElement)}},{_focusableElement:{get:function(){return Polymer.Element?this.inputElement._inputElement:this.inputElement},configurable:!0,enumerable:!0}}));
Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:'_pressedChanged'},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:'aria-pressed',observer:'_ariaActiveAttributeChanged'}},listeners:{down:'_downHandler',up:'_upHandler',tap:'_tapHandler'},observers:['_focusChanged(focused)','_activeChanged(active, ariaActiveAttribute)'],keyBindings:{"enter:keydown":'_asyncClick',"space:keydown":'_spaceKeyDownHandler',"space:keyup":'_spaceKeyUpHandler'},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(a){this._detectKeyboardFocus(a),a||this._setPressed(!1)},_detectKeyboardFocus:function(a){this._setReceivedFocusFromKeyboard(!this.pointerDown&&a)},_userActivate:function(a){this.active!==a&&(this.active=a,this.fire('change'))},_downHandler:function(){this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(a){var b=a.detail.keyboardEvent,c=Polymer.dom(b).localTarget;this.isLightDescendant(c)||(b.preventDefault(),b.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(a){var b=a.detail.keyboardEvent,c=Polymer.dom(b).localTarget;this.isLightDescendant(c)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(){this._changedButtonState()},_ariaActiveAttributeChanged:function(a,b){b&&b!=a&&this.hasAttribute(b)&&this.removeAttribute(b)},_activeChanged:function(a){this.toggles?this.setAttribute(this.ariaActiveAttribute,a?'true':'false'):this.removeAttribute(this.ariaActiveAttribute),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];
(function(){'use notstrict';function a(a){this.element=a,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=d(this.width,this.height)}function b(a){this.element=a,this.color=window.getComputedStyle(a).color,this.wave=document.createElement('div'),this.waveContainer=document.createElement('div'),this.wave.style.backgroundColor=this.color,this.wave.classList.add('wave'),this.waveContainer.classList.add('wave-container'),Polymer.dom(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}var c=Math.min,d=Math.max,e=Math.sqrt,f={distance:function(a,b,c,d){var f=a-c,g=b-d;return e(f*f+g*g)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};a.prototype=Object.defineProperties({furthestCornerDistanceFrom:function(a,b){var c=f.distance(a,b,0,0),e=f.distance(a,b,this.width,0),g=f.distance(a,b,0,this.height),h=f.distance(a,b,this.width,this.height);return d(c,e,g,h)}},{boundingRect:{get:function(){return this.element.getBoundingClientRect()},configurable:!0,enumerable:!0}}),b.MAX_RADIUS=300,b.prototype=Object.defineProperties({resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new a(this.element)},draw:function(){var a,b,c;this.wave.style.opacity=this.opacity,a=this.radius/(this.containerMetrics.size/2),b=this.xNow-this.containerMetrics.width/2,c=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform='translate('+b+'px, '+c+'px)',this.waveContainer.style.transform='translate3d('+b+'px, '+c+'px, 0)',this.wave.style.webkitTransform='scale('+a+','+a+')',this.wave.style.transform='scale3d('+a+','+a+',1)'},downAction:function(a){var b=this.containerMetrics.width/2,c=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=f.now(),this.center?(this.xStart=b,this.yStart=c,this.slideDistance=f.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=a?a.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=a?a.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=b,this.yEnd=c,this.slideDistance=f.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+'px',this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+'px',this.waveContainer.style.width=this.containerMetrics.size+'px',this.waveContainer.style.height=this.containerMetrics.size+'px'},upAction:function(){this.isMouseDown&&(this.mouseUpStart=f.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}},{recenters:{get:function(){return this.element.recenters},configurable:!0,enumerable:!0},center:{get:function(){return this.element.center},configurable:!0,enumerable:!0},mouseDownElapsed:{get:function(){var a;return this.mouseDownStart?(a=f.now()-this.mouseDownStart,this.mouseUpStart&&(a-=this.mouseUpElapsed),a):0},configurable:!0,enumerable:!0},mouseUpElapsed:{get:function(){return this.mouseUpStart?f.now()-this.mouseUpStart:0},configurable:!0,enumerable:!0},mouseDownElapsedSeconds:{get:function(){return this.mouseDownElapsed/1e3},configurable:!0,enumerable:!0},mouseUpElapsedSeconds:{get:function(){return this.mouseUpElapsed/1e3},configurable:!0,enumerable:!0},mouseInteractionSeconds:{get:function(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},configurable:!0,enumerable:!0},initialOpacity:{get:function(){return this.element.initialOpacity},configurable:!0,enumerable:!0},opacityDecayVelocity:{get:function(){return this.element.opacityDecayVelocity},configurable:!0,enumerable:!0},radius:{get:function(){var a=this.containerMetrics.width*this.containerMetrics.width,d=this.containerMetrics.height*this.containerMetrics.height,f=1.1*c(e(a+d),b.MAX_RADIUS)+5,g=1.1-0.2*(f/b.MAX_RADIUS),h=this.mouseInteractionSeconds/g,i=f*(1-Math.pow(80,-h));return Math.abs(i)},configurable:!0,enumerable:!0},opacity:{get:function(){return this.mouseUpStart?d(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},configurable:!0,enumerable:!0},outerOpacity:{get:function(){var a=0.3*this.mouseUpElapsedSeconds,b=this.opacity;return d(0,c(a,b))},configurable:!0,enumerable:!0},isOpacityFullyDecayed:{get:function(){return 0.01>this.opacity&&this.radius>=c(this.maxRadius,b.MAX_RADIUS)},configurable:!0,enumerable:!0},isRestingAtMaxRadius:{get:function(){return this.opacity>=this.initialOpacity&&this.radius>=c(this.maxRadius,b.MAX_RADIUS)},configurable:!0,enumerable:!0},isAnimationComplete:{get:function(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},configurable:!0,enumerable:!0},translationFraction:{get:function(){return c(1,2*(this.radius/this.containerMetrics.size)/1.4142135623730951)},configurable:!0,enumerable:!0},xNow:{get:function(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},configurable:!0,enumerable:!0},yNow:{get:function(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},configurable:!0,enumerable:!0},isMouseDown:{get:function(){return this.mouseDownStart&&!this.mouseUpStart},configurable:!0,enumerable:!0}}),Polymer(Object.defineProperties({is:'paper-ripple',behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:0.25},opacityDecayVelocity:{type:Number,value:0.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:'_holdDownChanged'},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},keyBindings:{"enter:keydown":'_onEnterKeydown',"space:keydown":'_onSpaceKeydown',"space:keyup":'_onSpaceKeyup'},attached:function(){this.keyEventTarget=11==this.parentNode.nodeType?Polymer.dom(this).getOwnerRoot().host:this.parentNode;var a=this.keyEventTarget;this.listen(a,'up','uiUpAction'),this.listen(a,'down','uiDownAction')},detached:function(){this.unlisten(this.keyEventTarget,'up','uiUpAction'),this.unlisten(this.keyEventTarget,'down','uiDownAction'),this.keyEventTarget=null},simulatedRipple:function(){this.downAction(null),this.async(function(){this.upAction()},1)},uiDownAction:function(a){this.noink||this.downAction(a)},downAction:function(a){if(!(this.holdDown&&0<this.ripples.length)){var b=this.addRipple();b.downAction(a),this._animating||(this._animating=!0,this.animate())}},uiUpAction:function(a){this.noink||this.upAction(a)},upAction:function(a){this.holdDown||(this.ripples.forEach(function(b){b.upAction(a)}),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor=null,this.fire('transitionend')},addRipple:function(){var a=new b(this);return Polymer.dom(this.$.waves).appendChild(a.waveContainer),this.$.background.style.backgroundColor=a.color,this.ripples.push(a),this._setAnimating(!0),a},removeRipple:function(a){var b=this.ripples.indexOf(a);0>b||(this.ripples.splice(b,1),a.remove(),!this.ripples.length&&this._setAnimating(!1))},animate:function(){if(this._animating){var a,b;for(a=0;a<this.ripples.length;++a)b=this.ripples[a],b.draw(),this.$.background.style.opacity=b.outerOpacity,b.isOpacityFullyDecayed&&!b.isRestingAtMaxRadius&&this.removeRipple(b);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()}},_onEnterKeydown:function(){this.uiDownAction(),this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(a,b){void 0===b||(a?this.downAction():this.upAction())}},{target:{get:function(){return this.keyEventTarget},configurable:!0,enumerable:!0},shouldKeepAnimating:{get:function(){for(var a=0;a<this.ripples.length;++a)if(!this.ripples[a].isAnimationComplete)return!0;return!1},configurable:!0,enumerable:!0}}))})();
Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:'_noinkChanged'},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(a){Polymer.IronButtonStateImpl._downHandler.call(this,a),this.pressed&&this.ensureRipple(a)},ensureRipple:function(a){if(!this.hasRipple()){this._ripple=this._createRipple(),this._ripple.noink=this.noink;var b=this._rippleContainer||this.root;if(b&&Polymer.dom(b).appendChild(this._ripple),a){var c=Polymer.dom(this._rippleContainer||this),d=Polymer.dom(a).rootTarget;c.deepContains(d)&&this._ripple.uiDownAction(a)}}},getRipple:function(){return this.ensureRipple(),this._ripple},hasRipple:function(){return!!this._ripple},_createRipple:function(){var a=document.createElement('paper-ripple');return a},_noinkChanged:function(a){this.hasRipple()&&(this._ripple.noink=a)}};
Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:['_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)','_computeKeyboardClass(receivedFocusFromKeyboard)'],hostAttributes:{role:'button',tabindex:'0',animated:!0},_calculateElevation:function(){var a=1;this.disabled?a=0:this.active||this.pressed?a=4:this.receivedFocusFromKeyboard&&(a=3),this._setElevation(a)},_computeKeyboardClass:function(a){this.toggleClass('keyboard-focus',a)},_spaceKeyDownHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,a),this.hasRipple()&&1>this.getRipple().ripples.length&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,a),this.hasRipple()&&this._ripple.uiUpAction()}},Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];
Polymer({is:'paper-button',behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:'_calculateElevation'}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}});
Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:'_checkedChanged'},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:'on',observer:'_valueChanged'}},observers:['_requiredChanged(required)'],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute('aria-required','true'):this.removeAttribute('aria-required')},_checkedChanged:function(){this.active=this.checked,this.fire('iron-change')},_valueChanged:function(){(this.value===void 0||null===this.value)&&(this.value='on')}},Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];
Polymer.PaperInkyFocusBehaviorImpl={observers:['_focusedChanged(receivedFocusFromKeyboard)'],_focusedChanged:function(a){a&&this.ensureRipple(),this.hasRipple()&&(this._ripple.holdDown=a)},_createRipple:function(){var a=Polymer.PaperRippleBehavior._createRipple();return a.id='ink',a.setAttribute('center',''),a.classList.add('circle'),a}},Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];
Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this),this.hasRipple()&&(this.checked?this._ripple.setAttribute('checked',''):this._ripple.removeAttribute('checked'))},_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);this.disabled||this.isAttached&&(this.checked=this.active)}},Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];
Polymer({is:'paper-checkbox',behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:'checkbox',"aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:'aria-checked'}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){var a=this.getComputedStyleValue('--calculated-paper-checkbox-ink-size').trim();if('-1px'===a){var b=this.getComputedStyleValue('--calculated-paper-checkbox-size').trim(),c=b.match(/[A-Za-z]+$/)[0]||'px',d=parseFloat(b,10),e=8/3*d;'px'===c&&(e=Math.floor(e),e%2!==d%2&&e++),this.updateStyles({"--paper-checkbox-ink-size":e+c})}})},_computeCheckboxClass:function(a,b){var c='';return a&&(c+='checked '),b&&(c+='invalid'),c},_computeCheckmarkClass:function(a){return a?'':'hidden'},_createRipple:function(){return this._rippleContainer=this.$.checkboxContainer,Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});
Polymer.IronSelection=function(a){this.selection=[],this.selectCallback=a},Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(a){this.selection.slice().forEach(function(b){(!a||0>a.indexOf(b))&&this.setItemSelected(b,!1)},this)},isSelected:function(a){return 0<=this.selection.indexOf(a)},setItemSelected:function(a,b){if(null!=a&&b!==this.isSelected(a)){if(b)this.selection.push(a);else{var c=this.selection.indexOf(a);0<=c&&this.selection.splice(c,1)}this.selectCallback&&this.selectCallback(a,b)}},select:function(a){this.multi?this.toggle(a):this.get()!==a&&(this.setItemSelected(this.get(),!1),this.setItemSelected(a,!0))},toggle:function(a){this.setItemSelected(a,!this.isSelected(a))}};
Polymer.IronSelectableBehavior=Object.defineProperties({properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:'tap',observer:'_activateEventChanged'},selectable:String,selectedClass:{type:String,value:'iron-selected'},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:['_updateAttrForSelected(attrForSelected)','_updateSelected(selected)','_checkFallback(fallbackSelection)'],created:function(){this._bindFilterItem=this._filterItem.bind(this),this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this),this._addListener(this.activateEvent)},detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer),this._removeListener(this.activateEvent)},indexOf:function(a){return this.items.indexOf(a)},select:function(a){this.selected=a},selectPrevious:function(){var a=this.items.length,b=(+this._valueToIndex(this.selected)-1+a)%a;this.selected=this._indexToValue(b)},selectNext:function(){var a=(+this._valueToIndex(this.selected)+1)%this.items.length;this.selected=this._indexToValue(a)},selectIndex:function(a){this.select(this._indexToValue(a))},forceSynchronousItemUpdate:function(){this._observer&&'function'===typeof this._observer.flush?this._observer.flush():this._updateItems()},_checkFallback:function(){this._updateSelected()},_addListener:function(a){this.listen(this,a,'_activateHandler')},_removeListener:function(a){this.unlisten(this,a,'_activateHandler')},_activateEventChanged:function(a,b){this._removeListener(b),this._addListener(a)},_updateItems:function(){var a=Polymer.dom(this).queryDistributedElements(this.selectable||'*');a=Array.prototype.filter.call(a,this._bindFilterItem),this._setItems(a)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){if(this.items){var a=this._valueToItem(this.selected);a?this._selection.select(a):this._selection.clear(),this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(a){return!this._excludedLocalNames[a.localName]},_valueToItem:function(a){return null==a?null:this.items[this._valueToIndex(a)]},_valueToIndex:function(a){if(this.attrForSelected){for(var b,c=0;b=this.items[c];c++)if(this._valueForItem(b)==a)return c;}else return+a},_indexToValue:function(a){if(this.attrForSelected){var b=this.items[a];if(b)return this._valueForItem(b)}else return a},_valueForItem:function(a){if(!a)return null;var b=a[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];return b==void 0?a.getAttribute(this.attrForSelected):b},_applySelection:function(a,b){this.selectedClass&&this.toggleClass(this.selectedClass,b,a),this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,b,a),this._selectionChange(),this.fire('iron-'+(b?'select':'deselect'),{item:a})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(a){return Polymer.dom(a).observeNodes(function(a){this._updateItems(),this._updateSelected(),this.fire('iron-items-changed',a,{bubbles:!1,cancelable:!1})})},_activateHandler:function(a){for(var b=a.target,c=this.items;b&&b!=this;){var d=c.indexOf(b);if(0<=d){var e=this._indexToValue(d);return void this._itemActivate(e,b)}b=b.parentNode}},_itemActivate:function(a,b){this.fire('iron-activate',{selected:a,item:b},{cancelable:!0}).defaultPrevented||this.select(a)}},{_shouldUpdateSelection:{get:function(){return null!=this.selected},configurable:!0,enumerable:!0}});
Polymer.IronMultiSelectableBehaviorImpl=Object.defineProperties({properties:{multi:{type:Boolean,value:!1,observer:'multiChanged'},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:['_updateSelected(selectedValues.splices)'],select:function(a){this.multi?this._toggleSelected(a):this.selected=a},multiChanged:function(a){this._selection.multi=a,this._updateSelected()},_updateAttrForSelected:function(){this.multi?this.selectedItems&&0<this.selectedItems.length&&(this.selectedValues=this.selectedItems.map(function(a){return this._indexToValue(this.indexOf(a))},this).filter(function(a){return null!=a},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(a){a=a||[];var b=(this._valuesToItems(a)||[]).filter(function(a){return null!==a&&a!==void 0});this._selection.clear(b);for(var c=0;c<b.length;c++)this._selection.setItemSelected(b[c],!0);if(this.fallbackSelection&&!this._selection.get().length){var d=this._valueToItem(this.fallbackSelection);d&&this.select(this.fallbackSelection)}},_selectionChange:function(){var a=this._selection.get();this.multi?(this._setSelectedItems(a),this._setSelectedItem(a.length?a[0]:null)):null!==a&&a!==void 0?(this._setSelectedItems([a]),this._setSelectedItem(a)):(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(a){var b=this.selectedValues.indexOf(a);0>b?this.push('selectedValues',a):this.splice('selectedValues',b,1)},_valuesToItems:function(a){return null==a?null:a.map(function(a){return this._valueToItem(a)},this)}},{_shouldUpdateSelection:{get:function(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},configurable:!0,enumerable:!0}}),Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];
Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:'_focusedItemChanged',readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:'_disabledChanged'}},_MODIFIER_KEYS:['Alt','AltGraph','CapsLock','Control','Fn','FnLock','Hyper','Meta','NumLock','OS','ScrollLock','Shift','Super','Symbol','SymbolLock'],_SEARCH_RESET_TIMEOUT_MS:1e3,_previousTabIndex:0,hostAttributes:{role:'menu'},observers:['_updateMultiselectable(multi)'],listeners:{focus:'_onFocus',keydown:'_onKeydown',"iron-items-changed":'_onIronItemsChanged'},keyBindings:{up:'_onUpKey',down:'_onDownKey',esc:'_onEscKey',"shift+tab:keydown":'_onShiftTabDown'},attached:function(){this._resetTabindices()},select:function(a){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var b=this._valueToItem(a);b&&b.hasAttribute('disabled')||(this._setFocusedItem(b),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},_resetTabindices:function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(b){b.setAttribute('tabindex',b===a?'0':'-1')},this)},_updateMultiselectable:function(a){a?this.setAttribute('aria-multiselectable','true'):this.removeAttribute('aria-multiselectable')},_focusWithKeyboardEvent:function(a){if(-1===this._MODIFIER_KEYS.indexOf(a.key)){this.cancelDebouncer('_clearSearchText');var b=this._searchText||'',c=a.key&&1==a.key.length?a.key:String.fromCharCode(a.keyCode);b+=c.toLocaleLowerCase();for(var d,e=b.length,f=0;d=this.items[f];f++)if(!d.hasAttribute('disabled')){var g=this.attrForItemTitle||'textContent',h=(d[g]||d.getAttribute(g)||'').trim();if(!(h.length<e)&&h.slice(0,e).toLocaleLowerCase()==b){this._setFocusedItem(d);break}}this._searchText=b,this.debounce('_clearSearchText',this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},_clearSearchText:function(){this._searchText=''},_focusPrevious:function(){for(var a,b=this.items.length,c=+this.indexOf(this.focusedItem),d=1;d<b+1;d++)if(a=this.items[(c-d+b)%b],!a.hasAttribute('disabled')){var e=Polymer.dom(a).getOwnerRoot()||document;if(this._setFocusedItem(a),Polymer.dom(e).activeElement==a)return}},_focusNext:function(){for(var a,b=this.items.length,c=+this.indexOf(this.focusedItem),d=1;d<b+1;d++)if(a=this.items[(c+d)%b],!a.hasAttribute('disabled')){var e=Polymer.dom(a).getOwnerRoot()||document;if(this._setFocusedItem(a),Polymer.dom(e).activeElement==a)return}},_applySelection:function(a,b){b?a.setAttribute('aria-selected','true'):a.removeAttribute('aria-selected'),Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(a,b){b&&b.setAttribute('tabindex','-1'),!a||a.hasAttribute('disabled')||this.disabled||(a.setAttribute('tabindex','0'),a.focus())},_onIronItemsChanged:function(a){a.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(){var a=this.getAttribute('tabindex');Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0,this._setFocusedItem(null),this.setAttribute('tabindex','-1'),this.async(function(){this.setAttribute('tabindex',a),Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function(a){if(!Polymer.IronMenuBehaviorImpl._shiftTabPressed){var b=Polymer.dom(a).rootTarget;(b===this||'undefined'===typeof b.tabIndex||this.isLightDescendant(b))&&(this._defaultFocusAsync=this.async(function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null),a?this._setFocusedItem(a):this.items[0]&&this._focusNext()}))}},_onUpKey:function(a){this._focusPrevious(),a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this._focusNext(),a.detail.keyboardEvent.preventDefault()},_onEscKey:function(){var a=this.focusedItem;a&&a.blur()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,'up down esc')||this._focusWithKeyboardEvent(a),a.stopPropagation()},_activateHandler:function(a){Polymer.IronSelectableBehavior._activateHandler.call(this,a),a.stopPropagation()},_disabledChanged:function(a){a?(this._previousTabIndex=this.hasAttribute('tabindex')?this.tabIndex:0,this.removeAttribute('tabindex')):!this.hasAttribute('tabindex')&&this.setAttribute('tabindex',this._previousTabIndex)}},Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1,Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];
Polymer.AppLayout=Polymer.AppLayout||{},Polymer.AppLayout._scrollEffects={},Polymer.AppLayout._scrollTimer=null,Polymer.AppLayout.scrollTimingFunction=function(a,e,b,f){return a/=f,-b*a*(a-2)+e},Polymer.AppLayout.registerEffect=function(a,b){if(null!=Polymer.AppLayout._scrollEffects[a])throw new Error('effect `'+a+'` is already registered.');Polymer.AppLayout._scrollEffects[a]=b},Polymer.AppLayout.queryAllRoot=function(a,b){for(var c=[b],d=[];0<c.length;){var e=c.shift();d.push.apply(d,e.querySelectorAll(a));for(var f=0;e.children[f];f++)e.children[f].shadowRoot&&c.push(e.children[f].shadowRoot)}return d},Polymer.AppLayout.scroll=function(a){a=a||{};var b=document.documentElement,c=a.target||b,d='scrollBehavior'in c.style&&c.scroll,e=a.top||0,f=a.left||0,g=c===b?window.scrollTo:function(a,b){c.scrollLeft=a,c.scrollTop=b};if('smooth'===a.behavior){if(d)c.scroll(a);else{var h=Polymer.AppLayout.scrollTimingFunction,i=Date.now(),j=c===b?window.pageYOffset:c.scrollTop,k=c===b?window.pageXOffset:c.scrollLeft,l=300,m=function a(){var b=Date.now(),c=b-i;c<l?(g(h(c,k,f-k,l),h(c,j,e-j,l)),requestAnimationFrame(a)):g(f,e)}.bind(this);m()}}else if('silent'===a.behavior){var n=Polymer.AppLayout.queryAllRoot('app-header',document.body);n.forEach(function(a){a.setAttribute('silent-scroll','')}),Polymer.AppLayout._scrollTimer&&window.cancelAnimationFrame(Polymer.AppLayout._scrollTimer),Polymer.AppLayout._scrollTimer=window.requestAnimationFrame(function(){n.forEach(function(a){a.removeAttribute('silent-scroll')}),Polymer.AppLayout._scrollTimer=null}),g(f,e)}else g(f,e)};
Polymer({is:'app-drawer',properties:{opened:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},persistent:{type:Boolean,value:!1,reflectToAttribute:!0},transitionDuration:{type:Number,value:200},align:{type:String,value:'left'},position:{type:String,readOnly:!0,reflectToAttribute:!0},swipeOpen:{type:Boolean,value:!1,reflectToAttribute:!0},noFocusTrap:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1}},observers:['resetLayout(position, isAttached)','_resetPosition(align, isAttached)','_styleTransitionDuration(transitionDuration)','_openedPersistentChanged(opened, persistent)'],_translateOffset:0,_trackDetails:null,_drawerState:0,_boundEscKeydownHandler:null,_firstTabStop:null,_lastTabStop:null,attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){this._boundEscKeydownHandler=this._escKeydownHandler.bind(this),this.addEventListener('keydown',this._tabKeydownHandler.bind(this)),this.listen(this,'track','_track'),this.setScrollDirection('y')}),this.fire('app-reset-layout')},detached:function(){document.removeEventListener('keydown',this._boundEscKeydownHandler)},open:function(){this.opened=!0},close:function(){this.opened=!1},toggle:function(){this.opened=!this.opened},getWidth:function(){return this._savedWidth||this.$.contentContainer.offsetWidth},_isRTL:function(){return'rtl'===window.getComputedStyle(this).direction},_resetPosition:function(){switch(this.align){case'start':return void this._setPosition(this._isRTL()?'right':'left');case'end':return void this._setPosition(this._isRTL()?'left':'right');}this._setPosition(this.align)},_escKeydownHandler:function(a){a.keyCode===27&&(a.preventDefault(),this.close())},_track:function(a){if(!(this.persistent||this.disableSwipe))switch(a.preventDefault(),a.detail.state){case'start':this._trackStart(a);break;case'track':this._trackMove(a);break;case'end':this._trackEnd(a);}},_trackStart:function(){this._drawerState=this._DRAWER_STATE.TRACKING;var a=this.$.contentContainer.getBoundingClientRect();this._savedWidth=a.width,this._translateOffset='left'===this.position?a.left:a.right-window.innerWidth,this._trackDetails=[],this._styleTransitionDuration(0),this.style.visibility='visible'},_trackMove:function(a){this._translateDrawer(a.detail.dx+this._translateOffset),this._trackDetails.push({dx:a.detail.dx,timeStamp:Date.now()})},_trackEnd:function(a){var b=a.detail.dx+this._translateOffset,c=this.getWidth(),d='left'===this.position,e=d?0<=b||b<=-c:0>=b||b>=c;if(!e){var f=this._trackDetails;if(this._trackDetails=null,this._flingDrawer(a,f),this._drawerState===this._DRAWER_STATE.FLINGING)return}var g=c/2;a.detail.dx<-g?this.opened='right'===this.position:a.detail.dx>g&&(this.opened='left'===this.position),e?this.debounce('_resetDrawerState',this._resetDrawerState):this.debounce('_resetDrawerState',this._resetDrawerState,this.transitionDuration),this._styleTransitionDuration(this.transitionDuration),this._resetDrawerTranslate(),this.style.visibility=''},_calculateVelocity:function(a,b){for(var c,e=Date.now(),f=0,g=b.length-1;f<=g;){var h=f+g>>1,i=b[h];i.timeStamp>=e-100?(c=i,g=h-1):f=h+1}if(c){var d=a.detail.dx-c.dx,j=e-c.timeStamp||1;return d/j}return 0},_flingDrawer:function(a,b){var c=this._calculateVelocity(a,b);if(!(Math.abs(c)<this._MIN_FLING_THRESHOLD)){this._drawerState=this._DRAWER_STATE.FLINGING;var d,e=a.detail.dx+this._translateOffset,f=this.getWidth(),g='left'===this.position,h=0<c;d=!h&&g?-(e+f):h&&!g?f-e:-e,h?(c=Math.max(c,this._MIN_TRANSITION_VELOCITY),this.opened='left'===this.position):(c=Math.min(c,-this._MIN_TRANSITION_VELOCITY),this.opened='right'===this.position);var i=this._FLING_INITIAL_SLOPE*d/c;this._styleTransitionDuration(i),this._styleTransitionTimingFunction(this._FLING_TIMING_FUNCTION),this._resetDrawerTranslate(),this.debounce('_resetDrawerState',this._resetDrawerState,i)}},_styleTransitionDuration:function(a){this.style.transitionDuration=a+'ms',this.$.contentContainer.style.transitionDuration=a+'ms',this.$.scrim.style.transitionDuration=a+'ms'},_styleTransitionTimingFunction:function(a){this.$.contentContainer.style.transitionTimingFunction=a,this.$.scrim.style.transitionTimingFunction=a},_translateDrawer:function(a){var b=Math.min,c=Math.max,d=this.getWidth();'left'===this.position?(a=c(-d,b(a,0)),this.$.scrim.style.opacity=1+a/d):(a=c(0,b(a,d)),this.$.scrim.style.opacity=1-a/d),this.translate3d(a+'px','0','0',this.$.contentContainer)},_resetDrawerTranslate:function(){this.$.scrim.style.opacity='',this.transform('',this.$.contentContainer)},_resetDrawerState:function(){var a=this._drawerState;a===this._DRAWER_STATE.FLINGING&&(this._styleTransitionDuration(this.transitionDuration),this._styleTransitionTimingFunction(''),this.style.visibility=''),this._savedWidth=null,this._drawerState=this.opened?this.persistent?this._DRAWER_STATE.OPENED_PERSISTENT:this._DRAWER_STATE.OPENED:this._DRAWER_STATE.CLOSED,a!==this._drawerState&&(this._drawerState===this._DRAWER_STATE.OPENED?(this._setKeyboardFocusTrap(),document.addEventListener('keydown',this._boundEscKeydownHandler),document.body.style.overflow='hidden'):(document.removeEventListener('keydown',this._boundEscKeydownHandler),document.body.style.overflow=''),a!==this._DRAWER_STATE.INIT&&this.fire('app-drawer-transitioned'))},resetLayout:function(){this.fire('app-reset-layout')},_setKeyboardFocusTrap:function(){if(!this.noFocusTrap){var a=Polymer.dom(this).querySelectorAll('a[href]:not([tabindex="-1"]),area[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),iframe:not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])');0<a.length?(this._firstTabStop=a[0],this._lastTabStop=a[a.length-1]):(this._firstTabStop=null,this._lastTabStop=null);var b=this.getAttribute('tabindex');b&&-1<parseInt(b,10)?this.focus():this._firstTabStop&&this._firstTabStop.focus()}},_tabKeydownHandler:function(a){if(!this.noFocusTrap){this._drawerState===this._DRAWER_STATE.OPENED&&a.keyCode===9&&(a.shiftKey?this._firstTabStop&&Polymer.dom(a).localTarget===this._firstTabStop&&(a.preventDefault(),this._lastTabStop.focus()):this._lastTabStop&&Polymer.dom(a).localTarget===this._lastTabStop&&(a.preventDefault(),this._firstTabStop.focus()))}},_openedPersistentChanged:function(a,b){this.toggleClass('visible',a&&!b,this.$.scrim),this.debounce('_resetDrawerState',this._resetDrawerState,this.transitionDuration)},_MIN_FLING_THRESHOLD:0.2,_MIN_TRANSITION_VELOCITY:1.2,_FLING_TIMING_FUNCTION:'cubic-bezier(0.667, 1, 0.667, 1)',_FLING_INITIAL_SLOPE:1.5,_DRAWER_STATE:{INIT:0,OPENED:1,OPENED_PERSISTENT:2,CLOSED:3,TRACKING:4,FLINGING:5}});
Polymer({is:'iron-media-query',properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:'queryChanged'},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display='none',this.queryChanged()},detached:function(){this._remove()},_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler),this._mq=null},queryChanged:function(){this._remove();var a=this.query;a&&(!this.full&&'('!==a[0]&&(a='('+a+')'),this._mq=window.matchMedia(a),this._add(),this.queryHandler(this._mq))},queryHandler:function(a){this._setQueryMatches(a.matches)}});
Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:'_parentResizableChanged'},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":'_onIronRequestResizeNotifications'},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):window.removeEventListener('resize',this._boundNotifyResize),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(a){this.resizerShouldNotify(a)&&this._notifyDescendant(a)},this),this._fireResize())},assignParentResizable:function(a){this._parentResizable=a},stopResizeNotificationsFor:function(a){var b=this._interestedResizables.indexOf(a);-1<b&&(this._interestedResizables.splice(b,1),this.unlisten(a,'iron-resize','_onDescendantIronResize'))},resizerShouldNotify:function(){return!0},_onDescendantIronResize:function(a){return this._notifyingDescendant?void a.stopPropagation():void(!Polymer.Settings.useShadow&&this._fireResize())},_fireResize:function(){this.fire('iron-resize',null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(a){var b=Polymer.dom(a).rootTarget;b===this||(-1===this._interestedResizables.indexOf(b)&&(this._interestedResizables.push(b),this.listen(b,'iron-resize','_onDescendantIronResize')),b.assignParentResizable(this),this._notifyDescendant(b),a.stopPropagation())},_parentResizableChanged:function(a){a&&window.removeEventListener('resize',this._boundNotifyResize)},_notifyDescendant:function(a){this.isAttached&&(this._notifyingDescendant=!0,a.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if('loading'===document.readyState){var a=this._requestResizeNotifications.bind(this);document.addEventListener('readystatechange',function b(){document.removeEventListener('readystatechange',b),a()})}else this.fire('iron-request-resize-notifications',null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable||(window.addEventListener('resize',this._boundNotifyResize),this.notifyResize())}};
Polymer.AppLayoutBehavior=[Polymer.IronResizableBehavior,{listeners:{"app-reset-layout":'_appResetLayoutHandler',"iron-resize":'resetLayout'},attached:function(){this.fire('app-reset-layout')},_appResetLayoutHandler:function(a){Polymer.dom(a).path[0]===this||(this.resetLayout(),a.stopPropagation())},_updateLayoutStates:function(){console.error('unimplemented')},resetLayout:function(){var a=this,b=this._updateLayoutStates.bind(this);Polymer.Async&&Polymer.Async.animationFrame?(this._layoutDebouncer=Polymer.Debouncer.debounce(this._layoutDebouncer,Polymer.Async.animationFrame,b),Polymer.enqueueDebouncer(this._layoutDebouncer)):this.debounce('resetLayout',b),this._notifyDescendantResize()},_notifyLayoutChanged:function(){var a=this;requestAnimationFrame(function(){a.fire('app-reset-layout')})},_notifyDescendantResize:function(){this.isAttached&&this._interestedResizables.forEach(function(a){this.resizerShouldNotify(a)&&this._notifyDescendant(a)},this)}}];
Polymer(Object.defineProperties({is:'app-drawer-layout',behaviors:[Polymer.AppLayoutBehavior],properties:{forceNarrow:{type:Boolean,value:!1},responsiveWidth:{type:String,value:'640px'},narrow:{type:Boolean,reflectToAttribute:!0,readOnly:!0,notify:!0},openedWhenNarrow:{type:Boolean,value:!1},_drawerPosition:{type:String}},listeners:{click:'_clickHandler'},observers:['_narrowChanged(narrow)'],attached:function(){var a=this.drawer;a&&a.setAttribute('no-transition','')},_clickHandler:function(a){var b=Polymer.dom(a).localTarget;if(b&&b.hasAttribute('drawer-toggle')){var c=this.drawer;c&&!c.persistent&&c.toggle()}},_updateLayoutStates:function(){var a=this.drawer;this.isAttached&&a&&(this._drawerPosition=this.narrow?null:a.position,this._drawerNeedsReset&&(this.narrow?(a.opened=this.openedWhenNarrow,a.persistent=!1):a.opened=a.persistent=!0,a.hasAttribute('no-transition')&&Polymer.RenderStatus.afterNextRender(this,function(){a.removeAttribute('no-transition')}),this._drawerNeedsReset=!1))},_narrowChanged:function(){this._drawerNeedsReset=!0,this.resetLayout()},_onQueryMatchesChanged:function(a){this._setNarrow(a.detail.value)},_computeMediaQuery:function(a,b){return a?'(min-width: 0px)':'(max-width: '+b+')'}},{drawer:{get:function(){return Polymer.dom(this.$.drawerSlot).getDistributedNodes()[0]},configurable:!0,enumerable:!0}}));
Polymer.IronScrollTargetBehavior=Object.defineProperties({properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:['_scrollTargetChanged(scrollTarget, isAttached)'],_shouldHaveListener:!0,_scrollTargetChanged:function(a,b){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),!!b)if('document'===a)this.scrollTarget=this._doc;else if('string'===typeof a){var c=this.domHost;this.scrollTarget=c&&c.$?c.$[a]:Polymer.dom(this.ownerDocument).querySelector('#'+a)}else this._isValidScrollTarget()&&(this._oldScrollTarget=a,this._toggleScrollListener(this._shouldHaveListener,a))},_scrollHandler:function(){},scroll:function(a,b){this.scrollTarget===this._doc?window.scrollTo(a,b):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a,this.scrollTarget.scrollTop=b)},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(a,b){var c=b===this._doc?window:b;a?!this._boundScrollHandler&&(this._boundScrollHandler=this._scrollHandler.bind(this),c.addEventListener('scroll',this._boundScrollHandler)):this._boundScrollHandler&&(c.removeEventListener('scroll',this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(a){this._shouldHaveListener=a,this._toggleScrollListener(a,this.scrollTarget)}},{_defaultScrollTarget:{get:function(){return this._doc},configurable:!0,enumerable:!0},_doc:{get:function(){return this.ownerDocument.documentElement},configurable:!0,enumerable:!0},_scrollTop:{get:function(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},set:function(a){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,a):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=a)},configurable:!0,enumerable:!0},_scrollLeft:{get:function(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set:function(a){this.scrollTarget===this._doc?window.scrollTo(a,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a)},configurable:!0,enumerable:!0},_scrollTargetWidth:{get:function(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},configurable:!0,enumerable:!0},_scrollTargetHeight:{get:function(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},configurable:!0,enumerable:!0}});
Polymer.AppScrollEffectsBehavior=[Polymer.IronScrollTargetBehavior,Object.defineProperties({properties:{effects:{type:String},effectsConfig:{type:Object,value:function(){return{}}},disabled:{type:Boolean,reflectToAttribute:!0,value:!1},threshold:{type:Number,value:0},thresholdTriggered:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0}},observers:['_effectsChanged(effects, effectsConfig, isAttached)'],_updateScrollState:function(){},isOnScreen:function(){return!1},isContentBelow:function(){return!1},_effectsRunFn:null,_effects:null,detached:function(){this._tearDownEffects()},createEffect:function(a,b){var c=Polymer.AppLayout._scrollEffects[a];if(!c)throw new ReferenceError(this._getUndefinedMsg(a));var d=this._boundEffect(c,b||{});return d.setUp(),d},_effectsChanged:function(a,b,c){this._tearDownEffects();a&&c&&(a.split(' ').forEach(function(a){var c;''!==a&&((c=Polymer.AppLayout._scrollEffects[a])?this._effects.push(this._boundEffect(c,b[a])):console.warn(this._getUndefinedMsg(a)))},this),this._setUpEffect())},_layoutIfDirty:function(){return this.offsetWidth},_boundEffect:function(a,b){b=b||{};var c=parseFloat(b.startsAt||0),d=parseFloat(b.endsAt||1),e=function(){},f=0===c&&1===d?a.run:function(b,e){a.run.call(this,Math.max(0,(b-c)/(d-c)),e)};return{setUp:a.setUp?a.setUp.bind(this,b):e,run:a.run?f.bind(this):e,tearDown:a.tearDown?a.tearDown.bind(this):e}},_setUpEffect:function(){this.isAttached&&this._effects&&(this._effectsRunFn=[],this._effects.forEach(function(a){!1!==a.setUp()&&this._effectsRunFn.push(a.run)},this))},_tearDownEffects:function(){this._effects&&this._effects.forEach(function(a){a.tearDown()}),this._effectsRunFn=[],this._effects=[]},_runEffects:function(a,b){this._effectsRunFn&&this._effectsRunFn.forEach(function(c){c(a,b)})},_scrollHandler:function(){if(!this.disabled){var a=this._clampedScrollTop;this._updateScrollState(a),0<this.threshold&&this._setThresholdTriggered(a>=this.threshold)}},_getDOMRef:function(a){console.warn('_getDOMRef','`'+a+'` is undefined')},_getUndefinedMsg:function(a){return'Scroll effect `'+a+'` is undefined. Did you forget to import app-layout/app-scroll-effects/effects/'+a+'.html ?'}},{_clampedScrollTop:{get:function(){return Math.max(0,this._scrollTop)},configurable:!0,enumerable:!0}})];
Polymer(Object.defineProperties({is:'app-header',behaviors:[Polymer.AppScrollEffectsBehavior,Polymer.AppLayoutBehavior],properties:{condenses:{type:Boolean,value:!1},fixed:{type:Boolean,value:!1},reveals:{type:Boolean,value:!1},shadow:{type:Boolean,reflectToAttribute:!0,value:!1}},observers:['_configChanged(isAttached, condenses, fixed)'],_height:0,_dHeight:0,_stickyElTop:0,_stickyElRef:null,_top:0,_progress:0,_wasScrollingDown:!1,_initScrollTop:0,_initTimestamp:0,_lastTimestamp:0,_lastScrollTop:0,_configChanged:function(){this.resetLayout(),this._notifyLayoutChanged()},_updateLayoutStates:function(){if(0!==this.offsetWidth||0!==this.offsetHeight){var a=this._clampedScrollTop,b=0===this._height||0===a,c=this.disabled;this._height=this.offsetHeight,this._stickyElRef=null,this.disabled=!0,b||this._updateScrollState(0,!0),this._dHeight=this._mayMove()?this._stickyEl?this._height-this._stickyEl.offsetHeight:0:0,this._stickyElTop=this._stickyEl?this._stickyEl.offsetTop:0,this._setUpEffect(),b?this._updateScrollState(a,!0):(this._updateScrollState(this._lastScrollTop,!0),this._layoutIfDirty()),this.disabled=c}},_updateScrollState:function(a,b){var c=Math.abs;if(0!==this._height){var d=0,e=0,f=this._top,g=this._lastScrollTop,h=this._maxHeaderTop,i=a-this._lastScrollTop,j=c(i),k=a>this._lastScrollTop,l=performance.now();if(this._mayMove()&&(e=this._clamp(this.reveals?f+i:a,0,h)),a>=this._dHeight&&(e=this.condenses&&!this.fixed?Math.max(this._dHeight,e):e,this.style.transitionDuration='0ms'),this.reveals&&!this.disabled&&100>j&&((300<l-this._initTimestamp||this._wasScrollingDown!==k)&&(this._initScrollTop=a,this._initTimestamp=l),a>=h))if(30<c(this._initScrollTop-a)||10<j){k&&a>=h?e=h:!k&&a>=this._dHeight&&(e=this.condenses&&!this.fixed?this._dHeight:0);var m=i/(l-this._lastTimestamp);this.style.transitionDuration=this._clamp((e-f)/m,0,300)+'ms'}else e=this._top;d=0===this._dHeight?0<a?1:0:e/this._dHeight,b||(this._lastScrollTop=a,this._top=e,this._wasScrollingDown=k,this._lastTimestamp=l),(b||d!==this._progress||f!==e||0===a)&&(this._progress=d,this._runEffects(d,e),this._transformHeader(e))}},_mayMove:function(){return this.condenses||!this.fixed},willCondense:function(){return 0<this._dHeight&&this.condenses},isOnScreen:function(){return 0!==this._height&&this._top<this._height},isContentBelow:function(){return 0===this._top?0<this._clampedScrollTop:0<=this._clampedScrollTop-this._maxHeaderTop},_transformHeader:function(a){this.translate3d(0,-a+'px',0),this._stickyEl&&this.translate3d(0,this.condenses&&a>=this._stickyElTop?Math.min(a,this._dHeight)-this._stickyElTop+'px':0,0,this._stickyEl)},_clamp:function(a,b,c){return Math.min(c,Math.max(b,a))},_ensureBgContainers:function(){this._bgContainer||(this._bgContainer=document.createElement('div'),this._bgContainer.id='background',this._bgRear=document.createElement('div'),this._bgRear.id='backgroundRearLayer',this._bgContainer.appendChild(this._bgRear),this._bgFront=document.createElement('div'),this._bgFront.id='backgroundFrontLayer',this._bgContainer.appendChild(this._bgFront),Polymer.dom(this.root).insertBefore(this._bgContainer,this.$.contentContainer))},_getDOMRef:function(a){return'backgroundFrontLayer'===a?(this._ensureBgContainers(),this._bgFront):'backgroundRearLayer'===a?(this._ensureBgContainers(),this._bgRear):'background'===a?(this._ensureBgContainers(),this._bgContainer):'mainTitle'===a?Polymer.dom(this).querySelector('[main-title]'):'condensedTitle'===a?Polymer.dom(this).querySelector('[condensed-title]'):null},getScrollState:function(){return{progress:this._progress,top:this._top}}},{_maxHeaderTop:{get:function(){return this.fixed?this._dHeight:this._height+5},configurable:!0,enumerable:!0},_stickyEl:{get:function(){if(this._stickyElRef)return this._stickyElRef;for(var a,b=Polymer.dom(this.$.slot).getDistributedNodes(),c=0;a=b[c];c++)if(a.nodeType===Node.ELEMENT_NODE)if(a.hasAttribute('sticky')){this._stickyElRef=a;break}else this._stickyElRef||(this._stickyElRef=a);return this._stickyElRef},configurable:!0,enumerable:!0}}));
Polymer(Object.defineProperties({is:'app-header-layout',behaviors:[Polymer.AppLayoutBehavior],properties:{hasScrollingRegion:{type:Boolean,value:!1,reflectToAttribute:!0}},observers:['resetLayout(isAttached, hasScrollingRegion)'],_updateLayoutStates:function(){var a=this.header;if(this.isAttached&&a){this.$.wrapper.classList.remove('initializing'),a.scrollTarget=this.hasScrollingRegion?this.$.contentContainer:this.ownerDocument.documentElement;var b=a.offsetHeight;this.hasScrollingRegion?(a.style.left='',a.style.right=''):requestAnimationFrame(function(){var b=this.getBoundingClientRect(),c=document.documentElement.clientWidth-b.right;a.style.left=b.left+'px',a.style.right=c+'px'}.bind(this));var c=this.$.contentContainer.style;a.fixed&&!a.condenses&&this.hasScrollingRegion?(c.marginTop=b+'px',c.paddingTop=''):(c.paddingTop=b+'px',c.marginTop='')}}},{header:{get:function(){return Polymer.dom(this.$.headerSlot).getDistributedNodes()[0]},configurable:!0,enumerable:!0}}));
Polymer({is:'app-toolbar'});
Polymer({is:'app-box',behaviors:[Polymer.AppScrollEffectsBehavior,Polymer.IronResizableBehavior],listeners:{"iron-resize":'_resizeHandler'},_progress:0,attached:function(){this.resetLayout()},_debounceRaf:function(a){var b=this;this._raf&&window.cancelAnimationFrame(this._raf),this._raf=window.requestAnimationFrame(function(){b._raf=null,a.call(b)})},resetLayout:function(){this._debounceRaf(function(){if(0!==this.offsetWidth||0!==this.offsetHeight){var a=this._clampedScrollTop,b=this.disabled;this.disabled=!0,this._elementTop=this._getElementTop(),this._elementHeight=this.offsetHeight,this._cachedScrollTargetHeight=this._scrollTargetHeight,this._setUpEffect(),this._updateScrollState(a),this.disabled=b}})},_getElementTop:function(){for(var a=this,b=0;a&&a!==this.scrollTarget;)b+=a.offsetTop,a=a.offsetParent;return b},_updateScrollState:function(a){if(this.isOnScreen()){var b=this._elementTop-a;this._progress=1-(b+this._elementHeight)/this._cachedScrollTargetHeight,this._runEffects(this._progress,a)}},isOnScreen:function(){return this._elementTop<this._scrollTop+this._cachedScrollTargetHeight&&this._elementTop+this._elementHeight>this._scrollTop},_resizeHandler:function(){this.resetLayout()},_getDOMRef:function(a){return'background'===a?this.$.background:'backgroundFrontLayer'===a?this.$.backgroundFrontLayer:void 0},getScrollState:function(){return{progress:this._progress}}});
Polymer.AppLayout.registerEffect('blend-background',{setUp:function(){var a={};a.backgroundFrontLayer=this._getDOMRef('backgroundFrontLayer'),a.backgroundRearLayer=this._getDOMRef('backgroundRearLayer'),a.backgroundFrontLayer.style.willChange='opacity',a.backgroundFrontLayer.style.transform='translateZ(0)',a.backgroundRearLayer.style.willChange='opacity',a.backgroundRearLayer.style.transform='translateZ(0)',a.backgroundRearLayer.style.opacity=0,this._fxBlendBackground=a},run:function(a){var b=this._fxBlendBackground;b.backgroundFrontLayer.style.opacity=1-a,b.backgroundRearLayer.style.opacity=a},tearDown:function(){delete this._fxBlendBackground}});
Polymer.AppLayout.registerEffect('fade-background',{setUp:function(a){var b={},c=a.duration||'0.5s';b.backgroundFrontLayer=this._getDOMRef('backgroundFrontLayer'),b.backgroundRearLayer=this._getDOMRef('backgroundRearLayer'),b.backgroundFrontLayer.style.willChange='opacity',b.backgroundFrontLayer.style.webkitTransform='translateZ(0)',b.backgroundFrontLayer.style.transitionProperty='opacity',b.backgroundFrontLayer.style.transitionDuration=c,b.backgroundRearLayer.style.willChange='opacity',b.backgroundRearLayer.style.webkitTransform='translateZ(0)',b.backgroundRearLayer.style.transitionProperty='opacity',b.backgroundRearLayer.style.transitionDuration=c,this._fxFadeBackground=b},run:function(a){var b=this._fxFadeBackground;1<=a?(b.backgroundFrontLayer.style.opacity=0,b.backgroundRearLayer.style.opacity=1):(b.backgroundFrontLayer.style.opacity=1,b.backgroundRearLayer.style.opacity=0)},tearDown:function(){delete this._fxFadeBackground}});
Polymer.AppLayout.registerEffect('waterfall',{run:function(){this.shadow=this.isOnScreen()&&this.isContentBelow()}});
(function(){function a(a,b,c,d){c.apply(d,b.map(function(b){return b[0]+(b[1]-b[0])*a}))}Polymer.AppLayout.registerEffect('resize-title',{setUp:function(){var a=this._getDOMRef('mainTitle'),b=this._getDOMRef('condensedTitle');if(!b)return console.warn('Scroll effect `resize-title`: undefined `condensed-title`'),!1;if(!a)return console.warn('Scroll effect `resize-title`: undefined `main-title`'),!1;b.style.willChange='opacity',b.style.webkitTransform='translateZ(0)',b.style.transform='translateZ(0)',b.style.webkitTransformOrigin='left top',b.style.transformOrigin='left top',a.style.willChange='opacity',a.style.webkitTransformOrigin='left top',a.style.transformOrigin='left top',a.style.webkitTransform='translateZ(0)',a.style.transform='translateZ(0)';var c=a.getBoundingClientRect(),d=b.getBoundingClientRect(),e={};e.scale=parseInt(window.getComputedStyle(b)['font-size'],10)/parseInt(window.getComputedStyle(a)['font-size'],10),e.titleDX=c.left-d.left,e.titleDY=c.top-d.top,e.condensedTitle=b,e.title=a,this._fxResizeTitle=e},run:function(b,c){var d=this._fxResizeTitle;this.condenses||(c=0),1<=b?(d.title.style.opacity=0,d.condensedTitle.style.opacity=1):(d.title.style.opacity=1,d.condensedTitle.style.opacity=0),a(Math.min(1,b),[[1,d.scale],[0,-d.titleDX],[c,c-d.titleDY]],function(a,b,c){this.transform('translate('+b+'px, '+c+'px) scale3d('+a+', '+a+', 1)',d.title)},this)},tearDown:function(){delete this._fxResizeTitle}})})();
Polymer.AppLayout.registerEffect('parallax-background',{setUp:function(a){var b={},c=parseFloat(a.scalar);b.background=this._getDOMRef('background'),b.backgroundFrontLayer=this._getDOMRef('backgroundFrontLayer'),b.backgroundRearLayer=this._getDOMRef('backgroundRearLayer'),b.deltaBg=b.backgroundFrontLayer.offsetHeight-b.background.offsetHeight,0===b.deltaBg?(isNaN(c)&&(c=0.8),b.deltaBg=(this._dHeight||0)*c):(isNaN(c)&&(c=1),b.deltaBg*=c),this._fxParallaxBackground=b},run:function(a){var b=Math.min,c=this._fxParallaxBackground;this.transform('translate3d(0px, '+c.deltaBg*b(1,a)+'px, 0px)',c.backgroundFrontLayer),c.backgroundRearLayer&&this.transform('translate3d(0px, '+c.deltaBg*b(1,a)+'px, 0px)',c.backgroundRearLayer)},tearDown:function(){delete this._fxParallaxBackground}});
Polymer.AppLayout.registerEffect('material',{setUp:function(){return this.effects='waterfall resize-title blend-background parallax-background',!1}});
Polymer.AppLayout.registerEffect('resize-snapped-title',{setUp:function(a){var b=this._getDOMRef('mainTitle'),c=this._getDOMRef('condensedTitle'),d=a.duration||'0.2s',e={};return c?b?void(b.style.transitionProperty='opacity',b.style.transitionDuration=d,c.style.transitionProperty='opacity',c.style.transitionDuration=d,e.condensedTitle=c,e.title=b,this._fxResizeSnappedTitle=e):(console.warn('Scroll effect `resize-snapped-title`: undefined `main-title`'),!1):(console.warn('Scroll effect `resize-snapped-title`: undefined `condensed-title`'),!1)},run:function(a){var b=this._fxResizeSnappedTitle;0<a?(b.title.style.opacity=0,b.condensedTitle.style.opacity=1):(b.title.style.opacity=1,b.condensedTitle.style.opacity=0)},tearDown:function(){var a=this._fxResizeSnappedTitle;a.title.style.transition='',a.condensedTitle.style.transition='',delete this._fxResizeSnappedTitle}});
Polymer({is:'iron-selector',behaviors:[Polymer.IronMultiSelectableBehavior]});
(function(){'use notstrict';function a(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&a[c]&&b.push(c);return b.join(' ')}var b=null;Polymer({is:'paper-drawer-panel',behaviors:[Polymer.IronResizableBehavior],properties:{defaultSelected:{type:String,value:'main'},disableEdgeSwipe:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},drawerWidth:{type:String,value:'256px'},edgeSwipeSensitivity:{type:Number,value:30},forceNarrow:{type:Boolean,value:!1},hasTransform:{type:Boolean,value:function(){return'transform'in this.style}},hasWillChange:{type:Boolean,value:function(){return'willChange'in this.style}},narrow:{reflectToAttribute:!0,type:Boolean,value:!1,readOnly:!0,notify:!0},peeking:{type:Boolean,value:!1,readOnly:!0,notify:!0},responsiveWidth:{type:String,value:'768px'},rightDrawer:{type:Boolean,value:!1},selected:{reflectToAttribute:!0,notify:!0,type:String,value:null},drawerFocusSelector:{type:String,value:'a[href]:not([tabindex="-1"]),area[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),iframe:not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])'},_transition:{type:Boolean,value:!1}},listeners:{tap:'_onTap',track:'_onTrack',down:'_downHandler',up:'_upHandler'},observers:['_forceNarrowChanged(forceNarrow, defaultSelected)','_toggleFocusListener(selected)'],ready:function(){this._transition=!0,this._boundFocusListener=this._didFocus.bind(this),console.warn(this.is,'is deprecated. Please use app-layout instead!')},togglePanel:function(){this._isMainSelected()?this.openDrawer():this.closeDrawer()},openDrawer:function(){requestAnimationFrame(function(){this.toggleClass('transition-drawer',!0,this.$.drawer),this.selected='drawer'}.bind(this))},closeDrawer:function(){requestAnimationFrame(function(){this.toggleClass('transition-drawer',!0,this.$.drawer),this.selected='main'}.bind(this))},_onTransitionEnd:function(a){var b=Polymer.dom(a).localTarget;if(b===this.$.drawer&&(('left'===a.propertyName||'right'===a.propertyName)&&this.notifyResize(),'transform'===a.propertyName&&(requestAnimationFrame(function(){this.toggleClass('transition-drawer',!1,this.$.drawer)}.bind(this)),'drawer'===this.selected))){var c=this._getAutoFocusedNode();c&&c.focus()}},_computeIronSelectorClass:function(b,c,d,e,f){return a({dragging:d,"narrow-layout":b,"right-drawer":e,"left-drawer":!e,transition:c,peeking:f})},_computeDrawerStyle:function(a){return'width:'+a+';'},_computeMainStyle:function(a,b,c){var d='';return d+='left:'+(a||b?'0':c)+';',b&&(d+='right:'+(a?'':c)+';'),d},_computeMediaQuery:function(a,b){return a?'':'(max-width: '+b+')'},_computeSwipeOverlayHidden:function(a,b){return!a||b},_onTrack:function(a){if(!(b&&this!==b))switch(a.detail.state){case'start':this._trackStart(a);break;case'track':this._trackX(a);break;case'end':this._trackEnd(a);}},_responsiveChange:function(a){this._setNarrow(a),this.selected=this.narrow?this.defaultSelected:null,this.setScrollDirection(this._swipeAllowed()?'y':'all'),this.fire('paper-responsive-change',{narrow:this.narrow})},_onQueryMatchesChanged:function(a){this._responsiveChange(a.detail.value)},_forceNarrowChanged:function(){this._responsiveChange(this.forceNarrow||this.$.mq.queryMatches)},_swipeAllowed:function(){return this.narrow&&!this.disableSwipe},_isMainSelected:function(){return'main'===this.selected},_startEdgePeek:function(){this.width=this.$.drawer.offsetWidth,this._moveDrawer(this._translateXForDeltaX(this.rightDrawer?-this.edgeSwipeSensitivity:this.edgeSwipeSensitivity)),this._setPeeking(!0)},_stopEdgePeek:function(){this.peeking&&(this._setPeeking(!1),this._moveDrawer(null))},_downHandler:function(a){!this.dragging&&this._isMainSelected()&&this._isEdgeTouch(a)&&!b&&(this._startEdgePeek(),a.preventDefault(),b=this)},_upHandler:function(){this._stopEdgePeek(),b=null},_onTap:function(a){var b=Polymer.dom(a).localTarget,c=b&&this.drawerToggleAttribute&&b.hasAttribute(this.drawerToggleAttribute);c&&this.togglePanel()},_isEdgeTouch:function(a){var b=a.detail.x;return!this.disableEdgeSwipe&&this._swipeAllowed()&&(this.rightDrawer?b>=this.offsetWidth-this.edgeSwipeSensitivity:b<=this.edgeSwipeSensitivity)},_trackStart:function(a){this._swipeAllowed()&&(b=this,this._setDragging(!0),this._isMainSelected()&&this._setDragging(this.peeking||this._isEdgeTouch(a)),this.dragging&&(this.width=this.$.drawer.offsetWidth,this._transition=!1))},_translateXForDeltaX:function(a){var b=this._isMainSelected();return this.rightDrawer?Math.max(0,b?this.width+a:a):Math.min(0,b?a-this.width:a)},_trackX:function(a){if(this.dragging){var b=a.detail.dx;if(this.peeking){if(Math.abs(b)<=this.edgeSwipeSensitivity)return;this._setPeeking(!1)}this._moveDrawer(this._translateXForDeltaX(b))}},_trackEnd:function(a){if(this.dragging){var c=0<a.detail.dx;this._setDragging(!1),this._transition=!0,b=null,this._moveDrawer(null),this.rightDrawer?this[c?'closeDrawer':'openDrawer']():this[c?'openDrawer':'closeDrawer']()}},_transformForTranslateX:function(a){return null===a?'':this.hasWillChange?'translateX('+a+'px)':'translate3d('+a+'px, 0, 0)'},_moveDrawer:function(a){this.transform(this._transformForTranslateX(a),this.$.drawer)},_getDrawerSlot:function(){return Polymer.dom(this.$.drawerSlot).getDistributedNodes()[0]},_getAutoFocusedNode:function(){return this.drawerFocusSelector?Polymer.dom(this._getDrawerSlot()).querySelector(this.drawerFocusSelector):null},_toggleFocusListener:function(a){'drawer'===a?this.addEventListener('focus',this._boundFocusListener,!0):this.removeEventListener('focus',this._boundFocusListener,!0)},_didFocus:function(a){var b=this._getAutoFocusedNode();if(b){var c=Polymer.dom(a).path,d=c[0],e=this._getDrawerSlot(),f=-1!==c.indexOf(e);f||(a.stopPropagation(),b.focus())}},_isDrawerClosed:function(a,b){return!a||'drawer'!==b}})})();
Polymer.IronFitBehavior=Object.defineProperties({properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},attached:function(){'undefined'===typeof this._isRTL&&(this._isRTL='rtl'==window.getComputedStyle(this).direction),this.positionTarget=this.positionTarget||this._defaultPositionTarget,this.autoFitOnAttach&&('none'===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):(window.ShadyDOM&&ShadyDOM.flush(),this.fit()))},detached:function(){this.__deferredFit&&(clearTimeout(this.__deferredFit),this.__deferredFit=null)},fit:function(){this.position(),this.constrain(),this.center()},_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||'',left:this.style.left||'',position:this.style.position||''},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||'',maxHeight:this.sizingTarget.style.maxHeight||'',boxSizing:this.sizingTarget.style.boxSizing||''},positionedBy:{vertically:'auto'===a.top?'auto'===a.bottom?null:'bottom':'top',horizontally:'auto'===a.left?'auto'===a.right?null:'right':'left'},sizedBy:{height:'none'!==b.maxHeight,width:'none'!==b.maxWidth,minWidth:parseInt(b.minWidth,10)||0,minHeight:parseInt(b.minHeight,10)||0},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,10)||0}}}},resetFit:function(){var a=this._fitInfo||{};for(var b in a.sizerInlineStyle)this.sizingTarget.style[b]=a.sizerInlineStyle[b];for(var b in a.inlineStyle)this.style[b]=a.inlineStyle[b];this._fitInfo=null},refit:function(){var a=this.sizingTarget.scrollLeft,b=this.sizingTarget.scrollTop;this.resetFit(),this.fit(),this.sizingTarget.scrollLeft=a,this.sizingTarget.scrollTop=b},position:function(){var a=Math.max,b=Math.min;if(this.__shouldPosition){this._discoverInfo(),this.style.position='fixed',this.sizingTarget.style.boxSizing='border-box',this.style.left='0px',this.style.top='0px';var c=this.getBoundingClientRect(),d=this.__getNormalizedRect(this.positionTarget),e=this.__getNormalizedRect(this.fitInto),f=this._fitInfo.margin,g={width:c.width+f.left+f.right,height:c.height+f.top+f.bottom},h=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,g,c,d,e),i=h.left+f.left,j=h.top+f.top,k=b(e.right-f.right,i+c.width),l=b(e.bottom-f.bottom,j+c.height);i=a(e.left+f.left,b(i,k-this._fitInfo.sizedBy.minWidth)),j=a(e.top+f.top,b(j,l-this._fitInfo.sizedBy.minHeight)),this.sizingTarget.style.maxWidth=a(k-i,this._fitInfo.sizedBy.minWidth)+'px',this.sizingTarget.style.maxHeight=a(l-j,this._fitInfo.sizedBy.minHeight)+'px',this.style.left=i-c.left+'px',this.style.top=j-c.top+'px'}},constrain:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo;a.positionedBy.vertically||(this.style.position='fixed',this.style.top='0px'),a.positionedBy.horizontally||(this.style.position='fixed',this.style.left='0px'),this.sizingTarget.style.boxSizing='border-box';var b=this.getBoundingClientRect();a.sizedBy.height||this.__sizeDimension(b,a.positionedBy.vertically,'top','bottom','Height'),a.sizedBy.width||this.__sizeDimension(b,a.positionedBy.horizontally,'left','right','Width')}},_sizeDimension:function(a,b,c,d,e){this.__sizeDimension(a,b,c,d,e)},__sizeDimension:function(a,b,c,d,e){var f=this._fitInfo,g=this.__getNormalizedRect(this.fitInto),h='Width'===e?g.width:g.height,i=b===d,j=i?h-a[d]:a[c],k=f.margin[i?c:d],l='offset'+e,m=this[l]-this.sizingTarget[l];this.sizingTarget.style['max'+e]=h-k-j-m+'px'},center:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo.positionedBy;if(!(a.vertically&&a.horizontally)){this.style.position='fixed',a.vertically||(this.style.top='0px'),a.horizontally||(this.style.left='0px');var b=this.getBoundingClientRect(),c=this.__getNormalizedRect(this.fitInto);if(!a.vertically){var d=c.top-b.top+(c.height-b.height)/2;this.style.top=d+'px'}if(!a.horizontally){var e=c.left-b.left+(c.width-b.width)/2;this.style.left=e+'px'}}}},__getNormalizedRect:function(a){return a===document.documentElement||a===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:a.getBoundingClientRect()},__getOffscreenArea:function(a,b,c){var d=Math.abs,e=Math.min,f=e(0,a.top)+e(0,c.bottom-(a.top+b.height)),g=e(0,a.left)+e(0,c.right-(a.left+b.width));return d(f)*b.width+d(g)*b.height},__getPosition:function(a,b,c,d,e,f){var g=[{verticalAlign:'top',horizontalAlign:'left',top:e.top+this.verticalOffset,left:e.left+this.horizontalOffset},{verticalAlign:'top',horizontalAlign:'right',top:e.top+this.verticalOffset,left:e.right-c.width-this.horizontalOffset},{verticalAlign:'bottom',horizontalAlign:'left',top:e.bottom-c.height-this.verticalOffset,left:e.left+this.horizontalOffset},{verticalAlign:'bottom',horizontalAlign:'right',top:e.bottom-c.height-this.verticalOffset,left:e.right-c.width-this.horizontalOffset}];if(this.noOverlap){for(var h,j=0,i=g.length;j<i;j++){for(var k in h={},g[j])h[k]=g[j][k];g.push(h)}g[0].top=g[1].top+=e.height,g[2].top=g[3].top-=e.height,g[4].left=g[6].left+=e.width,g[5].left=g[7].left-=e.width}b='auto'===b?null:b,a='auto'===a?null:a,a&&'center'!==a||(g.push({verticalAlign:'top',horizontalAlign:'center',top:e.top+this.verticalOffset+(this.noOverlap?e.height:0),left:e.left-d.width/2+e.width/2+this.horizontalOffset}),g.push({verticalAlign:'bottom',horizontalAlign:'center',top:e.bottom-c.height-this.verticalOffset-(this.noOverlap?e.height:0),left:e.left-d.width/2+e.width/2+this.horizontalOffset})),b&&'middle'!==b||(g.push({verticalAlign:'middle',horizontalAlign:'left',top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.left+this.horizontalOffset+(this.noOverlap?e.width:0)}),g.push({verticalAlign:'middle',horizontalAlign:'right',top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.right-c.width-this.horizontalOffset-(this.noOverlap?e.width:0)}));for(var l,j=0;j<g.length;j++){var m=g[j],n=m.verticalAlign===b,o=m.horizontalAlign===a;if(!this.dynamicAlign&&!this.noOverlap&&n&&o){l=m;break}var p=(!b||n)&&(!a||o);if(this.dynamicAlign||p){if(m.offscreenArea=this.__getOffscreenArea(m,c,f),0===m.offscreenArea&&p){l=m;break}l=l||m;var q=m.offscreenArea-l.offscreenArea;(0>q||0===q&&(n||o))&&(l=m)}}return l}},{_fitWidth:{get:function(){var a;return a=this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width,a},configurable:!0,enumerable:!0},_fitHeight:{get:function(){var a;return a=this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height,a},configurable:!0,enumerable:!0},_fitLeft:{get:function(){var a;return a=this.fitInto===window?0:this.fitInto.getBoundingClientRect().left,a},configurable:!0,enumerable:!0},_fitTop:{get:function(){var a;return a=this.fitInto===window?0:this.fitInto.getBoundingClientRect().top,a},configurable:!0,enumerable:!0},_defaultPositionTarget:{get:function(){var a=Polymer.dom(this).parentNode;return a&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(a=a.host),a},configurable:!0,enumerable:!0},_localeHorizontalAlign:{get:function(){if(this._isRTL){if('right'===this.horizontalAlign)return'left';if('left'===this.horizontalAlign)return'right'}return this.horizontalAlign},configurable:!0,enumerable:!0},__shouldPosition:{get:function(){return(this.horizontalAlign||this.verticalAlign)&&('center'!==this.horizontalAlign||'middle'!==this.verticalAlign)},configurable:!0,enumerable:!0}});
(function(){'use notstrict';Polymer({is:'iron-overlay-backdrop',properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:'_openedChanged'}},listeners:{transitionend:'_onTransitionend'},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||Polymer.dom(this.parentNode).removeChild(this)},_onTransitionend:function(a){a&&a.target===this&&this.complete()},_openedChanged:function(a){if(a)this.prepare();else{var b=window.getComputedStyle(this);('0s'===b.transitionDuration||0==b.opacity)&&this.complete()}this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null,this.toggleClass('opened',this.opened)}.bind(this)))}})})();
Polymer.IronOverlayManagerClass=function(){this._overlays=[],this._minimumZ=101,this._backdropElement=null,Polymer.Gestures.add(document.documentElement,'tap',function(){}),document.addEventListener('tap',this._onCaptureClick.bind(this),!0),document.addEventListener('focus',this._onCaptureFocus.bind(this),!0),document.addEventListener('keydown',this._onCaptureKeyDown.bind(this),!0)},Polymer.IronOverlayManagerClass.prototype=Object.defineProperties({constructor:Polymer.IronOverlayManagerClass,_bringOverlayAtIndexToFront:function(a){var b=this._overlays[a];if(b){var c=this._overlays.length-1,d=this._overlays[c];if(d&&this._shouldBeBehindOverlay(b,d)&&c--,!(a>=c)){var e=Math.max(this.currentOverlayZ(),this._minimumZ);for(this._getZ(b)<=e&&this._applyOverlayZ(b,e);a<c;)this._overlays[a]=this._overlays[a+1],a++;this._overlays[c]=b}}},addOrRemoveOverlay:function(a){a.opened?this.addOverlay(a):this.removeOverlay(a)},addOverlay:function(a){var b=Math.max,c=this._overlays.indexOf(a);if(0<=c)return this._bringOverlayAtIndexToFront(c),void this.trackBackdrop();var d=this._overlays.length,e=this._overlays[d-1],f=b(this._getZ(e),this._minimumZ),g=this._getZ(a);if(e&&this._shouldBeBehindOverlay(a,e)){this._applyOverlayZ(e,f),d--;var h=this._overlays[d-1];f=b(this._getZ(h),this._minimumZ)}g<=f&&this._applyOverlayZ(a,f),this._overlays.splice(d,0,a),this.trackBackdrop()},removeOverlay:function(a){var b=this._overlays.indexOf(a);-1===b||(this._overlays.splice(b,1),this.trackBackdrop())},currentOverlay:function(){var a=this._overlays.length-1;return this._overlays[a]},currentOverlayZ:function(){return this._getZ(this.currentOverlay())},ensureMinimumZ:function(a){this._minimumZ=Math.max(this._minimumZ,a)},focusOverlay:function(){var a=this.currentOverlay();a&&a._applyFocus()},trackBackdrop:function(){var a=this._overlayWithBackdrop();(a||this._backdropElement)&&(this.backdropElement.style.zIndex=this._getZ(a)-1,this.backdropElement.opened=!!a,this.backdropElement.prepare())},getBackdrops:function(){for(var a=[],b=0;b<this._overlays.length;b++)this._overlays[b].withBackdrop&&a.push(this._overlays[b]);return a},backdropZ:function(){return this._getZ(this._overlayWithBackdrop())-1},_overlayWithBackdrop:function(){for(var a=0;a<this._overlays.length;a++)if(this._overlays[a].withBackdrop)return this._overlays[a]},_getZ:function(a){var b=this._minimumZ;if(a){var c=+(a.style.zIndex||window.getComputedStyle(a).zIndex);c===c&&(b=c)}return b},_setZ:function(a,b){a.style.zIndex=b},_applyOverlayZ:function(a,b){this._setZ(a,b+2)},_overlayInPath:function(a){a=a||[];for(var b=0;b<a.length;b++)if(a[b]._manager===this)return a[b]},_onCaptureClick:function(a){var b=this._overlays.length-1;if(-1!==b)for(var c,d=Polymer.dom(a).path;(c=this._overlays[b])&&this._overlayInPath(d)!==c&&(c._onCaptureClick(a),c.allowClickThrough);)b--},_onCaptureFocus:function(a){var b=this.currentOverlay();b&&b._onCaptureFocus(a)},_onCaptureKeyDown:function(a){var b=this.currentOverlay();b&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,'esc')?b._onCaptureEsc(a):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,'tab')&&b._onCaptureTab(a))},_shouldBeBehindOverlay:function(a,b){return!a.alwaysOnTop&&b.alwaysOnTop}},{backdropElement:{get:function(){return this._backdropElement||(this._backdropElement=document.createElement('iron-overlay-backdrop')),this._backdropElement},configurable:!0,enumerable:!0},deepActiveElement:{get:function(){var a=document.activeElement;for(a&&!1!==a instanceof Element||(a=document.body);a.root&&Polymer.dom(a.root).activeElement;)a=Polymer.dom(a.root).activeElement;return a},configurable:!0,enumerable:!0}}),Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;
(function(){'use notstrict';var a={pageX:0,pageY:0},b=null,c=[],d=['wheel','mousewheel','DOMMouseScroll','touchstart','touchmove'];Polymer.IronScrollManager=Object.defineProperties({elementIsScrollLocked:function(a){var b=this.currentLockingElement;if(void 0===b)return!1;var c;return!!this._hasCachedLockedElement(a)||!this._hasCachedUnlockedElement(a)&&(c=!!b&&b!==a&&!this._composedTreeContains(b,a),c?this._lockedElementCache.push(a):this._unlockedElementCache.push(a),c)},pushScrollLock:function(a){0<=this._lockingElements.indexOf(a)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(a),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(a){var b=this._lockingElements.indexOf(a);-1===b||(this._lockingElements.splice(b,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(a){return-1<this._lockedElementCache.indexOf(a)},_hasCachedUnlockedElement:function(a){return-1<this._unlockedElementCache.indexOf(a)},_composedTreeContains:function(a,b){var c,d,e,f;if(a.contains(b))return!0;for(c=Polymer.dom(a).querySelectorAll('content,slot'),e=0;e<c.length;++e)for(d=Polymer.dom(c[e]).getDistributedNodes(),f=0;f<d.length;++f)if(d[f].nodeType===Node.ELEMENT_NODE&&this._composedTreeContains(d[f],b))return!0;return!1},_scrollInteractionHandler:function(b){if(b.cancelable&&this._shouldPreventScrolling(b)&&b.preventDefault(),b.targetTouches){var c=b.targetTouches[0];a.pageX=c.pageX,a.pageY=c.pageY}},_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var a=0,b=d.length;a<b;a++)document.addEventListener(d[a],this._boundScrollHandler,{capture:!0,passive:!1})},_unlockScrollInteractions:function(){for(var a=0,b=d.length;a<b;a++)document.removeEventListener(d[a],this._boundScrollHandler,{capture:!0,passive:!1})},_shouldPreventScrolling:function(a){var d=Polymer.dom(a).rootTarget;if('touchmove'!==a.type&&b!==d&&(b=d,c=this._getScrollableNodes(Polymer.dom(a).path)),!c.length)return!0;if('touchstart'===a.type)return!1;var e=this._getScrollInfo(a);return!this._getScrollingNode(c,e.deltaX,e.deltaY)},_getScrollableNodes:function(a){for(var b=[],c=a.indexOf(this.currentLockingElement),d=0;d<=c;d++)if(a[d].nodeType===Node.ELEMENT_NODE){var e=a[d],f=e.style;'scroll'!==f.overflow&&'auto'!==f.overflow&&(f=window.getComputedStyle(e)),('scroll'===f.overflow||'auto'===f.overflow)&&b.push(e)}return b},_getScrollingNode:function(a,b,c){var d=Math.abs;if(b||c)for(var e=d(c)>=d(b),f=0;f<a.length;f++){var g=a[f],h=!1;if(h=e?0>c?0<g.scrollTop:g.scrollTop<g.scrollHeight-g.clientHeight:0>b?0<g.scrollLeft:g.scrollLeft<g.scrollWidth-g.clientWidth,h)return g}},_getScrollInfo:function(b){var c={deltaX:b.deltaX,deltaY:b.deltaY};if('deltaX'in b);else if('wheelDeltaX'in b&&'wheelDeltaY'in b)c.deltaX=-b.wheelDeltaX,c.deltaY=-b.wheelDeltaY;else if('wheelDelta'in b)c.deltaX=0,c.deltaY=-b.wheelDelta;else if('axis'in b)c.deltaX=1===b.axis?b.detail:0,c.deltaY=2===b.axis?b.detail:0;else if(b.targetTouches){var d=b.targetTouches[0];c.deltaX=a.pageX-d.pageX,c.deltaY=a.pageY-d.pageY}return c}},{currentLockingElement:{get:function(){return this._lockingElements[this._lockingElements.length-1]},configurable:!0,enumerable:!0}})})();
(function(){'use notstrict';var a=Element.prototype,b=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(a){var b=[],c=this._collectTabbableNodes(a,b);return c?this._sortByTabIndex(b):b},isFocusable:function(a){return b.call(a,'input, select, textarea, button, object')?b.call(a,':not([disabled])'):b.call(a,'a[href], area[href], iframe, [tabindex], [contentEditable]')},isTabbable:function(a){return this.isFocusable(a)&&b.call(a,':not([tabindex="-1"])')&&this._isVisible(a)},_normalizedTabIndex:function(a){if(this.isFocusable(a)){var b=a.getAttribute('tabindex')||0;return+b}return-1},_collectTabbableNodes:function(a,b){if(a.nodeType!==Node.ELEMENT_NODE||!this._isVisible(a))return!1;var c=a,d=this._normalizedTabIndex(c),e=0<d;0<=d&&b.push(c);var f='content'===c.localName||'slot'===c.localName?Polymer.dom(c).getDistributedNodes():Polymer.dom(c.root||c).children;for(var g=0;g<f.length;g++)e=this._collectTabbableNodes(f[g],b)||e;return e},_isVisible:function(a){var b=a.style;return'hidden'!==b.visibility&&'none'!==b.display&&(b=window.getComputedStyle(a),'hidden'!==b.visibility&&'none'!==b.display)},_sortByTabIndex:function(a){var b=a.length;if(2>b)return a;var c=Math.ceil(b/2),d=this._sortByTabIndex(a.slice(0,c)),e=this._sortByTabIndex(a.slice(c));return this._mergeSortByTabIndex(d,e)},_mergeSortByTabIndex:function(a,b){for(var c=[];0<a.length&&0<b.length;)this._hasLowerTabOrder(a[0],b[0])?c.push(b.shift()):c.push(a.shift());return c.concat(a,b)},_hasLowerTabOrder:function(c,a){var b=Math.max,d=b(c.tabIndex,0),e=b(a.tabIndex,0);return 0===d||0===e?e>d:d>e}}})();
(function(){'use notstrict';Polymer.IronOverlayBehaviorImpl=Object.defineProperties({properties:{opened:{observer:'_openedChanged',type:Boolean,value:!1,notify:!0},canceled:{observer:'_canceledChanged',readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:'_withBackdropChanged',type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},scrollAction:{type:String},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":'_onIronResize'},observers:['__updateScrollObservers(isAttached, opened, scrollAction)'],ready:function(){this.__isAnimating=!1,this.__shouldRemoveTabIndex=!1,this.__firstFocusableNode=this.__lastFocusableNode=null,this.__rafs={},this.__restoreFocusNode=null,this.__scrollTop=this.__scrollLeft=null,this.__onCaptureScroll=this.__onCaptureScroll.bind(this),this._ensureSetup()},attached:function(){this.opened&&this._openedChanged(this.opened),this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){for(var a in Polymer.dom(this).unobserveNodes(this._observer),this._observer=null,this.__rafs)null!==this.__rafs[a]&&cancelAnimationFrame(this.__rafs[a]);this.__rafs={},this._manager.removeOverlay(this),this.__isAnimating&&(this.opened?this._finishRenderOpened():(this._applyFocus(),this._finishRenderClosed()))},toggle:function(){this._setCanceled(!1),this.opened=!this.opened},open:function(){this._setCanceled(!1),this.opened=!0},close:function(){this._setCanceled(!1),this.opened=!1},cancel:function(a){var b=this.fire('iron-overlay-canceled',a,{cancelable:!0});b.defaultPrevented||(this._setCanceled(!0),this.opened=!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline='none',this.style.display='none')},_openedChanged:function(a){a?this.removeAttribute('aria-hidden'):this.setAttribute('aria-hidden','true');this.isAttached&&(this.__isAnimating=!0,this.__deraf('__openedChanged',this.__openedChanged))},_canceledChanged:function(){this.closingReason=this.closingReason||{},this.closingReason.canceled=this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute('tabindex')?(this.setAttribute('tabindex','-1'),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute('tabindex'),this.__shouldRemoveTabIndex=!1),this.opened&&this.isAttached&&this._manager.trackBackdrop()},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement,this._preparePositioning(),this.refit(),this._finishPositioning(),this.noAutoFocus&&document.activeElement===this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize(),this.__isAnimating=!1,this.fire('iron-overlay-opened')},_finishRenderClosed:function(){this.style.display='none',this.style.zIndex='',this.notifyResize(),this.__isAnimating=!1,this.fire('iron-overlay-closed',this.closingReason)},_preparePositioning:function(){this.style.transition=this.style.webkitTransition='none',this.style.transform=this.style.webkitTransform='none',this.style.display=''},_finishPositioning:function(){this.style.display='none',this.scrollTop=this.scrollTop,this.style.transition=this.style.webkitTransition='',this.style.transform=this.style.webkitTransform='',this.style.display='',this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{if(this._focusNode.blur(),this._focusedChild=null,this.restoreFocusOnClose&&this.__restoreFocusNode){var a=this._manager.deepActiveElement;(a===document.body||Polymer.dom(this).deepContains(a))&&this.__restoreFocusNode.focus()}this.__restoreFocusNode=null;var b=this._manager.currentOverlay();b&&this!==b&&b._applyFocus()}},_onCaptureClick:function(a){this.noCancelOnOutsideClick||this.cancel(a)},_onCaptureFocus:function(a){if(this.withBackdrop){var b=Polymer.dom(a).path;-1===b.indexOf(this)?(a.stopPropagation(),this._applyFocus()):this._focusedChild=b[0]}},_onCaptureEsc:function(a){this.noCancelOnEscKey||this.cancel(a)},_onCaptureTab:function(a){if(this.withBackdrop){this.__ensureFirstLastFocusables();var b=a.shiftKey,c=b?this.__firstFocusableNode:this.__lastFocusableNode,d=b?this.__lastFocusableNode:this.__firstFocusableNode,e=!1;if(c===d)e=!0;else{var f=this._manager.deepActiveElement;e=f===c||f===this}e&&(a.preventDefault(),this._focusedChild=d,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__deraf('refit',this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var a=this._focusableNodes;this.__firstFocusableNode=a[0],this.__lastFocusableNode=a[a.length-1]}},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),this._manager.addOverlay(this),this._applyFocus(),this._renderOpened()):(this._manager.removeOverlay(this),this._applyFocus(),this._renderClosed())},__deraf:function(a,b){var c=this.__rafs;null!==c[a]&&cancelAnimationFrame(c[a]),c[a]=requestAnimationFrame(function(){c[a]=null,b.call(this)}.bind(this))},__updateScrollObservers:function(a,b,c){a&&b&&this.__isValidScrollAction(c)?('lock'===c&&(this.__saveScrollPosition(),Polymer.IronScrollManager.pushScrollLock(this)),document.addEventListener('scroll',this.__onCaptureScroll,{passive:!0})):(Polymer.IronScrollManager.removeScrollLock(this),document.removeEventListener('scroll',this.__onCaptureScroll,{passive:!0}))},__isValidScrollAction:function(a){return'lock'===a||'refit'===a||'cancel'===a},__onCaptureScroll:function(a){if(!this.__isAnimating)switch(this.scrollAction){case'lock':this.__restoreScrollPosition();break;case'refit':this.__deraf('refit',this.refit);break;case'cancel':this.cancel(a);}},__saveScrollPosition:function(){var a=Math.max;document.scrollingElement?(this.__scrollTop=document.scrollingElement.scrollTop,this.__scrollLeft=document.scrollingElement.scrollLeft):(this.__scrollTop=a(document.documentElement.scrollTop,document.body.scrollTop),this.__scrollLeft=a(document.documentElement.scrollLeft,document.body.scrollLeft))},__restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this.__scrollTop,document.scrollingElement.scrollLeft=this.__scrollLeft):(document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop,document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft)}},{backdropElement:{get:function(){return this._manager.backdropElement},configurable:!0,enumerable:!0},_focusNode:{get:function(){return this._focusedChild||Polymer.dom(this).querySelector('[autofocus]')||this},configurable:!0,enumerable:!0},_focusableNodes:{get:function(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},configurable:!0,enumerable:!0}}),Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl]})();
(function(){'use notstrict';var a=null;Polymer(Object.defineProperties({is:'paper-toast',behaviors:[Polymer.IronOverlayBehavior],properties:{fitInto:{type:Object,value:window,observer:'_onFitIntoChanged'},horizontalAlign:{type:String,value:'left'},verticalAlign:{type:String,value:'bottom'},duration:{type:Number,value:3e3},text:{type:String,value:''},noCancelOnOutsideClick:{type:Boolean,value:!0},noAutoFocus:{type:Boolean,value:!0}},listeners:{transitionend:'__onTransitionEnd'},created:function(){this._autoClose=null,Polymer.IronA11yAnnouncer.requestAvailability()},show:function(a){for(var b in'string'==typeof a&&(a={text:a}),a)0===b.indexOf('_')?Polymer.Base._warn('The property "'+b+'" is private and was not set.'):b in this?this[b]=a[b]:Polymer.Base._warn('The property "'+b+'" is not valid.');this.open()},hide:function(){this.close()},__onTransitionEnd:function(a){a&&a.target===this&&'opacity'===a.propertyName&&(this.opened?this._finishRenderOpened():this._finishRenderClosed())},_openedChanged:function(){null!==this._autoClose&&(this.cancelAsync(this._autoClose),this._autoClose=null),this.opened?(a&&a!==this&&a.close(),a=this,this.fire('iron-announce',{text:this.text}),this._canAutoClose&&(this._autoClose=this.async(this.close,this.duration))):a===this&&(a=null),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)},_renderOpened:function(){this.classList.add('paper-toast-open')},_renderClosed:function(){this.classList.remove('paper-toast-open')},_onFitIntoChanged:function(a){this.positionTarget=a}},{visible:{get:function(){return Polymer.Base._warn('`visible` is deprecated, use `opened` instead'),this.opened},configurable:!0,enumerable:!0},_canAutoClose:{get:function(){return 0<this.duration&&this.duration!==Infinity},configurable:!0,enumerable:!0}}))})();
Polymer.PaperItemBehaviorImpl={hostAttributes:{role:'option',tabindex:'0'}},Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];
Polymer({is:'paper-item',behaviors:[Polymer.PaperItemBehavior]});
Polymer(Object.defineProperties({is:'iron-autogrow-textarea',behaviors:[Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{value:{observer:'_valueChanged',type:String,notify:!0},bindValue:{observer:'_bindValueChanged',type:String,notify:!0},rows:{type:Number,value:1,observer:'_updateCached'},maxRows:{type:Number,value:0,observer:'_updateCached'},autocomplete:{type:String,value:'off'},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},minlength:{type:Number},maxlength:{type:Number},label:{type:String}},listeners:{input:'_onInput'},attached:function(){var a=navigator.userAgent.match(/iP(?:[oa]d|hone)/);a&&(this.$.textarea.style.marginLeft='-3px')},validate:function(){var a=this.$.textarea.validity.valid;return a&&(this.required&&''===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value))),this.invalid=!a,this.fire('iron-input-validate'),a},_bindValueChanged:function(a){this.value=a},_valueChanged:function(a){var b=this.textarea;b&&(b.value!==a&&(b.value=a||0===a?a:''),this.bindValue=a,this.$.mirror.innerHTML=this._valueForMirror())},_onInput:function(a){var b=Polymer.dom(a).path;this.value=b?b[0].value:a.target.value},_constrain:function(a){var b;for(a=a||[''],b=0<this.maxRows&&a.length>this.maxRows?a.slice(0,this.maxRows):a.slice(0);0<this.rows&&b.length<this.rows;)b.push('');return b.join('<br/>')+'&#160;'},_valueForMirror:function(){var a=this.textarea;if(a)return this.tokens=a&&a.value?a.value.replace(/&/gm,'&amp;').replace(/"/gm,'&quot;').replace(/'/gm,'&#39;').replace(/</gm,'&lt;').replace(/>/gm,'&gt;').split('\n'):[''],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=this._constrain(this.tokens)}},{textarea:{get:function(){return this.$.textarea},configurable:!0,enumerable:!0},selectionStart:{get:function(){return this.$.textarea.selectionStart},set:function(a){this.$.textarea.selectionStart=a},configurable:!0,enumerable:!0},selectionEnd:{get:function(){return this.$.textarea.selectionEnd},set:function(a){this.$.textarea.selectionEnd=a},configurable:!0,enumerable:!0}}));
Polymer(Object.defineProperties({is:'paper-textarea',behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:'_ariaLabelledByChanged',type:String},_ariaDescribedBy:{observer:'_ariaDescribedByChanged',type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},_ariaLabelledByChanged:function(a){this.$.input.textarea.setAttribute('aria-labelledby',a)},_ariaDescribedByChanged:function(a){this.$.input.textarea.setAttribute('aria-describedby',a)}},{_focusableElement:{get:function(){return this.$.input.textarea},configurable:!0,enumerable:!0}}));
Polymer({is:'iron-icon',properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create('iron-meta',{type:'iconset'})}},observers:['_updateIcon(_meta, isAttached)','_updateIcon(theme, isAttached)','_srcChanged(src, isAttached)','_iconChanged(icon, isAttached)'],_DEFAULT_ICONSET:'icons',_iconChanged:function(a){var b=(a||'').split(':');this._iconName=b.pop(),this._iconsetName=b.pop()||this._DEFAULT_ICONSET,this._updateIcon()},_srcChanged:function(){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),''===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&(this._iconset=this._meta.byKey(this._iconsetName),this._iconset?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,'iron-iconset-added','_updateIcon')):this.listen(window,'iron-iconset-added','_updateIcon'))):(this._iconset&&this._iconset.removeIcon(this),!this._img&&(this._img=document.createElement('img'),this._img.style.width='100%',this._img.style.height='100%',this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});
Polymer({is:'iron-iconset-svg',properties:{name:{type:String,observer:'_nameChanged'},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:'iconset',key:null,value:null})},attached:function(){this.style.display='none'},getIconNames:function(){return this._icons=this._createIconMap(),Object.keys(this._icons).map(function(a){return this.name+':'+a},this)},applyIcon:function(a,b){this.removeIcon(a);var c=this._cloneIcon(b,this.rtlMirroring&&this._targetIsRTL(a));if(c){var d=Polymer.dom(a.root||a);return d.insertBefore(c,d.childNodes[0]),a._svgIcon=c}return null},removeIcon:function(a){a._svgIcon&&(Polymer.dom(a.root||a).removeChild(a._svgIcon),a._svgIcon=null)},_targetIsRTL:function(a){if(null==this.__targetIsRTL)if(this.useGlobalRtlAttribute){var b=document.body&&document.body.hasAttribute('dir')?document.body:document.documentElement;this.__targetIsRTL='rtl'===b.getAttribute('dir')}else a&&a.nodeType!==Node.ELEMENT_NODE&&(a=a.host),this.__targetIsRTL=a&&'rtl'===window.getComputedStyle(a).direction;return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null,this._meta.key=this.name,this._meta.value=this,this.async(function(){this.fire('iron-iconset-added',this,{node:window})})},_createIconMap:function(){var a=Object.create(null);return Polymer.dom(this).querySelectorAll('[id]').forEach(function(b){a[b.id]=b}),a},_cloneIcon:function(a,b){return this._icons=this._icons||this._createIconMap(),this._prepareSvgClone(this._icons[a],this.size,b)},_prepareSvgClone:function(a,b,c){if(a){var d=a.cloneNode(!0),e=document.createElementNS('http://www.w3.org/2000/svg','svg'),f=d.getAttribute('viewBox')||'0 0 '+b+' '+b,g='pointer-events: none; display: block; width: 100%; height: 100%;';return c&&d.hasAttribute('mirror-in-rtl')&&(g+='-webkit-transform:scale(-1,1);transform:scale(-1,1);'),e.setAttribute('viewBox',f),e.setAttribute('preserveAspectRatio','xMidYMid meet'),e.setAttribute('focusable','false'),e.style.cssText=g,e.appendChild(d).removeAttribute('id'),e}return null}});
Polymer({is:'paper-icon-button',hostAttributes:{role:'button',tabindex:'0'},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:'_altChanged'}},_altChanged:function(a,b){var c=this.getAttribute('aria-label');c&&b!=c||this.setAttribute('aria-label',a)}});
Polymer({is:'paper-radio-button',behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:'radio',"aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:'aria-checked'}},ready:function(){this._rippleContainer=this.$.radioContainer},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){var a=this.getComputedStyleValue('--calculated-paper-radio-button-ink-size').trim();if('-1px'===a){var b=parseFloat(this.getComputedStyleValue('--calculated-paper-radio-button-size').trim()),c=Math.floor(3*b);c%2!==b%2&&c++,this.updateStyles({"--paper-radio-button-ink-size":c+'px'})}})}});
Polymer.IronMenubarBehaviorImpl=Object.defineProperties({hostAttributes:{role:'menubar'},keyBindings:{left:'_onLeftKey',right:'_onRightKey'},_onUpKey:function(a){this.focusedItem.click(),a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this.focusedItem.click(),a.detail.keyboardEvent.preventDefault()},_onLeftKey:function(a){this._isRTL?this._focusNext():this._focusPrevious(),a.detail.keyboardEvent.preventDefault()},_onRightKey:function(a){this._isRTL?this._focusPrevious():this._focusNext(),a.detail.keyboardEvent.preventDefault()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,'up down left right esc')||this._focusWithKeyboardEvent(a)}},{_isRTL:{get:function(){return'rtl'===window.getComputedStyle(this).direction},configurable:!0,enumerable:!0}}),Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];
Polymer({is:'paper-radio-group',behaviors:[Polymer.IronMenubarBehavior],hostAttributes:{role:'radiogroup',tabindex:0},properties:{attrForSelected:{type:String,value:'name'},selectedAttribute:{type:String,value:'checked'},selectable:{type:String,value:'paper-radio-button'},allowEmptySelection:{type:Boolean,value:!1}},select:function(a){var b=this._valueToItem(a);if(!(b&&b.hasAttribute('disabled'))){if(this.selected){var c=this._valueToItem(this.selected);if(this.selected==a)if(this.allowEmptySelection)a='';else return void(c&&(c.checked=!0));c&&(c.checked=!1)}Polymer.IronSelectableBehavior.select.apply(this,[a]),this.fire('paper-radio-group-changed')}},_activateFocusedItem:function(){this._itemActivate(this._valueForItem(this.focusedItem),this.focusedItem)},_onUpKey:function(a){this._focusPrevious(),a.preventDefault(),this._activateFocusedItem()},_onDownKey:function(a){this._focusNext(),a.preventDefault(),this._activateFocusedItem()},_onLeftKey:function(){Polymer.IronMenubarBehaviorImpl._onLeftKey.apply(this,arguments),this._activateFocusedItem()},_onRightKey:function(){Polymer.IronMenubarBehaviorImpl._onRightKey.apply(this,arguments),this._activateFocusedItem()}});
Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:'_entryAnimationChanged',type:String},exitAnimation:{observer:'_exitAnimationChanged',type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(a,b){for(var c in b)a[c]=b[c]},_cloneConfig:function(a){var b={isClone:!0};return this._copyProperties(b,a),b},_getAnimationConfigRecursive:function(a,b,c){if(this.animationConfig){if(this.animationConfig.value&&'function'===typeof this.animationConfig.value)return void this._warn(this._logf('playAnimation','Please put \'animationConfig\' inside of your components \'properties\' object instead of outside of it.'));var d;if(d=a?this.animationConfig[a]:this.animationConfig,Array.isArray(d)||(d=[d]),d)for(var e,f=0;e=d[f];f++)if(e.animatable)e.animatable._getAnimationConfigRecursive(e.type||a,b,c);else if(e.id){var g=b[e.id];g?(!g.isClone&&(b[e.id]=this._cloneConfig(g),g=b[e.id]),this._copyProperties(g,e)):b[e.id]=e}else c.push(e)}},getAnimationConfig:function(a){var b={},c=[];for(var d in this._getAnimationConfigRecursive(a,b,c),b)c.push(b[d]);return c}};
Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(a){var b=[];if(0<a.length)for(var c,d,e=0;c=a[e];e++)if(d=document.createElement(c.name),d.isNeonAnimation){var f=null;try{f=d.configure(c),'function'!=typeof f.cancel&&(f=document.timeline.play(f))}catch(a){f=null,console.warn('Couldnt play','(',c.name,').',a)}f&&b.push({neonAnimation:d,config:c,animation:f})}else console.warn(this.is+':',c.name,'not found!');return b},_shouldComplete:function(a){for(var b=!0,c=0;c<a.length;c++)if('finished'!=a[c].animation.playState){b=!1;break}return b},_complete:function(a){for(var b=0;b<a.length;b++)a[b].neonAnimation.complete(a[b].config);for(var b=0;b<a.length;b++)a[b].animation.cancel()},playAnimation:function(a,b){var c=this.getAnimationConfig(a);if(c){this._active=this._active||{},this._active[a]&&(this._complete(this._active[a]),delete this._active[a]);var d=this._configureAnimations(c);if(0==d.length)return void this.fire('neon-animation-finish',b,{bubbles:!1});this._active[a]=d;for(var e=0;e<d.length;e++)d[e].animation.onfinish=function(){this._shouldComplete(d)&&(this._complete(d),delete this._active[a],this.fire('neon-animation-finish',b,{bubbles:!1}))}.bind(this)}},cancelAnimation:function(){for(var a in this._animations)this._animations[a].cancel();this._animations={}}},Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];
(function(){'use notstrict';Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:'dialog',tabindex:'-1'},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:['_modalChanged(modal, __readied)'],listeners:{tap:'_onDialogClick'},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.__readied=!0},_modalChanged:function(a,b){b&&(a?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.noCancelOnOutsideClick=!0,this.noCancelOnEscKey=!0,this.withBackdrop=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(a){this.closingReason=this.closingReason||{},this.closingReason.confirmed=a},_onDialogClick:function(a){for(var b,c=Polymer.dom(a).path,d=0,e=c.indexOf(this);d<e;d++)if(b=c[d],b.hasAttribute&&(b.hasAttribute('dialog-dismiss')||b.hasAttribute('dialog-confirm'))){this._updateClosingReasonConfirmed(b.hasAttribute('dialog-confirm')),this.close(),a.stopPropagation();break}}},Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl]})();
(function(){'use notstrict';Polymer({is:'paper-dialog',behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":'_onNeonAnimationFinish'},_renderOpened:function(){this.cancelAnimation(),this.playAnimation('entry')},_renderClosed:function(){this.cancelAnimation(),this.playAnimation('exit')},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}})})();
Polymer.PaperSpinnerBehavior={properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:'__activeChanged'},alt:{type:String,value:'loading',observer:'__altChanged'},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(a,b){return[a||b?'active':'',b?'cooldown':''].join(' ')},__activeChanged:function(a,b){this.__setAriaHidden(!a),this.__coolingDown=!a&&b},__altChanged:function(a){'loading'===a?this.alt=this.getAttribute('aria-label')||a:(this.__setAriaHidden(''===a),this.setAttribute('aria-label',a))},__setAriaHidden:function(a){var b='aria-hidden';a?this.setAttribute(b,'true'):this.removeAttribute(b)},__reset:function(){this.active=!1,this.__coolingDown=!1}};
Polymer({is:'paper-spinner',behaviors:[Polymer.PaperSpinnerBehavior]});
Polymer({is:'paper-toggle-button',behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:'button',"aria-pressed":'false',tabindex:0},properties:{},listeners:{track:'_ontrack'},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){Polymer.Gestures.setTouchAction(this,'pan-y')})},_ontrack:function(a){var b=a.detail;'start'===b.state?this._trackStart(b):'track'===b.state?this._trackMove(b):'end'===b.state&&this._trackEnd(b)},_trackStart:function(){this._width=this.$.toggleBar.offsetWidth/2,this._trackChecked=this.checked,this.$.toggleButton.classList.add('dragging')},_trackMove:function(a){var b=a.dx;this._x=Math.min(this._width,Math.max(0,this._trackChecked?this._width+b:b)),this.translate3d(this._x+'px',0,0,this.$.toggleButton),this._userActivate(this._x>this._width/2)},_trackEnd:function(){this.$.toggleButton.classList.remove('dragging'),this.transform('',this.$.toggleButton)},_createRipple:function(){this._rippleContainer=this.$.toggleButton;var a=Polymer.PaperRippleBehavior._createRipple();return a.id='ink',a.setAttribute('recenters',''),a.classList.add('circle','toggle-ink'),a}});
Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:'cubic-bezier(0.4, 0, 0.2, 1)',fill:'both'}}}},isNeonAnimation:!0,created:function(){document.body.animate||console.warn('No web animations detected. This element will not function without a web animations polyfill.')},timingFromConfig:function(a){if(a.timing)for(var b in a.timing)this.animationTiming[b]=a.timing[b];return this.animationTiming},setPrefixedProperty:function(a,b,c){for(var d,e={transform:['webkitTransform'],transformOrigin:['mozTransformOrigin','webkitTransformOrigin']},f=e[b],g=0;d=f[g];g++)a.style[d]=c;a.style[b]=c},complete:function(){}};
var FadeOutAnimationElement;(function(a){var b=function(){function a(){}return a.configure=function(a){var b=a.node;return window.animateTransform(b,{propName:'scale',postfix:'',from:1,to:0},{duration:500,easing:'cubic-bezier(0.215, 0.610, 0.355, 1.000)',fill:'both'})},a.is='scale-down-animation',a.behaviors=[window.Polymer.NeonAnimationBehavior],a}();a.SDA=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(FadeOutAnimationElement||(FadeOutAnimationElement={}));
var FadeOutAnimationElement;(function(a){var b=function(){function a(){}return a.configure=function(a){var b=a.node;return b.animate([{opacity:'1'},{opacity:'0'}],{duration:500,easing:'cubic-bezier(0.215, 0.610, 0.355, 1.000)',fill:'both'})},a.is='fade-out-animation',a.behaviors=[window.Polymer.NeonAnimationBehavior],a}();a.FOA=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(FadeOutAnimationElement||(FadeOutAnimationElement={}));
var ScaleUpAnimationElement;(function(a){var b=function(){function a(){}return a.configure=function(a){var b=a.node;return window.animateTransform(b,{propName:'scale',postfix:'',from:0,to:1},{duration:500,easing:'cubic-bezier(0.215, 0.610, 0.355, 1.000)',fill:'both'})},a.is='scale-up-animation',a.behaviors=[window.Polymer.NeonAnimationBehavior],a}();a.SUA=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(ScaleUpAnimationElement||(ScaleUpAnimationElement={}));
var PaperMenuElement;(function(a){var b=function(){function a(){}return a.is='paper-menu',a.behaviors=[window.Polymer.IronMenuBehavior],a}();a.PM=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(PaperMenuElement||(PaperMenuElement={}));
(function(a){'undefined'===typeof module?window.changelogLog=a:module.exports=a})(function(){'use notstrict';return{"2.0.0":['Revamped the UI','Rewrote the entire extension','Added the CRM-API for more features','Added a stylesheet element','Added the ability to only show certain nodes on specified websites and/or content types','Added the ability to reposition nodes','Made it possible to delete or export selected nodes','Added compatability with Grease/Tamper-Monkey UserScripts','Added compatability with UserStylesheets','Added the ability to connect a script/stylesheet to a local editor','Now uses the better CodeMirror editor'],"2.0.4":['Scripts that use the Chrome API are now transferred over to using the crmAPI.chrome API','More clearly reflects a script created by you and what that means (all permissions)','Keeps track of info of local nodes as well now','Allows the editing of the version number'],"2.0.5":['Fixed a bug that caused scripts to not run when the catch errors option was on'],"2.0.6":['Added a docs button on script-edit page','Shows a warning when using the deprecated direct chrome API (use crmAPI.chrome instead)','Fixed a bug that occurred on saving'],"2.0.7":['Fixed json parser bug that sometimes occurred on loading page','Code cleanup and dead code removal','Node instances are now all shown','Fixed some bugs related to scripts not running in their own context'],"2.0.8":['Fixed some nodes missing IDs after creation','Fixed error that occurred on backgroundpage when running any script'],"2.0.9":['Fixed bug with buttons no longer working'],"2.0.10":['Fixed a bug in the crmAPI.GM.GM_notification function'],"2.0.11":['Fixed the "\xC2" character appearing in the editors','Added an indicator for when the exporting field is slow','Added/removed permissions are updated instantly','Fixed userscript installation page','Fixed unsafewindow permission','No longer enables userscript installation if TamperMonkey is already installed'],"2.0.12":['Added background.runScript, background.runSelf and background.addKeyboardListener functions to crmAPI','Rewrote crmAPI file and fixed some of its bugs','Cleaned up and structured logs on background file console'],"2.0.13":['Fixed GM_xmlhttpRequest error (thanks to [bumaociyuan](https://github.com/bumaociyuan) for the report)'],"2.0.14":['Added a remove button for libraries (thanks to robinchew for the suggestion)','Fixed some bugs related to background-pages'],"2.0.15":['It\'s now possible to change the root menu name (thanks to anonymous user)'],"2.0.16":['Fixed possible bug that can break the CRM on the options page from appearing since the last update'],"2.0.17":['Nodes are selectable again','Link nodes can be removed properly','%s in link nodes gets replaced with the currently selected text'],"2.0.18":['Fixed dragging','Types can be changed again','Widened nodes'],"2.0.19":['Fixed cancelling selection','Fixed type switching animation'],"2.1.0":['Uses polymer 2 instead of polymer 1 (~25% faster loading)','Works on multiple browsers now (chrome, firefox, edge and opera)','Uses the monaco editor instead of codemirror, featuring better code completion and more features overall','Supports writing scripts in [typescript](https://www.typescriptlang.org/) and compiling them in-extension','Supports typescript libraries and includes code completion for them as well','Added a "libraries" tab in the script dialog for quick toggling of libraries','Libraries can be edited and/or removed','You can now change the name of the root node','Uses [TypeDoc](http://typedoc.org/) for documentation instead','Added the [crmAPI.storageSync](https://sanderronde.github.io/CustomRightClickMenu/documentation/classes/crm.crmapi.instance.html#storagesync) API for syncing your script\'s storage across browser instances','Added the [crmAPI.browser](https://sanderronde.github.io/CustomRightClickMenu/documentation/classes/crm.crmapi.instance.html#browser) API which combines the [webExtensions](https://developer.mozilla.org/nl/Add-ons/WebExtensions) and [crmAPI.chrome](https://sanderronde.github.io/CustomRightClickMenu/documentation/classes/crm.crmapi.instance.html#chrome) functionalities','All callback-based crmAPI functions now also return a promise as well','Added the [crmAPI.contextMenuItem](https://sanderronde.github.io/CustomRightClickMenu/documentation/classes/crm.crmapi.instance.html#contextmenuitem) API for changing the contextmenu item\'s look, such as adding/removing a checkmark, changing the title, disabling or hiding it','Added the lastError, instanceId, chromeAPISupported and browserAPISupported properties to the crmAPI object','Added better code completion for the CRM API','The script and stylesheet options tab has better code completion','It\'s now possible to create contextmenu items as a script','Removed the external editor\'s functionality as chrome apps are being [deprecated](https://blog.chromium.org/2016/08/from-chrome-apps-to-web.html)','Added some more options to the "get page property" ribbon tool','Added support for a more programmatic way of editing the CRM through window.consoleInfo()','Reversed changelog order so the newest changes are on top','Plenty of changes/improvements to the UI','A lot of bug fixes and improvements to code legibility and documentation'],"2.1.1":['Changed the logo. Huge thanks to [Ulises](https://github.com/tjulises) for designing the logo','Added link to search engine dialog on main options page','Replaces %s with selected text in links, enabling easy search engine creation','Added checkmark after clicking some buttons, giving a bit more visual feedback','Hides code options button if there are no options','Content types can be toggled instead of only being able to select a single one','Nodes that are not shown on the current content type are greyed out instead of hidden'],"2.1.2":['Fixed a bug firefox bug causing the options page to not load'],"2.1.3":['Fixed the "change type" button','Backgroundscripts restart on change','Scripts/stylesheets that run early also run when refreshing a page','Small performance improvements, bug fixes and file size reductions'],"2.1.4":['Add support for installing from openusercss and *.user.css urls','Add support for stylesheet metablock highlighting/completion','Support [CSS preprocesors](https://github.com/openstyles/stylus/wiki/UserCSS#preprocessor)'],"2.1.5":['Attempt fix dragging of nodes'],"2.1.6":['Fix dragging of nodes'],"2.1.7":['Remove some bad practices in code (eval use etc).'],"2.1.8":['Just a version bump (no changes), on request of the firefox addon store'],"2.2.0":['Only a version bump from version 2.1.8 (no changes). This is the first version since 2.0.19 that is published on the chrome webstore and as such will be a breaking change relative to 2.0.19, which  is why the version is bumped.'],"2.2.1":['Fixed issue where dragging nodes downwards placed them one spot above the target','Fixed the "add here" button not working when adding a node as a child to a menu'],"2.2.2":['Fixed a bug that was introduced in Firefox 63 that prevented clicking of buttons','Added more "Add" buttons to make it more straightforward to add a specific type node'],"2.2.3":['Replaced JQuery 2.* with JQuery 3.3.1'],"2.2.4":['Now uses synced data of previous instances when downloading the extension on a new computer'],"2.2.5":['Fix bug that happened when upgrading version'],"2.2.6":['Fix a few bugs related to dragging nodes','Re-enable the "expand menu" buttons for menus that were accidentally hidden','Add undo feature for certain operations (for example adding, removing or changing an item)','Change title fonts and look a bit'],"2.2.7":['Fix more dragging issues']}}());var ChangeLogElement;(function(a){a.changeLogProperties={changelog:{type:Array,value:[],notify:!0}};var b=function(){function b(){}return b._makeLink=function(a,b){return'<a target="_blank" rel="noopener" href="'+b+'" title="'+a+'">'+a+'</a>'},b._stringSplice=function(a,b,c,d){return a.slice(0,b)+d+a.slice(c)},b._convertLinks=function(a){for(var b,c={startIndex:-1,inBlock:!1,inBrackets:!1,blockContents:null},d='',e=0;e<a.length;e++)if(b=a[e],'['===b)c.startIndex=e,c.inBlock=!0,d='';else if(']'===b)c.inBlock=!1,c.blockContents=d,d='';else if('('===b)d='',c.inBrackets=!0;else if(')'!==b)c.inBlock||c.inBrackets?d+=b:(c.blockContents=null,c.inBlock=!1,c.inBrackets=!1);else if(c.inBrackets=!1,c.blockContents)return this._convertLinks(this._stringSplice(a,c.startIndex,e+1,this._makeLink(c.blockContents,d)));return a},b._makeChangelogArray=function(a){var b=this,c=[];for(var d in a)a.hasOwnProperty(d)&&c.push({version:d,changes:a[d].map(function(a){return b._convertLinks(a)})});return c},b._splitVersion=function(a){var b=a.split('.');return{baseVersion:parseInt(b[0],10),majorVersion:parseInt(b[1],10),minorVersion:parseInt(b[2],10)}},b._compareVersions=function(a,b){var c=this._splitVersion(a),d=this._splitVersion(b);return c.baseVersion===d.baseVersion?c.majorVersion===d.majorVersion?c.minorVersion===d.minorVersion?0:c.minorVersion<d.minorVersion?-1:1:c.majorVersion<d.majorVersion?-1:1:c.baseVersion<d.baseVersion?-1:1},b._sortFunction=function(c,a){return window.changeLog._compareVersions(c.version,a.version)},b._sortChangelog=function(a){return a.sort(this._sortFunction).reverse()},(b.ready=function(){window.changeLog=this,this.changelog=this._sortChangelog(this._makeChangelogArray(window.changelogLog))},b.is='change-log',b.properties=a.changeLogProperties,b)}();a.CL=b;window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(ChangeLogElement||(ChangeLogElement={}));
var NodeEditBehaviorNamespace,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};(function(a){a.nodeEditBehaviorProperties={newSettings:{type:Object,notify:!0,value:{}},pageContentSelected:{type:Boolean,notify:!0},linkContentSelected:{type:Boolean,notify:!0},selectionContentSelected:{type:Boolean,notify:!0},imageContentSelected:{type:Boolean,notify:!0},videoContentSelected:{type:Boolean,notify:!0},audioContentSelected:{type:Boolean,notify:!0}};var b=function(){function b(){}return b.getContentTypeLaunchers=function(a){var b=this.$.showOnContentIconsContainer.children;a.onContentTypes=Array.prototype.slice.apply(b).map(function(a){return a.querySelector("paper-checkbox").checked})},b.getTriggers=function(a){for(var b=this.shadowRoot.querySelectorAll(".executionTrigger"),c=[],d=0;d<b.length;d++)c[d]={url:b[d].querySelector("paper-input").$$("input").value,not:b[d].querySelector(".executionTriggerNot").checked};a.triggers=c},b.cancel=function(){this.cancelChanges&&this.cancelChanges(),window.crmEditPage.animateOut()},b.save=function(a,b){var c=window.app.uploading.createRevertPoint(!1),d=!1;(null===b||void 0===b||"number"===typeof b.x)&&(b=window.app.nodesById.get(this.item.id),d=!0);var e=this.newSettings;this.saveChanges&&this.saveChanges(e),this.getContentTypeLaunchers(e),this.getTriggers(e),window.crmEditPage.animateOut();var f=window.app.editCRM.getCRMElementFromPath(this.item.path,!1);e.name=this.$.nameInput.$$("input").value,f.itemName=e.name,window.app.util.arraysOverlap(e.onContentTypes,window.app.crmTypes)||window.app.editCRM.build({setItems:window.app.editCRM.setMenus}),e.value&&"link"!==e.type&&(void 0!==e.value.launchMode&&0!==e.value.launchMode?e.onContentTypes=[!0,!0,!0,!0,!0,!0]:!window.app.util.arraysOverlap(e.onContentTypes,window.app.crmTypes)&&window.app.editCRM.build({setItems:window.app.editCRM.setMenus})),window.app.templates.mergeObjectsWithoutAssignment(b,e),d&&(window.app.upload(),window.app.uploading.showRevertPointToast(c))},b.inputKeyPress=function(a){var b=this;27===a.keyCode&&this.cancel(),13===a.keyCode&&this.save(),window.setTimeout(function(){var a=b.$.nameInput.$$("input").value;"script"===b.item.type?window.app.$.ribbonScriptName.innerText=a:"stylesheet"===b.item.type&&(window.app.$.ribbonStylesheetName.innerText=a)},0)},b.assignContentTypeSelectedValues=function(){var a,b=["pageContentSelected","linkContentSelected","selectionContentSelected","imageContentSelected","videoContentSelected","audioContentSelected"];for(a=0;6>a;a++)this[b[a]]=this.item.onContentTypes[a]},b.checkToggledIconAmount=function(a){var b=this,c=a.target;this.async(function(){var d={onContentTypes:[!1,!1,!1,!1,!1,!1]};if(b.getContentTypeLaunchers(d),0===d.onContentTypes.filter(function(a){return a}).length){var e=window.app.util.findElementWithTagname({path:a.path,Aa:a.Aa,target:c},"paper-checkbox");if(!e)return;e.checked=!0,window.doc.contentTypeToast.show()}},10)},b.toggleIcon=function(a){if(!(this.editorMode&&"background"===this.editorMode)){var b=window.app.util.findElementWithClassName(a,"showOnContentItemCont"),c=$(b).find("paper-checkbox")[0];c.checked=!c.checked,c.checked||this.checkToggledIconAmount({path:[c],target:c})}},b.clearTrigger=function(a){var b=a.target;"PAPER-ICON-BUTTON"===b.tagName&&(b=b.children[0]),this.splice("newSettings.triggers",Array.prototype.slice.apply(this.querySelectorAll(".executionTrigger")).indexOf(b.parentNode.parentNode),1)},b.addTrigger=function(){this.push("newSettings.triggers",{not:!1,url:"*://example.com/*"})},b._getPattern=function(){return Array.prototype.slice.apply(this.querySelectorAll(".triggerInput")).forEach(function(a){a.invalid=!1}),3===this.newSettings.value.launchMode?"(file:\\/\\/\\/.*|(\\*|http|https|file|ftp)://(\\*\\.[^/]+|\\*|([^/\\*]+.[^/\\*]+))(/(.*))?|(<all_urls>))":"(/(.+)/)|.+"},b._getLabel=function(a,b){return 2===this.newSettings.value.launchMode?this.__(a,b,"options_nodeEditBehavior_globPattern"):this.__(a,b,"options_nodeEditBehavior_matchPattern")},b.animateTriggers=function(a){var b=this;return new Promise(function(c){var d=b.$.executionTriggersContainer;d.style.height="auto",a?(d.style.display="block",d.style.marginLeft="-110%",d.style.height="0",$(d).animate({height:d.scrollHeight},300,function(){$(this).animate({marginLeft:0},200,function(){this.style.height="auto",c(null)})})):(d.style.marginLeft="0",d.style.height=d.scrollHeight+"",$(d).animate({marginLeft:"-110%"},200,function(){$(this).animate({height:0},300,function(){d.style.display="none",c(null)})})),b.showTriggers=a})},b.animateContentTypeChooser=function(a){var b=this.$.showOnContentContainer;a?(b.style.height="0",b.style.display="block",b.style.marginLeft="-110%",$(b).animate({height:b.scrollHeight},300,function(){$(b).animate({marginLeft:0},200,function(){b.style.height="auto"})})):(b.style.marginLeft="0",b.style.height=b.scrollHeight+"",$(b).animate({marginLeft:"-110%"},200,function(){$(b).animate({height:0},300,function(){b.style.display="none"})})),this.showContentTypeChooser=a},b.selectorStateChange=function(a,b){return __awaiter(this,void 0,void 0,function(){var c,d,e=this;return __generator(this,function(f){switch(f.label){case 0:return c={showContentTypeChooser:0===b||3===b,showTriggers:1<b&&4!==b,showInsteadOfExecute:3===b},d={showContentTypeChooser:0===a||3===a,showTriggers:1<a&&4!==a,showInsteadOfExecute:3===a},d.showTriggers===c.showTriggers?[3,2]:[4,this.animateTriggers(c.showTriggers)];case 1:f.sent(),f.label=2;case 2:return d.showContentTypeChooser!==c.showContentTypeChooser&&this.animateContentTypeChooser(c.showContentTypeChooser),c.showInsteadOfExecute!==d.showInsteadOfExecute&&(this.$.showOrExecutetxt.innerText=c.showInsteadOfExecute?"Show":"Execute"),this.async(function(){e.editorManager&&e.editorManager.editor.layout()},500),[2];}})})},b.matchesTypeScheme=function(a,b){switch(a){case"link":if(Array.isArray(b)){var c=!0;if(b.forEach(function(a){("object"!==("undefined"===typeof a?"undefined":babelHelpers["typeof"](a))||Array.isArray(a))&&(c=!1)}),c)return!0}break;case"script":case"stylesheet":return"object"===("undefined"===typeof b?"undefined":babelHelpers["typeof"](b))&&!Array.isArray(b);case"divider":case"menu":return null===b;}return!1},b._doTypeChange=function(a){var b=window.app.uploading.createRevertPoint(!1),c=window.app.nodesById.get(this.item.id),d=c.type,e=window.app.editCRM.getCRMElementFromPath(this.item.path,!0);if("menu"===d?(c.menuVal=c.children,delete c.children):c[d+"Val"]=c.value,c.type=this.item.type=a,"menu"===a&&(c.children=[]),c[a+"Val"]&&this.matchesTypeScheme(a,c[a+"Val"]))c.value=c[a+"Val"];else{var f;switch(c.type){case"link":c.triggers=c.triggers||[{url:"*://*.example.com/*",not:!1}],c.value=[{url:"https://www.example.com",newTab:!0}];break;case"script":f=f||c.triggers||[{url:"*://*.example.com/*",not:!1}],c.value=window.app.templates.getDefaultScriptValue();break;case"divider":c.value=null,c.triggers=c.triggers||[{url:"*://*.example.com/*",not:!1}];break;case"menu":c.value=null,c.triggers=c.triggers||[{url:"*://*.example.com/*",not:!1}];break;case"stylesheet":f=f||c.triggers||[{url:"*://*.example.com/*",not:!1}],c.value=window.app.templates.getDefaultStylesheetValue();}}e.item=c,e.type=a,e.calculateType();var g=e.shadowRoot.querySelector("type-switcher");g.onReady();for(var h=Array.prototype.slice.apply(g.shadowRoot.querySelectorAll(".typeSwitchChoice")),j=0;j<g.remainingTypes.length;j++)h[j].setAttribute("type",g.remainingTypes[j]);if("menu"===d){var i=g.parentElement.parentElement.parentNode.host.parentElement,k=i.parentElement.parentElement;k=$(k).next()[0],g.shadowColumns(k,!1),window.app.shadowStart=i.index+1}window.app.uploading.showRevertPointToast(b,15000),window.app.upload()},b._changeType=function(a){return __awaiter(this,void 0,void 0,function(){var b,c;return __generator(this,function(d){switch(d.label){case 0:return this._doTypeChange(a),b=this.item.id,this.cancel(),[4,window.app.util.wait(2e3)];case 1:return d.sent(),c=window.app.editCRM.getCRMElementFromPath(window.app.nodesById.get(b).path,!1),c.openEditPage(),[2];}})})},b.changeTypeToLink=function(){this._changeType("link")},b.changeTypeToScript=function(){this._changeType("script")},b.changeTypeToStylesheet=function(){this._changeType("stylesheet")},b.changeTypeToMenu=function(){this._changeType("menu")},b.changeTypeToDivider=function(){this._changeType("divider")},b.initDropdown=function(){this.showTriggers=1<this.item.value.launchMode&&4!==this.item.value.launchMode,this.showContentTypeChooser=0===this.item.value.launchMode||3===this.item.value.launchMode,this.showTriggers?(this.$.executionTriggersContainer.style.display="block",this.$.executionTriggersContainer.style.marginLeft="0",this.$.executionTriggersContainer.style.height="auto"):(this.$.executionTriggersContainer.style.display="none",this.$.executionTriggersContainer.style.marginLeft="-110%",this.$.executionTriggersContainer.style.height="0"),this.showContentTypeChooser?(this.$.showOnContentContainer.style.display="block",this.$.showOnContentContainer.style.marginLeft="0",this.$.showOnContentContainer.style.height="auto"):(this.$.showOnContentContainer.style.display="none",this.$.showOnContentContainer.style.marginLeft="-110%",this.$.showOnContentContainer.style.height="0"),this.$.dropdownMenu._addListener(this.selectorStateChange,"dropdownMenu",this),this.editorManager&&(this.editorManager.destroy(),this.editorManager=null)},(b._init=function(){var a=this;this.newSettings=JSON.parse(JSON.stringify(this.item)),window.crmEditPage.nodeInfo=this.newSettings.nodeInfo,this.assignContentTypeSelectedValues(),setTimeout(function(){a.$.nameInput.focus();var b=a.$.nameInput.$$("input").value;"script"===a.item.type?window.app.$.ribbonScriptName.innerText=b:"stylesheet"===a.item.type&&(window.app.$.ribbonStylesheetName.innerText=b)},350)},b.properties=a.nodeEditBehaviorProperties,b)}();a.NEB=b,window.Polymer.NodeEditBehavior=window.Polymer.NodeEditBehavior||a.NEB})(NodeEditBehaviorNamespace||(NodeEditBehaviorNamespace={}));
var EchoHtmlElement;(function(a){a.echoHtmlProperties={html:{type:String,value:'',observer:'htmlChanged'},makelink:{type:Boolean,value:!1}};var b=function(){function b(){}return b._stampHtml=function(a){this.$.content.innerHTML=a},b._makeLinksFromHtml=function(a){return a=a&&a.replace(/(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*))/g,'<a rel="noopener" target="_blank" href="$1" title="">$1</a>'),a},b.htmlChanged=function(){var a=this.html;this.makelink&&(a=this._makeLinksFromHtml(a)),this._stampHtml(a)},(b.ready=function(){this.htmlChanged()},b.is='echo-html',b.properties=a.echoHtmlProperties,b)}();a.EH=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(EchoHtmlElement||(EchoHtmlElement={}));
var CenterElementElement;(function(a){a.centerElementProperties={width:{type:String,value:null,observer:'recalculateStyles'},height:{type:String,value:null,observer:'recalculateStyles'},fill:{type:Boolean,value:!1,observer:'recalculateStyles'},fullscreenoverlay:{type:Boolean,value:!1,observer:'recalculateStyles'},hide:{type:Boolean,value:!1,notify:!0},requestedPermissions:{type:Array,value:[],notify:!0},otherPermissions:{type:Array,value:[],notify:!0},nostyle:{type:Boolean,value:!1,notify:!0}};var b=function(){function b(){}return b.recalculateStyles=function(){this.nostyle||!this._isReady||(this.fullscreenoverlay?(this.style.position='fixed',this.style.top=this.style.left='0',this.style.zIndex='9999',this.style.width='100vw',this.style.height='100vh'):(this.style.position='static',this.style.top=this.style.left='auto',this.style.zIndex='auto',this.fill?(this.style.width='100%',this.style.height='100%'):(this.width&&(this.style.width=this.width),this.height&&(this.style.height=this.height))))},b.ready=function(){this._isReady=!0,this.recalculateStyles()},(b.is='center-element',b.properties=a.centerElementProperties,b._isReady=!1,b)}();a.CE=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(CenterElementElement||(CenterElementElement={}));
var PaperToggleOptionElement;(function(a){a.paperToggleOptionProperties={toggled:{type:Boolean,notify:!0},disabled:{type:Boolean,notify:!0},disabledreason:{type:String,notify:!0,value:'disbled'},showmessage:{type:Boolean,notify:!0}};var b=function(){function b(){}return b.setCheckboxDisabledValue=function(a){this.$.checkbox.disabled=a,this.disabled=a},b._showMessage=function(){return this.disabled&&this.showmessage},b.init=function(a){this.toggled=a[this.getAttribute('id')]},(b.onClick=function(){var a=this.getAttribute('id');window.app.setLocal(a,!this.toggled)},b.is='paper-toggle-option',b.properties=a.paperToggleOptionProperties,b)}();a.PTO=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(PaperToggleOptionElement||(PaperToggleOptionElement={}));
var DefaultLinkElement;(function(a){a.defaultLinkProperties={searchEngine:{type:Boolean,notify:!0,value:!1},href:{type:String,notify:!0},defaultName:{type:String,notify:!0}};var b=function(){function b(){}return b.onClick=function(){var a=this.href,b=this.$.input.$$('input').value;window.app.uploading.createRevertPoint(),window.app.crm.add(window.app.templates.getDefaultLinkNode({id:window.app.generateItemId(),name:b,value:[{url:a,newTab:!0}]}))},b.reset=function(){this.$.input.value=this.defaultName},b.is='default-link',b.properties=a.defaultLinkProperties,b}();a.DL=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(DefaultLinkElement||(DefaultLinkElement={}));
(function(a){"use notstrict";window.Sortable=a()})(function(){"use notstrict";function a(b,c){if(!(b&&b.nodeType&&1===b.nodeType))throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(b);this.el=b,this.options=c=t({},c),b[W]=this;var d={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(b.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:Z(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==a.supportPointer};for(var e in d)e in c||(c[e]=d[e]);for(var g in ma(c),this)"_"===g.charAt(0)&&"function"===typeof this[g]&&(this[g]=this[g].bind(this));this.nativeDraggable=!c.forceFallback&&da,f(b,"mousedown",this._onTapStart),f(b,"touchstart",this._onTapStart),c.supportPointer&&f(b,"pointerdown",this._onTapStart),(this.nativeDraggable||!0)&&(f(b,"dragover",this),f(b,"dragenter",this)),ja.push(this._onDragOver),c.store&&this.sort(c.store.get(this))}function b(a,b){"clone"!==a.lastPullMode&&(b=!0),B&&B.state!==b&&(j(B,"display",b?"none":""),!b&&B.state&&(a.options.group.revertClone?(C.insertBefore(B,D),a._animate(y,B)):C.insertBefore(B,y)),B.state=b)}function c(a,b,c){if(a){c=c||Y;do if(">*"===b&&a.parentNode===c||r(a,b))return a;while(a=d(a))}return null}function d(a){var b=a.host;return b&&b.nodeType?b:a.parentNode}function e(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.preventDefault()}function f(a,b,c){a.addEventListener(b,c,ba)}function g(a,b,c){a.removeEventListener(b,c,ba)}function h(a,b,c){if(a)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(U," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(U," ")}}function j(a,b,c){var d=a&&a.style;if(d){if(void 0===c)return Y.defaultView&&Y.defaultView.getComputedStyle?c=Y.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||(b="-webkit-"+b),d[b]=c+("string"===typeof c?"":"px")}}function i(a,b,c){if(a){var d=a.getElementsByTagName(b),e=0,f=d.length;if(c)for(;e<f;e++)c(d[e],e);return d}return[]}function k(a,b,c,d,e,f,g,h,i){a=a||b[W];var j=Y.createEvent("Event"),k=a.options,l="on"+c.charAt(0).toUpperCase()+c.substr(1);j.initEvent(c,!0,!0),j.to=e||b,j.from=f||b,j.item=d||b,j.clone=B,j.oldIndex=g,j.newIndex=h,j.originalEvent=i,b.dispatchEvent(j),k[l]&&k[l].call(a,j)}function l(a,b,c,d,e,f,g,h){var i,j,k=a[W],l=k.options.onMove;return i=Y.createEvent("Event"),i.initEvent("move",!0,!0),i.to=b,i.from=a,i.dragged=c,i.draggedRect=d,i.related=e||b,i.relatedRect=f||b.getBoundingClientRect(),i.willInsertAfter=h,i.originalEvent=g,a.dispatchEvent(i),l&&(j=l.call(k,i,g)),j}function m(a){a.draggable=!1}function n(){fa=!1}function o(a,b){var c=a.lastElementChild,d=c.getBoundingClientRect();return 5<b.clientY-(d.top+d.height)||5<b.clientX-(d.left+d.width)}function p(a){for(var b=a.tagName+a.className+a.src+a.href+a.textContent,c=b.length,d=0;c--;)d+=b.charCodeAt(c);return d.toString(36)}function q(a,b){var c=0;if(!a||!a.parentNode)return-1;for(;a&&(a=a.previousElementSibling);)"TEMPLATE"!==a.nodeName.toUpperCase()&&(">*"===b||r(a,b))&&c++;return c}function r(a,b){if(a)try{if(a.matches)return a.matches(b);if(a.msMatchesSelector)return a.msMatchesSelector(b)}catch(a){return!1}return!1}function s(a,b){var c,d;return function(){void 0===c&&(c=arguments,d=this,_(function(){1===c.length?a.call(d,c[0]):a.apply(d,c),c=void 0},b))}}function t(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function u(a){if($&&$.dom){var b=$.dom(a).cloneNode(!0),c=a.prototype&&a.prototype.constructor,d=c&&c.properties;if(d)for(var e=Object.getOwnPropertyNames(d),f=0;f<e.length;f++)b[e[f]]=a[e[f]];else b.classList.add("fallbackFiller");return b}return aa?aa(a).clone(!0)[0]:a.cloneNode(!0)}function v(a){ia.length=0;for(var b,c=a.getElementsByTagName("input"),d=c.length;d--;)b=c[d],b.checked&&ia.push(b)}function w(a){return _(a,0)}function x(a){return clearTimeout(a)}if("undefined"===typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T={},U=/\s+/g,V=/left|right|inline/,W="Sortable"+new Date().getTime(),X=window,Y=X.document,Z=X.parseInt,_=X.setTimeout,aa=X.jQuery||X.Zepto,$=X.Polymer,ba=!1,ca=!1,da="draggable"in Y.createElement("div"),ea=function(a){return!!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&(a=Y.createElement("x"),a.style.cssText="pointer-events:auto","auto"===a.style.pointerEvents)}(),fa=!1,ga=Math.abs,ha=Math.min,ia=[],ja=[],ka=function(){return!1},la=s(function(a,b,c){if(c&&b.scroll){var d,e,f,g,h,i,j=c[W],k=b.scrollSensitivity,l=b.scrollSpeed,m=a.clientX,n=a.clientY,o=window.innerWidth,p=window.innerHeight;if(G!==c&&(F=b.scroll,G=c,H=b.scrollFn,!0===F)){F=c;do if(F.offsetWidth<F.scrollWidth||F.offsetHeight<F.scrollHeight)break;while(F=F.parentNode)}F&&(d=F,e=F.getBoundingClientRect(),f=(ga(e.right-m)<=k)-(ga(e.left-m)<=k),g=(ga(e.bottom-n)<=k)-(ga(e.top-n)<=k)),f||g||(f=(o-m<=k)-(m<=k),g=(p-n<=k)-(n<=k),(f||g)&&(d=X)),(T.vx!==f||T.vy!==g||T.el!==d)&&(T.el=d,T.vx=f,T.vy=g,clearInterval(T.pid),d&&(T.pid=setInterval(function(){i=g?g*l:0,h=f?f*l:0,"function"===typeof H&&"continue"!==H.call(j,h,i,a,Q,d)||(d===X?X.scrollTo(X.pageXOffset+h,X.pageYOffset+i):(d.scrollTop+=i,d.scrollLeft+=h))},24)))}},30),ma=function(a){function b(a,b){return(null==a||!0===a)&&(a=c.name,null==a)?ka:"function"===typeof a?a:function(c,d){var e=d.options.group.name;return b?a:a&&(a.join?-1<a.indexOf(e):e==a)}}var c={},d=a.group;d&&"object"==("undefined"===typeof d?"undefined":babelHelpers["typeof"](d))||(d={name:d}),c.name=d.name,c.checkPull=b(d.pull,!0),c.checkPut=b(d.put),c.revertClone=d.revertClone,a.group=c};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){ca=!1,ba={capture:!1,passive:ca}}}))}catch(a){}return a.prototype={constructor:a,_onTapStart:function(a){var b,d=this,e=this.el,f=this.options,g=f.preventOnFilter,h=a.type,i=a.touches&&a.touches[0],j=(i||a).target,l=a.target.shadowRoot&&a.path&&a.path[0]||j,m=f.filter;if((v(e),!y)&&!(/mousedown|pointerdown/.test(h)&&0!==a.button||f.disabled)&&!l.isContentEditable&&(j=c(j,f.draggable,e),!!j)&&E!==j){if(b=q(j,f.draggable),"function"===typeof m){if(m.call(this,a,j,this))return k(d,l,"filter",j,e,e,b),void(g&&a.preventDefault());}else if(m&&(m=m.split(",").some(function(a){if(a=c(l,a.trim(),e),a)return k(d,a,"filter",j,e,e,b),!0}),m))return void(g&&a.preventDefault());f.handle&&!c(l,f.handle,e)||this._prepareDragStart(a,i,j,b)}},_prepareDragStart:function(a,b,c,d){var e,g=this,j=g.el,l=g.options,n=j.ownerDocument;c&&!y&&c.parentNode===j&&(P=a,C=j,y=c,z=y.parentNode,D=y.nextSibling,E=c,N=l.group,L=d,this._lastX=(b||a).clientX,this._lastY=(b||a).clientY,y.style["will-change"]="all",e=function(){g._disableDelayedDrag(),y.draggable=g.nativeDraggable,h(y,l.chosenClass,!0),g._triggerDragStart(a,b),k(g,C,"choose",y,C,C,L)},l.ignore.split(",").forEach(function(a){i(y,a.trim(),m)}),f(n,"mouseup",g._onDrop),f(n,"touchend",g._onDrop),f(n,"touchcancel",g._onDrop),f(n,"selectstart",g),l.supportPointer&&f(n,"pointercancel",g._onDrop),l.delay?(f(n,"mouseup",g._disableDelayedDrag),f(n,"touchend",g._disableDelayedDrag),f(n,"touchcancel",g._disableDelayedDrag),f(n,"mousemove",g._disableDelayedDrag),f(n,"touchmove",g._delayedDragTouchMoveHandler),l.supportPointer&&f(n,"pointermove",g._delayedDragTouchMoveHandler),g._dragStartTimer=_(e,l.delay)):e())},_delayedDragTouchMoveHandler:function(a){ha(ga(a.clientX-this._lastX),ga(a.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer),g(a,"mouseup",this._disableDelayedDrag),g(a,"touchend",this._disableDelayedDrag),g(a,"touchcancel",this._disableDelayedDrag),g(a,"mousemove",this._disableDelayedDrag),g(a,"touchmove",this._disableDelayedDrag),g(a,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(a,b){b=b||("touch"==a.pointerType?a:null),b?(P={target:y,clientX:b.clientX,clientY:b.clientY},this._onDragStart(P,"touch")):this.nativeDraggable?(f(y,"dragend",this),f(C,"dragstart",this._onDragStart)):this._onDragStart(P,!0);try{Y.selection?w(function(){Y.selection.empty()}):window.getSelection().removeAllRanges()}catch(a){}},_dragStarted:function(){if(C&&y){var b=this.options;h(y,b.ghostClass,!0),h(y,b.dragClass,!1),a.active=this,k(this,C,"start",y,C,C,L)}else this._nulling()},_emulateDragOver:function(){if(Q){if(this._lastX===Q.clientX&&this._lastY===Q.clientY)return;this._lastX=Q.clientX,this._lastY=Q.clientY,ea||j(A,"display","none");for(var a=Y.elementFromPoint(Q.clientX,Q.clientY),b=a,c=ja.length;a&&a.shadowRoot;)a=a.shadowRoot.elementFromPoint(Q.clientX,Q.clientY),b=a;if(b)do{if(b[W]){for(;c--;)ja[c]({clientX:Q.clientX,clientY:Q.clientY,target:a,rootEl:b});break}a=b}while(b=b.parentNode);ea||j(A,"display","")}},_onTouchMove:function(b){if(P){var c=this.options,d=c.fallbackTolerance,e=c.fallbackOffset,f=b.touches?b.touches[0]:b,g=f.clientX-P.clientX+e.x,h=f.clientY-P.clientY+e.y,i=b.touches?"translate3d("+g+"px,"+h+"px,0)":"translate("+g+"px,"+h+"px)";if(!a.active){if(d&&ha(ga(f.clientX-this._lastX),ga(f.clientY-this._lastY))<d)return;this._dragStarted()}this._appendGhost(),R=!0,Q=f,j(A,"webkitTransform",i),j(A,"mozTransform",i),j(A,"msTransform",i),j(A,"transform",i),b.preventDefault()}},_appendGhost:function(){if(!A){var a,b=y.getBoundingClientRect(),c=j(y),d=this.options;A=u(y),h(A,d.ghostClass,!1),h(A,d.fallbackClass,!0),h(A,d.dragClass,!0),j(A,"top",b.top-Z(c.marginTop,10)),j(A,"left",b.left-Z(c.marginLeft,10)),j(A,"width",b.width),j(A,"height",b.height),j(A,"opacity","0.8"),j(A,"position","fixed"),j(A,"zIndex","100000"),j(A,"pointerEvents","none"),d.fallbackOnBody&&Y.body.appendChild(A)||C.appendChild(A),a=A.getBoundingClientRect(),j(A,"width",2*b.width-a.width),j(A,"height",2*b.height-a.height)}},_onDragStart:function(a,b){var c=this,d=a.dataTransfer,e=c.options;c._offUpEvents(),N.checkPull(c,c,y,a)&&(B=u(y),B.draggable=!1,B.style["will-change"]="",j(B,"display","none"),h(B,c.options.chosenClass,!1),c._cloneId=w(function(){C.insertBefore(B,y),k(c,C,"clone",y)})),h(y,e.dragClass,!0),b?("touch"===b?(f(Y,"touchmove",c._onTouchMove),f(Y,"touchend",c._onDrop),f(Y,"touchcancel",c._onDrop),e.supportPointer&&(f(Y,"pointermove",c._onTouchMove),f(Y,"pointerup",c._onDrop))):(f(Y,"mousemove",c._onTouchMove),f(Y,"mouseup",c._onDrop)),c._loopId=setInterval(c._emulateDragOver,50)):(d&&(d.effectAllowed="move",e.setData&&e.setData.call(c,d,y)),f(Y,"drop",c),c._dragStartId=w(c._dragStarted))},_onDragOver:function(d){d.detail&&d.detail.isCustom&&(d=d.detail);var e,f,g,h,i=this.el,k=this.options,m=k.group,p=a.active,q=N===m,r=!1,s=k.sort;if((void 0!==d.preventDefault&&(d.preventDefault(),!k.dragoverBubble&&d.stopPropagation()),!y.animated)&&(R=!0,p&&!k.disabled&&(q?s||(h=!C.contains(y)):O===this||(p.lastPullMode=N.checkPull(this,p,y,d))&&m.checkPut(this,p,y,d))&&(void 0===d.rootEl||d.rootEl===this.el))){if(la(d,k,this.el),fa)return;if(e=c(d.target,k.draggable,i),f=y.getBoundingClientRect(),O!==this&&(O=this,r=!0),h)return b(p,!0),z=C,void(B||D?C.insertBefore(y,B||D):!s&&C.appendChild(y));if(0===i.children.length||i.children[0]===A||i===d.target&&o(i,d)){if(0!==i.children.length&&i.children[0]!==A&&i===d.target&&(e=i.lastElementChild),e){if(e.animated)return;g=e.getBoundingClientRect()}b(p,q),!1!==l(C,i,y,f,e,g,d)&&(!y.contains(i)&&(i.appendChild(y),z=i),this._animate(f,y),e&&this._animate(g,e))}else if(e&&!e.animated&&e!==y&&void 0!==e.parentNode[W]){I!==e&&(I=e,J=j(e),K=j(e.parentNode)),g=e.getBoundingClientRect();var t=g.right-g.left,u=g.bottom-g.top,v=V.test(J.cssFloat+J.display)||"flex"==K.display&&0===K["flex-direction"].indexOf("row"),w=e.offsetWidth>y.offsetWidth,x=e.offsetHeight>y.offsetHeight,E=0.5<(v?(d.clientX-g.left)/t:(d.clientY-g.top)/u),F=e.nextElementSibling,G=!1;if(v){var H=y.offsetTop,L=e.offsetTop;G=H===L?e.previousElementSibling===y&&!w||E&&w:e.previousElementSibling===y||y.previousElementSibling===e?0.5<(d.clientY-g.top)/u:L>H}else r||(G=F!==y&&!x||E&&x);var M=l(C,i,y,f,e,g,d,G);if(!1!==M){if((1===M||-1===M)&&(G=1===M),fa=!0,_(n,30),b(p,q),!y.contains(i))if(G&&!F)i.appendChild(y);else{if(G&&F===y)return;if(!G&&y===e.previousElementSibling)return;e.parentNode.insertBefore(y,G?F:e)}z=y.parentNode,this._animate(f,y),this._animate(g,e)}}}},_animate:function(a,b){var c=this.options.animation;if(c){var d=b.getBoundingClientRect();1===a.nodeType&&(a=a.getBoundingClientRect()),j(b,"transition","none"),j(b,"transform","translate3d("+(a.left-d.left)+"px,"+(a.top-d.top)+"px,0)"),S=b.offsetWidth,j(b,"transition","all "+c+"ms"),j(b,"transform","translate3d(0,0,0)"),clearTimeout(b.animated),b.animated=_(function(){j(b,"transition",""),j(b,"transform",""),b.animated=!1},c)}},_offUpEvents:function(){var a=this.el.ownerDocument;g(Y,"touchmove",this._onTouchMove),g(Y,"pointermove",this._onTouchMove),g(a,"mouseup",this._onDrop),g(a,"touchend",this._onDrop),g(a,"pointerup",this._onDrop),g(a,"touchcancel",this._onDrop),g(a,"pointercancel",this._onDrop),g(a,"selectstart",this)},_onDrop:function(b){var c=this.el,d=this.options;clearInterval(this._loopId),clearInterval(T.pid),clearTimeout(this._dragStartTimer),x(this._cloneId),x(this._dragStartId),g(Y,"mouseover",this),g(Y,"mousemove",this._onTouchMove),this.nativeDraggable&&(g(Y,"drop",this),g(c,"dragstart",this._onDragStart)),this._offUpEvents(),b&&(R&&(b.preventDefault(),!d.dropBubble&&b.stopPropagation()),A&&A.parentNode&&A.parentNode.removeChild(A),(C===z||"clone"!==a.active.lastPullMode)&&B&&B.parentNode&&B.parentNode.removeChild(B),y&&(this.nativeDraggable&&g(y,"dragend",this),m(y),y.style["will-change"]="",h(y,this.options.ghostClass,!1),h(y,this.options.chosenClass,!1),k(this,C,"unchoose",y,z,C,L,null,b),C===z?y.nextSibling!==D&&(M=q(y,d.draggable),0<=M&&(k(this,C,"update",y,z,C,L,M,b),k(this,C,"sort",y,z,C,L,M,b))):(M=q(y,d.draggable),0<=M&&(k(null,z,"add",y,z,C,L,M,b),k(this,C,"remove",y,z,C,L,M,b),k(null,z,"sort",y,z,C,L,M,b),k(this,C,"sort",y,z,C,L,M,b))),a.active&&((null==M||-1===M)&&(M=L),k(this,C,"end",y,z,C,L,M,b),this.save()))),this._nulling()},_nulling:function(){C=y=z=A=D=B=E=F=G=P=Q=R=M=I=J=O=N=a.active=null,ia.forEach(function(a){a.checked=!0}),ia.length=0},handleEvent:function(a){switch(a.type){case"drop":case"dragend":this._onDrop(a);break;case"dragover":case"dragenter":y&&(this._onDragOver(a),e(a));break;case"mouseover":this._onDrop(a);break;case"selectstart":a.preventDefault();}},toArray:function(){for(var a,b=[],d=this.el.children,e=0,f=d.length,g=this.options;e<f;e++)a=d[e],c(a,g.draggable,this.el)&&b.push(a.getAttribute(g.dataIdAttr)||p(a));return b},sort:function(a){var b={},d=this.el;this.toArray().forEach(function(a,e){var f=d.children[e];c(f,this.options.draggable,d)&&(b[a]=f)},this),a.forEach(function(a){b[a]&&(d.removeChild(b[a]),d.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,b){return c(a,b||this.options.draggable,this.el)},option:function(a,b){var c=this.options;return void 0===b?c[a]:void(c[a]=b,"group"===a&&ma(c))},destroy:function(){var a=this.el;a[W]=null,g(a,"mousedown",this._onTapStart),g(a,"touchstart",this._onTapStart),g(a,"pointerdown",this._onTapStart),this.nativeDraggable&&(g(a,"dragover",this),g(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),ja.splice(ja.indexOf(this._onDragOver),1),this._onDrop(),this.el=a=null}},f(Y,"touchmove",function(b){a.active&&b.preventDefault()}),a.utils={on:f,off:g,css:j,find:i,is:function(a,b){return!!c(a,b,a)},extend:t,throttle:s,closest:c,toggleClass:h,clone:u,index:q,nextTick:w,cancelNextTick:x},a.create=function(b,c){return new a(b,c)},a.version="1.7.0",a});var EditCrmElement,__assign=this&&this.__assign||function(){return __assign=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},__assign.apply(this,arguments)};(function(a){a.editCrmProperties={crm:{type:Array,value:[],notify:!0},crmLoading:{type:Boolean,value:!0,notify:!0},crmEmpty:{type:Boolean,value:!1,notify:!0,computed:"_isCrmEmpty(crm, crmLoading)"},isSelecting:{type:Boolean,value:!1,notify:!0},isAdding:{type:Boolean,value:!1,notify:!0},isAddingOrSelecting:{type:Boolean,value:!1,notify:!0,computed:"_isAddingOrSelecting(isAdding, isSelecting)"}};var b=function(){function b(){}return b._addNodeType=function(a){return this.___("options_editCrm_addNodeType",window.app.crm.getI18NNodeType(a))},b._isColumnEmpty=function(a){return 0===a.list.length&&!this.isAdding},b._isCrmEmpty=function(a,b){return!b&&0===a.length},b._getAriaLabel=function(a){return"Edit item \""+a.name+"\""},b._isAddingOrSelecting=function(){return this.isAdding||this.isSelecting},b._getColumns=function(){if(this._columns&&document.contains(this._columns[0]))return this._columns;var a=this.$.CRMEditColumnsContainer;return this._columns=Array.prototype.slice.apply(a.children).filter(function(a){return a.classList.contains("CRMEditColumnCont")}).map(function(a){return a.querySelector(".CRMEditColumn")})},b._getLastMenu=function(a,b){var c=-1,d=-1;return a&&(a.forEach(function(a,e){("menu"===a.type||window.app.shadowStart&&a.menuVal)&&(a.children=a.children||[],(void 0===b||e!==b)&&(c=e,0<a.children.length&&(d=e)))}),-1!==d)?d:c},b._setInvisibleNodes=function(a,b,c){var d;if(b.children&&0<b.children.length){d=b.children.length;for(var e=0;e<d;e++)this._setInvisibleNodes(a,b.children[e],c)}window.app.util.arraysOverlap(b.onContentTypes,c)||(a[b.id]=!0)},b._buildCRMEditObj=function(a,b){for(var c,d,e=[],f=0,g=-2,h=0,j=[],k=[],l=window.app.settings.crm,m=a.length,n=window.app.crmTypes,o={},p=0;p<l.length;p++)this._setInvisibleNodes(o,l[p],n);if(l.length)for(;-1!==g;){g=m>f&&-1!==a[f]?a[f]:this._getLastMenu(l,b[f]),k[f]=g,d=g;var i=[];if(i[h-1]=void 0,c={indent:i,menuPath:e.concat(g),list:l,index:f,shadow:window.app.shadowStart&&window.app.shadowStart<=f},l.forEach(function(a){a.expanded=!1}),-1!==g){h+=d;var q=l[g];q.expanded=!0,l=window.app.shadowStart&&q.menuVal?q.menuVal:l[g].children}c.list=c.list.map(function(a,b){return __assign({},a,{path:e.concat([b]),index:b,isPossibleAddLocation:!1,hiddenOnCrmType:!!o[a.id]})}),e.push(g),j.push(c),f++}return this._columns=null,{crm:j,setMenus:k}},b._setColumnContOffset=function(a,b,c){void 0===c&&(c=!1),void 0===a.offset&&(a.offset=0),c?a.offset=b:a.offset+=b,window.setTransform(a,"translateY("+a.offset+"px)")},b._resetColumnOffsets=function(){for(var a=window.app.editCRM.shadowRoot.querySelectorAll(".CRMEditColumnCont"),b=0;b<a.length;b++)this._setColumnContOffset(a[b],0)},b._moveFollowingColumns=function(a,b){for(var c=window.app.editCRM.shadowRoot.querySelectorAll(".CRMEditColumnCont"),d=a.index+1;d<c.length;d++)this._setColumnContOffset(c[d],b)},b._createSorter=function(){var a=this;this._sortables=this._sortables.filter(function(a){return a.destroy(),!1}),this._getColumns().forEach(function(b,c,d){var e=null,f=0,g=null;a._sortables.push(new Sortable(b,{group:"crm",animation:50,handle:".dragger",ghostClass:"draggingCRMItem",chosenClass:"draggingFiller",scroll:!0,forceFallback:!0,fallbackOnBody:!1,onStart:function(){a.dragging=!0},onChoose:function(a){var f=a.item;if(e=f,"menu"===f.item.type&&f.expanded){f.expanded=!1,f.shadowRoot.querySelector(".menuArrow").removeAttribute("expanded");for(var g=c+1;g<d.length;g++)d[g].style.display="none"}f.currentColumn=b},onEnd:function(b){a.dragging=!1;var c=window.app.uploading.createRevertPoint(!1),d=window.app.util.findElementWithClassName({path:b.originalEvent.path},"menuArrowCont");if(d){for(;d&&"EDIT-CRM-ITEM"!==d.tagName;)d=d.parentNode||d.host;var e=d;if(e&&"menu"===e.type){window.app.crm.move(b.item.item.path,e.item.path.concat(0)),window.app.crm.buildNodePaths(window.app.settings.crm);var f=window.app.crm.lookupId(b.item.item.id,!1).path;return window.app.editCRM.setMenus=f.slice(0,f.length-1),window.app.editCRM.build({setItems:window.app.editCRM.setMenus,quick:!0}),void window.app.uploading.showRevertPointToast(c)}}var g=b.item.parentNode.index,h=b.newIndex;window.app.crm.move(b.item.item.path,window.app.editCRM.setMenus.slice(0,g).concat(h)),window.app.uploading.showRevertPointToast(c)},onMove:function(b){a.async(function(){if(b.to!==b.dragged.currentColumn){a._resetColumnOffsets();var c=window.app.editCRM.shadowRoot.querySelectorAll(".CRMEditColumnCont"),d=Math.min(b.dragged.currentColumn.index,b.to.index);a._setColumnContOffset(c[d],0,!0);for(var h=d;h<c.length-1;h++){var i=c[h],j=Array.prototype.slice.apply(i.querySelectorAll("edit-crm-item")).filter(function(a){return a!==b.dragged&&a.item&&"menu"===a.item.type&&a.expanded})[0];if(!j)break;var k=Array.prototype.slice.apply(j.parentElement.children).indexOf(j)+window.app.editCRM.crm[h].indent.length+i.offset,l=window.app.editCRM.crm[h+1].indent.length;a._setColumnContOffset(c[h+1],50*(k-l),!0)}}else if("menu"===b.related.item.type&&b.related.expanded){var m=b.relatedRect.top<b.draggedRect.top;if(g&&g.item===b.related.item&&g.direction===(m?"under":"over"))return;m?1!==f&&a._moveFollowingColumns(b.to,50):a._moveFollowingColumns(b.to,-50),g={item:b.related.item,direction:m?"under":"over"}}e.currentColumn=b.to,f++},10)}}))})},b.build=function(a){var b=this,c=void 0===a?{setItems:[],unsetItems:[],quick:!1,instant:!1}:a,d=c.setItems,e=void 0===d?[]:d,f=c.unsetItems,g=void 0===f?[]:f,h=c.quick,i=c.instant,j=this._buildCRMEditObj(e,g);this.setMenus=j.setMenus;var k,l=j.crm,m=0;l.forEach(function(a){k=a.indent.length+a.list.length,k>m&&(m=k)}),this.$.mainCont.style.minHeight=50*m+"px",this.crm=[],null!==this._currentTimeout&&window.clearTimeout(this._currentTimeout),this.crmLoading=!0,this._columns=null;var n=function(){b.crm=l,b.notifyPath("crm",b.crm),b._currentTimeout=null,setTimeout(function(){b.crmLoading=!1;for(var a=b.getItems(),c=0;c<a.length;c++)a[c].update&&a[c].update();setTimeout(function(){b._createSorter()},0)},50)};return i?n():this._currentTimeout=window.setTimeout(n,void 0!==h&&h?150:1e3),l},b.ready=function(){var a=this;window.onExists("app").then(function(){window.app.editCRM=a,window.app.addEventListener("crmTypeChanged",function(){a._typeChanged()}),a._typeChanged(!0)})},b.addToPosition=function(a){var b=window.app.util.findElementWithClassName(a,"addingItemPlaceholder"),c=JSON.parse(b.getAttribute("data-path"));this._addItem(c,this.addingType),this.isAdding=!1},b.cancelAddOrSelect=function(){this.isAdding?this.cancelAdding():this.isSelecting&&this.cancelSelecting()},b.cancelAdding=function(){this.isAdding&&(this.isAdding=!1,this.build({setItems:window.app.editCRM.setMenus}))},b.setAddStateLink=function(){this._setAddStateForType("link")},b.setAddStateScript=function(){this._setAddStateForType("script")},b.setAddStateStylesheet=function(){this._setAddStateForType("stylesheet")},b.setAddStateMenu=function(){this._setAddStateForType("menu")},b.setAddStateDivider=function(){this._setAddStateForType("divider")},b._setAddStateForType=function(a){return 0===window.app.settings.crm.length?(window.app.settings.crm.push(window.app.templates.getDefaultNodeOfType(a,{id:window.app.generateItemId()})),window.app.editCRM.build({setItems:window.app.editCRM.setMenus}),void window.app.upload()):void(this.isSelecting&&this.cancelSelecting(),this.isAdding=!0,this.addingType=a,this.build({setItems:window.app.editCRM.setMenus,instant:!0}))},b._addItem=function(a,b){var c=window.app.templates.getDefaultNodeOfType(b,{id:window.app.generateItemId()});window.app.uploading.createRevertPoint();var d=window.app.crm.lookup(a,!0);return null===d?(window.app.util.showToast("Failed to add "+b),void window.app.util.wait(5e3).then(function(){window.app.listeners.hideGenericToast()})):void(d.push(c),window.app.editCRM.build({setItems:window.app.editCRM.setMenus}),window.app.upload())},b._getSelected=function(){var a,b=[],c=this.getItems();for(a=0;a<c.length;a++)c[a].$.itemCont.classList.contains("highlighted")&&b.push(c[a].item.id);return b},b._ifDefSet=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];for(var e,f=0;f<c.length;f++)e=c[f],void 0!==a[e]&&(b[e]=a[e])},b.makeNodeSafe=function(a){var b={};if(this._ifDefSet(a,b,"type","name","value","linkVal","menuVal","nodeInfo","triggers","scriptVal","stylesheetVal","onContentTypes","showOnSpecified"),a.children){b.children=[];for(var c=0;c<a.children.length;c++)b.children[c]=this.makeNodeSafe(a.children[c])}return b},b._extractUniqueChildren=function(a,b,c){if(-1<b.indexOf(a.id))c.push(a);else for(var d=0;a.children&&d<a.children.length;d++)this._extractUniqueChildren(a.children[d],b,c)},b._changeAuthor=function(a,b){if("local"!==a.nodeInfo.source){a.nodeInfo.source.author=b;for(var c=0;a.children&&c<a.children.length;c++)this._changeAuthor(a.children[c],b)}},b._crmExportNameChange=function(a,b){return b&&a.nodeInfo&&a.nodeInfo.source&&"local"!==a.nodeInfo.source&&(a.nodeInfo.source.author=b),JSON.stringify(a)},b.getMetaIndexes=function(a){for(var b=[],c=-1,d=-1,e=a.split("\n"),f=0;f<e.length;f++)-1===c?(-1<e[f].indexOf("==UserScript==")||-1<e[f].indexOf("==UserStyle=="))&&(c=f):(-1<e[f].indexOf("==/UserScript==")||-1<e[f].indexOf("==/UserStyle=="))&&(d=f,b.push({start:c,end:d}),c=-1,d=-1);return b},b.getMetaLinesForIndex=function(a,b){for(var c=b.start,d=b.end,e=[],f=a.split("\n"),g=c+1;g<d;g++)e.push(f[g]);return e},b.getMetaLines=function(a){for(var b,c=[],d=this.getMetaIndexes(a),e=0,f=d;e<f.length;e++)b=f[e],c=c.concat(this.getMetaLinesForIndex(a,b));return c},b.getMetaTagsForLines=function(a){for(var b,c={},d=null,e=/@(\w+)(\s+)(.+)/,f=0;f<a.length;f++)if(b=a[f].match(e),b){if(d){var g=d.key,h=d.value;c[g]=c[g]||[],c[g].push(h)}d={key:b[1],value:b[3]}}else d.value+="\n"+a[f];if(d){var g=d.key,h=d.value;c[g]=c[g]||[],c[g].push(h)}return c},b.getMetaTags=function(a){var b=this.getMetaLines(a);return this.getMetaTagsForLines(b)},b._setMetaTagIfSet=function(a,b,c,d){d&&d[c]&&(Array.isArray(d[c])?a[b]=d[c]:a[b]=[d[c]])},b._getUserscriptString=function(a,b){for(var c,d="script"===a.type?a.value.script:a.value.stylesheet,e=d.split("\n"),f=this.getMetaIndexes(d),g={},h=[],i=0,j=f;i<j.length;i++)for(var k=j[i],l=k.start,m=k.end,n=l;n<m;n++)h.push(n);if(0<f.length){for(var o,p=0,q=h.reverse();p<q.length;p++)o=q[p],e.splice(o,1);g=this.getMetaTags(d)}this._setMetaTagIfSet(g,"name","name",a),b=g.nodeInfo&&JSON.parse(g.nodeInfo[0]).author||b||"anonymous";var r=[];Array.isArray(b)||(r=[b]),g.author=r,"local"!==a.nodeInfo.source&&this._setMetaTagIfSet(g,"downloadURL","url",a.nodeInfo.source),this._setMetaTagIfSet(g,"version","version",a.nodeInfo),g.CRM_contentTypes=[JSON.stringify(a.onContentTypes)],this._setMetaTagIfSet(g,"grant","permissions",a);var s=[],t=[];for(c=0;c<a.triggers.length;c++)a.triggers[c].not?t.push(a.triggers[c].url):s.push(a.triggers[c].url);if(g.match=s,g.exclude=t,this._setMetaTagIfSet(g,"CRM_launchMode","launchMode",a.value),"script"===a.type&&a.value.libraries)for(g.require=[],c=0;c<a.value.libraries.length;c++)a.value.libraries[c].url&&g.require.push(a.value.libraries[c].url);if("stylesheet"===a.type){g.CRM_stylesheet=["true"],this._setMetaTagIfSet(g,"CRM_toggle","toggle",a.value),this._setMetaTagIfSet(g,"CRM_defaultOn","defaultOn",a.value);var u=e.join("\n");e=["GM_addStyle('"+u.replace(/\n/g,"\\n' + \n'")+"');"]}var v=[];for(var w in g)if(g.hasOwnProperty(w))for(c=0;c<g[w].length;c++)v.push("// @"+w+"\t"+g[w][c]);var x="// ==UserScript==\n\t"+v.join("\n")+"\n\t// ==/UserScript\n\t"+e.join("\n");return x},b._generateDocumentRule=function(a){for(var b,c,d=a.triggers.map(function(a){if(-1===a.url.indexOf("*"))return"url("+a+")";var b=a.url.split("://"),c=b[0],d=b.slice(1).join("://"),e=d.split("/"),f=e[0],g=e.slice(1).join("/"),h=-1<c.indexOf("*"),i=-1<f.indexOf("*"),j=-1<g.indexOf("*");return 1<~~h+~~i+~~j||i||h?"regexp(\""+a.url.replace(/\*/,".*").replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"\")":"url-prefix("+c+"://"+f+")"}),e=a.value.stylesheet.split("\n"),f=0;f<e.length;f++)if(b=/(\s+)(\w+)/.exec(e[f])){c=b[1];break}return c=c||"\t","@-moz-document "+d.join(", ")+" {"+e.map(function(a){return c+a}).join("\n")+"}"},b._getExportString=function(a,b,c){switch(b){case"Userscript":return this._getUserscriptString(a,c);case"Userstyle":return 0===a.value.launchMode||1===a.value.launchMode?a.value.stylesheet.replace(/UserScript/g,"UserStyle"):this._generateDocumentRule(a).replace(/UserScript/g,"UserStyle");default:case"CRM":return this._crmExportNameChange(a,c);}},b.exportSingleNode=function(a,b){var c=this,d=window.doc.exportJSONData;d.value=this._getExportString(a,b,null),window.doc.exportAuthorName.value=a.nodeInfo&&a.nodeInfo.source&&a.nodeInfo.source&&"local"!==a.nodeInfo.source&&a.nodeInfo.source.author||"anonymous",window.doc.exportAuthorName.addEventListener("keydown",function(){window.setTimeout(function(){var e=window.doc.exportAuthorName.value;browserAPI.storage.local.set({authorName:e});var f;f=c._getExportString(a,b,e),d.value=f},0)}),window.doc.exportDialog.open(),setTimeout(function(){d.focus(),d.select()},150)},b._exportGivenNodes=function(a){function b(a){var b=a.target.value;browserAPI.storage.local.set({authorName:b});for(var e=0;e<d.length;e++)c._changeAuthor(d[e],b);var g=JSON.stringify({crm:d});f.value=g}for(var c=this,d=[],e=0;e<a.length;e++)d[e]=this.makeNodeSafe(a[e]);var f=window.doc.exportJSONData;window.app.$.exportAuthorName.addEventListener("change",function(a){b(a)}),f.value=JSON.stringify({crm:d}),window.app.$.exportDialog.open(),setTimeout(function(){f.focus(),f.select()},150),window.app.storageLocal.authorName&&b({target:{value:window.app.storageLocal.authorName}})},b._exportGivenNodeIDs=function(a){for(var b=[],c=0;c<window.app.settings.crm.length;c++)this._extractUniqueChildren(window.app.settings.crm[c],a,b);this._exportGivenNodes(b)},b.exportSelected=function(){var a=this._getSelected();this._exportGivenNodeIDs(a)},b.cancelSelecting=function(){for(var a=this,b=this.getItems(),c=0;c<b.length;c++)b[c].rootNode||(b[c].$.itemCont.classList.remove("selecting"),b[c].$.itemCont.classList.remove("highlighted"));setTimeout(function(){a.isSelecting=!1},150)},b.removeSelected=function(){window.app.uploading.createRevertPoint();for(var a,b,c=this._getSelected(),d=0;d<c.length;d++)if(b=window.app.crm.lookupId(c[d],!0),!!b)for(a=0;a<b.length;a++)b[a].id===c[d]&&b.splice(a,1);window.app.upload(),this.build({quick:!0}),this.isSelecting=!1},b.selectItems=function(){for(var a=this,b=this.getItems(),c=0;c<b.length;c++)b[c].$.itemCont.classList.add("selecting");setTimeout(function(){a.isSelecting=!0},150)},b.getCRMElementFromPath=function(a,b){void 0===b&&(b=!1);var c;for(c=0;c<a.length-1;c++)if(this.setMenus[c]!==a[c])if(b){this.build({setItems:a});break}else return null;var d=this.$.CRMEditColumnsContainer.children,e=d[a.length-1].querySelector(".CRMEditColumn").children;for(c=0;c<e.length;c++)if(window.app.util.compareArray(e[c].item.path,a))return e[c];return null},b._getCrmTypeFromNumber=function(a){return["page","link","selection","image","video","audio"][a]},(b._typeChanged=function(a){void 0===a&&(a=!1);for(var b=window.app.crmTypes||[!0,!0,!0,!0,!0,!0],c=0;6>c;c++)window.app.editCRM.classList[b[c]?"add":"remove"](this._getCrmTypeFromNumber(c));window.runOrAddAsCallback(window.app.editCRM.build,window.app.editCRM,[{quick:a}])},b.getItems=function(){return Array.prototype.slice.apply(this.shadowRoot.querySelectorAll("edit-crm-item"))},b.getItemsWithClass=function(a){return this.getItems().filter(function(b){return b.$.itemCont.classList.contains(a)})},b.is="edit-crm",b._currentTimeout=null,b.setMenus=[],b.selectedElements=[],b._columns=[],b._sortables=[],b.dragging=!1,b.addingType=null,b.properties=a.editCrmProperties,b.listeners={crmTypeChanged:"_typeChanged"},b)}();a.EC=b,window.objectify?window.register(b):window.addEventListener("RegisterReady",function(){window.register(b)})})(EditCrmElement||(EditCrmElement={}));
var EditCrmItemElement;(function(a){a.editCrmItemProperties={item:{type:Object,notify:!0},expanded:{type:Boolean,notify:!0},shadow:{type:Boolean,notify:!0},itemName:{type:String,notify:!0},isMenu:{type:Boolean,notify:!0},hasCodeSettings:{type:Boolean,notify:!0},rootNode:{type:Boolean,notify:!0},crmTypeHidden:{type:Boolean,notify:!0}};var b=function(){function b(){}return b._openCodeSettings=function(){window.app.initCodeOptions(this.item)},b.getMenuExpandMessage=function(){return this.item.children?'Click to show '+this.item.children.length+' child'+(1<this.item.children.length?'ren':''):'Click to show children'},b.update=function(){if(!this.classList.contains('id'+this.item.id)){for(var a=this.classList,b=0;b<a.length;b++)if(-1<a[b].indexOf('id')){this.classList.remove(a[b]);break}this.attached(!0)}},b.updateName=function(a){void 0===a&&(a=window.app.settings.rootName='Custom Menu',window.app.upload()),this.set('itemName',a),this.item.name=a},b.rootNameChange=function(){var a=this.querySelector('#rootNameTitle').value;window.app.settings.rootName=a,window.app.upload()},b._initRootNode=function(){this.item=window.app.templates.getDefaultDividerNode({name:'Custom Menu',id:-1,index:-1,path:[-1],onContentTypes:[!0,!0,!0,!0,!0,!0]})},b.onMouseOver=function(a){a.preventDefault(),a.stopPropagation(),this._hoveringTypeSwitcher||this._isDrag||(this._hoveringTypeSwitcher=!0,this.typeIndicatorMouseOver())},b._mouseMove=function(a){if(window.app.editCRM.dragging){var b=new CustomEvent('dragover',{detail:{isCustom:!0,target:window.app.util.getPath(a)[0],clientX:a.clientX,clientY:a.clientY}});this.parentNode.dispatchEvent(b)}},b.attached=function(a){var b=this;if(void 0===a&&(a=!1),!this._hasBeenAttached||a)return this._hasBeenAttached=!0,this.classList.contains('fallbackFiller')?void this.$.itemCont.classList.add('fallbackFiller'):void((this.classList.contains('draggingFiller')||this.getAttribute('draggable'))&&(this.$.itemCont.classList.add('draggingFiller'),this._isDrag=!0),!this._isDrag&&this.addEventListener('mousemove',this._mouseMove.bind(this)),!this._isDrag&&document.body.addEventListener('mousemove',function(){b._hoveringTypeSwitcher&&(b._hoveringTypeSwitcher=!1,b.typeIndicatorMouseLeave())}),window.onExists('app').then(function(){return b.rootNode?void b._initRootNode():void(b.rootNode=!1,b.classList.add('id'+b.item.id),'wait'!==b.classList[0]&&(b.itemIndex=b.index,b.item=b.item,b.itemName=b.item.name,b.calculateType(),b.itemIndex=b.index,b.$$('#typeSwitcher')&&b.$$('#typeSwitcher').ready&&b.$$('#typeSwitcher').ready(),window.app.editCRM.isSelecting&&(b.$.itemCont.classList.add('selecting'),-1<window.app.editCRM.selectedElements.indexOf(b.item.id)?b._onSelect(!0,!0):b._onDeselect(!0,!0))))}))},b.openMenu=function(){window.app.editCRM.build({setItems:this.item.path})},b._getCheckbox=function(){return this.shadowRoot.querySelector('#checkbox')},b._selectThisNode=function(){var a=this._getCheckbox().checked;this._getCheckbox().checked=!a,0===window.app.editCRM.getItemsWithClass('highlighted').length&&this.$.itemCont.classList.add('firstHighlighted'),a?this._onDeselect():this._onSelect()},b.openEditPage=function(){if(!this.shadow&&!window.app.item&&!this.rootNode)if(!this.$.itemCont.classList.contains('selecting')){var a=this.item;window.app.item=a,'script'===a.type?(window.app.stylesheetItem=null,window.app.scriptItem=a):'stylesheet'===a.type?(window.app.scriptItem=null,window.app.stylesheetItem=a):(window.app.stylesheetItem=null,window.app.scriptItem=null),window.crmEditPage.init()}else this._selectThisNode()},b.getTitle=function(){return this.rootNode?'Click to edit root node name':this.hasAttribute('crm-type-hidden')?'This node won\'t be visible on this content type (select a different one on the top-right)':'Click to edit node'},b._getNextNode=function(a){if(a.children)return a.children[0];for(var b=Array.prototype.slice.apply(a.path),c=window.app.crm.lookup(b,!0),d=b.splice(b.length-1,1)[0];c.length-1<=d;)c=window.app.crm.lookup(b,!0),d=b.splice(b.length-1,1)[0];return c[d+1]},b._getPreviousNode=function(a){var b=Array.prototype.slice.apply(a.path),c=window.app.crm.lookup(b,!0),d=b.splice(b.length-1,1)[0];if(0===d){var e=window.app.crm.lookup(b);return e}var f=c[d-1];return f.children?f.children[f.children.length-1]:f},b._getNodesOrder=function(a,b){var c,d=a.path,e=b.path;if(d.length===e.length){var f=!0;for(c=0;c<d.length;c++)if(d[c]!==e[c]){f=!1;break}if(f)return'same'}var g=d.length>e.length?d.length:e.length;for(c=0;c<g;c++)if(void 0!==e[c]&&void 0!==d[c]){if(e[c]>d[c])return'after';if(e[c]<d[c])return'before'}else return void 0===e[c]?'before':'after';return'same'},b._generateShiftSelectionCallback=function(a,b){return function(){window.setTimeout(function(){window.app.editCRM.getCRMElementFromPath(a.path)._onSelect(!0)},b)}},b._selectFromXToThis=function(){var a=this,b=window.app.editCRM.getItemsWithClass('firstHighlighted')[0],c=b.item;window.app.editCRM.getItemsWithClass('highlighted').forEach(function(a){a.$.itemCont.classList.remove('highlighted')});var d=this._getNodesOrder(c,this.item);if('same'===d)this.$.itemCont.classList.add('highlighted'),this._getCheckbox().checked=!0,window.app.editCRM.selectedElements=[this.item.id];else{b.$.itemCont.classList.add('highlighted'),b.shadowRoot.getElementById('checkbox').checked=!0,window.app.editCRM.selectedElements=[b.item.id];for(var e=0,f='after'===d?this._getNextNode:this._getPreviousNode,g=f(c);g.id!==this.item.id;)this._generateShiftSelectionCallback(g,e)(),e+=35,g=f(g);window.setTimeout(function(){a.$.itemCont.classList.add('highlighted'),a._getCheckbox().checked=!0,window.app.editCRM.selectedElements.push(a.item.id)},e)}},b.checkClickType=function(a){this.rootNode||(a.detail.sourceEvent.ctrlKey?(window.app.editCRM.cancelAdding(),window.app.editCRM.selectItems(),this._selectThisNode()):this.$.itemCont.classList.contains('selecting')&&a.detail.sourceEvent.shiftKey?this._selectFromXToThis():(window.app.editCRM.cancelAdding(),this.openEditPage()))},b.calculateType=function(){this.type=this.item.type,this.isMenu='menu'===this.item.type,this.hasCodeSettings=('script'===this.item.type||'stylesheet'===this.item.type)&&0<window.app.generateCodeOptionsArray(this.item.value.options).length},b.typeIndicatorMouseOver=function(){var a=this;if(!this.shadow){var b=Date.now();this._lastTypeSwitchMouseover=b,this.async(function(){a._lastTypeSwitchMouseover===b&&(a._lastTypeSwitchMouseover=null,$(a.$$('type-switcher').$$('.TSContainer')).stop().animate({marginLeft:0},300))},25)}},b._animateOut=function(){this._typeIndicatorAnimation&&this._typeIndicatorAnimation.reverse?this._typeIndicatorAnimation.reverse():$(this.$$('type-switcher').$$('.TSContainer')).stop().animate({marginLeft:'-293px'},300)},b.typeIndicatorMouseLeave=function(){var a=this;if(this._lastTypeSwitchMouseover=null,!this.shadow){var b=this.$$('#typeSwitcher');b.toggledOpen?b.closeTypeSwitchContainer(!0,function(){b.toggledOpen=!1,b.$.typeSwitchChoicesContainer.style.display='none',window.setTransform(b.$.typeSwitchArrow,'rotate(180deg)'),a._animateOut()}):this._animateOut()}},b._getOnSelectFunction=function(a){var b=this;return function(){window.app.editCRM.getCRMElementFromPath(b.item.children[a].path)._onSelect(!0)}},b._onSelect=function(a,b){var c=this;if(void 0===a&&(a=!1),void 0===b&&(b=!1),this.$.itemCont.classList.add('highlighted'),a&&(this._getCheckbox().checked=!0),this.item.children&&!b)for(var d=function(a){setTimeout(function(){c._getOnSelectFunction(a)},35*a),window.app.editCRM.selectedElements.push(e.item.children[a].id)},e=this,f=0;f<this.item.children.length;f++)d(f)},b._getOnDeselectFunction=function(a){var b=this;return function(){window.app.editCRM.getCRMElementFromPath(b.item.children[a].path)._onDeselect(!0)}},b._onDeselect=function(a,b){var c=this;if(void 0===a&&(a=!1),void 0===b&&(b=!1),this.$.itemCont.classList.remove('highlighted'),a&&(this._getCheckbox().checked=!1),this.item.children&&!b)for(var d=window.app.editCRM.selectedElements,e=function(a){setTimeout(function(){c._getOnDeselectFunction(a)},35*a),d.splice(d.indexOf(f.item.children[a].id),1)},f=this,g=0;g<this.item.children.length;g++)e(g)},(b.onToggle=function(){var a=this;setTimeout(function(){a._getCheckbox().checked?a._onSelect():a._onDeselect()},0)},b.is='edit-crm-item',b.type='',b.properties=a.editCrmItemProperties,b._typeIndicatorAnimation=null,b._lastTypeSwitchMouseover=null,b._hasBeenAttached=!1,b._hoveringTypeSwitcher=!1,b._isDrag=!1,b)}();a.ECI=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(EditCrmItemElement||(EditCrmItemElement={}));
var CrmEditPageElement;(function(a){a.crmEditPageProperties={item:{type:Object,value:null,notify:!0},nodeInfo:{type:Object,value:{},notify:!0},hideUpdateMessage:{type:Boolean,value:!0,notify:!0}};var b=function(){function b(){}return b.getCreatedBy=function(){return this.___("options_crmEditPage_createdByYou","<b id=\"nodeInfoByYou\" title=\""+this.___("options_crmEditPage_hasAllPermissions")+"\">You</b>")},b.nodeInfoSource=function(){return this.___(this.isLocal(this.nodeInfo.source)?"options_crmEditPage_createdOn":"options_crmEditPage_installedOn","<b title=\""+this.getInstallDateTextFormat()+"\">"+this.nodeInfo.installDate+"</b>")},b.isLocal=function(a){return!a||"local"===a||this.item.isLocal},b._nodeInfoExists=function(a){return!!a},b.hideNodeInfo=function(a){return!this._nodeInfoExists(a)||this.isLocal(a.source)&&!this.hasInstallDate(a)},b.hasInstallDate=function(a){return this._nodeInfoExists(a)&&!!a.installDate},b._onAnimationDone=function(){this._backdropEl.classList.remove("visible"),this._backdropEl.classList.remove("clickthrough"),this.$.overlayCont.style.display="none",document.body.style.overflow="auto",document.body.style.marginRight="0",window.app.show=!1,window.app.item=null,this._unassignItems()},b._unassignItems=function(){this.isLink=this.isScript=this.isStylesheet=this.isMenu=this.isDivider=!1,this.linkItem=this.scriptItem=this.stylesheetItem=this.menuItem=this.dividerItem={}},b._animateIn=function(){return this._backdropEl.classList.add("visible"),this._backdropEl.classList.add("animateIn"),document.body.style.overflow="hidden",document.body.style.marginRight="17px",window.app.show=!0,this.$.overlayCont.style.display="block",window.animateTransform(this.$.overlayCont,{propName:"scale",postfix:"",from:0,to:1},{duration:300,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",fill:"both"})},b.animateOut=function(){var a=this;this._backdropEl.classList.remove("animateIn"),this._backdropEl.classList.add("clickthrough");var b=window.animateTransform(this.$.overlayCont,{propName:"scale",postfix:"",from:1,to:0},{duration:500,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",fill:"both"});b.onfinish=function(){a._onAnimationDone()},document.body.parentElement.style.overflow="auto"},b.updateName=function(a){this.notifyPath("item.name",a)},b.showUpgradeNotice=function(a,b){return!a&&b&&"script"===b.type&&b.value&&b.value.updateNotice},b.getScriptUpdateStatus=function(a){return a?window.app.storageLocal.upgradeErrors&&window.app.storageLocal.upgradeErrors[a.id]?"Some errors have occurred in updating this script. Please resolve them by clicking the link and replace any chrome calls on error lines with their CRM API equivalent.":"No errors have been detected in updating this script but this is no guarantee it will work, be sure to test it at least once.":""},b.hideUpdateMergeDialog=function(){var a=this;if(this.showUpgradeNotice(this.hideUpdateMessage,this.item)){var b=this.$.scriptUpdateNotice.getBoundingClientRect().height,c="-"+b+"px";this.$.scriptUpdateNotice.animate([{marginBottom:"0px"},{marginBottom:c}],{duration:350,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){a.$.scriptUpdateNotice.style.marginBottom=c,a.hideUpdateMessage=!0}}window.scriptEdit.newSettings.value.updateNotice=!1},b.showScriptUpdateDiff=function(){var a=this,b=this.item.value.oldScript,c=this.item.value.script,d=window.doc.externalEditorChooseFile;d.init(b,c,function(b){window.app.storageLocal.upgradeErrors&&delete window.app.storageLocal.upgradeErrors[a.item.id];var c=window.scriptEdit.editorManager.editor;window.scriptEdit.editorManager.isDiff(c)||c.setValue(b),setTimeout(function(){a.hideUpdateMergeDialog()},250),browserAPI.storage.local.set({upgradeErrors:window.app.storageLocal.upgradeErrors||{}})},!0,window.app.storageLocal.upgradeErrors&&window.app.storageLocal.upgradeErrors[this.item.id]),window.externalEditor.showMergeDialog(b,c),d.open()},b.getInstallDateTextFormat=function(){if(window.Intl&&"object"===babelHelpers["typeof"](window.Intl)&&this.nodeInfo){var a,b="1-13-2016"===new Date("1-13-2016").toLocaleDateString()?"eu":"na";return"eu"===b?(a=this.nodeInfo.installDate.split("-"),a=a[1]+"-"+a[0]+"-"+a[2]):a=this.nodeInfo.installDate,a=new Date(a),Math.floor(new Date(Date.now()-a.getMilliseconds()).getMilliseconds()/86400000)+" days ago"}return null},b.ready=function(){var a=this;$(this.$$(".popupCont")).click(function(a){a.stopPropagation()}),window.onExists("app").then(function(){a._backdropEl=window.app.$$(".backdropCont"),window.crmEditPage=a,a.isLink=a.isMenu=a.isScript=a.isDivider=!1,a.$.nodeInfoVersion.addEventListener("input",function(){a.item.nodeInfo.version=0<a.$.nodeInfoVersion.innerText.length?a.$.nodeInfoVersion.innerText:"1.0"})})},(b.init=function(){var a=this,b={isScript:!1,isLink:!1,isDivider:!1,isMenu:!1,isStylesheet:!1};this.hideUpdateMessage=!1,this.scriptItem=this.linkItem=this.dividerItem=this.menuItem=this.stylesheetItem={};var c=this.item;(b.isScript="script"===c.type)?(this.scriptItem=c,b.isLink=b.isMenu=b.isDivider=b.isStylesheet=!1):(b.isLink="link"===c.type)?(this.linkItem=c,b.isMenu=b.isDivider=b.isStylesheet=!1):(b.isStylesheet="stylesheet"===c.type)?(this.stylesheetItem=c,b.isMenu=b.isDivider=!1):(b.isMenu="menu"===c.type)?(this.menuItem=c,b.isDivider=!1):(b.isDivider=!0,this.dividerItem=c),setTimeout(function(){window.app.show=!0,a.isScript=b.isScript,a.isLink=b.isLink,a.isMenu=b.isMenu,a.isDivider=b.isDivider,a.isStylesheet=b.isStylesheet;var c=a.shadowRoot.querySelector("#editPageCont > :not([hidden])");c.init.apply(c),a._animateIn()},300)},b.is="crm-edit-page",b.isLink=!1,b.isScript=!1,b.isDivider=!1,b.isMenu=!1,b.isStylesheet=!1,b.linkItem={},b.scriptItem={},b.dividerItem={},b.menuItem={},b.stylesheetItem={},b.properties=a.crmEditPageProperties,b.listeners={"neon-animation-finish":"_onNeonAnimationFinish"},b)}();a.CEP=b,window.objectify?window.register(b):window.addEventListener("RegisterReady",function(){window.register(b)})})(CrmEditPageElement||(CrmEditPageElement={}));
var LinkEditElement;(function(a){a.linkEditProperties={item:{type:Object,value:{},notify:!0}};var b=function(){function b(){}return b.init=function(){this._init()},b.ready=function(){window.linkEdit=this},b.saveChanges=function(a){a.value=[],$(this.$.linksContainer).find('.linkChangeCont').each(function(){a.value.push({url:$(this).children('paper-input')[0].value,newTab:'true'!==$(this).children('paper-checkbox')[0].getAttribute('aria-checked')})})},b.checkboxStateChange=function(a){var b=window.app.util.findElementWithTagname(a,'paper-checkbox');$(this.$.linksContainer).find('paper-checkbox').each(function(){this!==b&&this.removeAttribute('checked')})},b.addLink=function(){window.linkEdit.push('newSettings.value',{url:'https://www.example.com',newTab:!0})},(b.toggleCheckbox=function(a){$(window.app.util.findElementWithClassName(a,'linkChangeCont')).children('paper-checkbox').click()},b.is='link-edit',b.behaviors=[window.Polymer.NodeEditBehavior],b.properties=a.linkEditProperties,b)}();a.LE=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(LinkEditElement||(LinkEditElement={}));
var MonacoEditorElement,__extends=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var s in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(s,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function n(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?s(e.value):new o(function(t){t(e.value)}).then(a,n)}l((i=i.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,o){function i(e){return function(t){return s([e,t])}}function s(i){if(r)throw new TypeError("Generator is already executing.");for(;d;)try{if(r=1,a&&(n=2&i[0]?a["return"]:i[0]?a["throw"]||((n=a["return"])&&n.call(a),0):a.next)&&!(n=n.call(a,i[1])).done)return n;switch((a=0,n)&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return d.label++,{value:i[1],done:!1};case 5:d.label++,a=i[1],i=[0];continue;case 7:i=d.ops.pop(),d.trys.pop();continue;default:if((n=d.trys,!(n=0<n.length&&n[n.length-1]))&&(6===i[0]||2===i[0])){d=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){d.label=i[1];break}if(6===i[0]&&d.label<n[1]){d.label=n[1],n=i;break}if(n&&d.label<n[2]){d.label=n[2],d.ops.push(i);break}n[2]&&d.ops.pop(),d.trys.pop();continue;}i=o.call(e,d)}catch(t){i=[6,t],a=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var r,a,n,l,d={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l};(function(e){var t={name:"The name of this script",namespace:"The namespace of the script",version:"The script version. This is used for the update check.",author:"The scripts author",description:"A short description.",homepage:"The author's homepage",homepageURL:"The author's homepage",website:"The author's homepage",source:"The author's homepage",icon:"The script's icon in low res",iconURL:"The script's icon in low res",defaulticon:"The script's icon in low res",icon64:"This scripts icon in 64x64 pixels.",icon64URL:"This scripts icon in 64x64 pixels.",updateURL:"An update URL for the userscript",downloadURL:"Defines the URL where the script will be downloaded from when an update was detected",supportURL:"Defines the URL where the user can report issues and get personal support",include:"The pages on which the script should run",match:"The pages on which the script should run",exclude:"Exclude URLs even if they are included by **@include** or **@match**",require:"Points to a javascript file that is loaded and executed before the script itself",resource:"Preloads resources that can be accessed by `GM_getResourceURL` and `GM_getResourceText` by the script",connect:"Domains which are allowed to be retrieved by `GM_xmlhttpRequest`",run_at:"The moment the script is injected (document-start, document-body, document-end, document-idle or document-menu)","run-at":"The moment the script is injected (document-start, document-body, document-end, document-idle or document-menu)",grant:"Whitelists given `GM_*` functions",noframes:"Makes the script run on the main page but not in iframes",CRM_contentTypes:"The content types on which to run this script as a 6 items long boolean array (e.g. [true, false, true, false, true, false]) (CRM ONLY)",CRM_launchMode:"When to run this script. 0 = Run on clicking, 1 = always run, 2 = run on specified, 3 = show on specified, 4 = disabled. (CRM ONLY)",CRM_stylesheet:"Interpret this as a stylesheet (userstyle) instead of a script (userscript). (CRM ONLY)",CRM_toggle:"A boolean value (true/false) indicating whether to allow toggling this stylesheet on or off. Only used when @CRM_stylesheet is present. (CRM ONLY)",CRM_defaultOn:"A boolean value (true/false) indicating whether this stylesheet is toggled on by default. Only used when @CRM_stylesheet and @CRM_toggle are present. (CRM ONLY)",CRM_libraries:"An array containing stringified objects with a \"url\" and a \"name\" key, pointing to external libraries used in this script.",license:"The license for this script. If none is supplied, it's under exclusive copyright by default",preprocessor:"The css preprocessor to use, choose from 'less', 'stylus', 'uso' or 'default'. For more info check out https://github.com/openstyles/stylus/wiki/Usercss#preprocessor",var:"A variable that can be changed by the user and is replaced when compiling the stylesheet"},o=function(){function e(){this._privateListenerMap={},this._publicListenerMap={}}return e.prototype._insertOnce=function(e,t){e.push(function o(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return e.slice(e.indexOf(o,1)),t.apply(void 0,i)})},e.prototype._assertKeyExists=function(e,t){e in t||(t[e]=[])},e.prototype._listen=function(e,t,o){void 0===o&&(o=!1),this._assertKeyExists(e,this._privateListenerMap),o?this._insertOnce(this._privateListenerMap[e],t):this._privateListenerMap[e].push(t)},e.prototype.listen=function(e,t,o){void 0===o&&(o=!1),this._assertKeyExists(e,this._publicListenerMap),o?this._insertOnce(this._publicListenerMap[e],t):this._publicListenerMap[e].push(t)},e.prototype._clearListeners=function(e){e in this._publicListenerMap&&delete this._publicListenerMap[e],e in this._privateListenerMap&&delete this._privateListenerMap[e]},e.prototype._firePrivate=function(e,t){return e in this._privateListenerMap?this._privateListenerMap[e].map(function(e){return e.apply(void 0,t)}):[]},e.prototype._firePublic=function(e,t){return e in this._publicListenerMap?this._publicListenerMap[e].map(function(e){return e.apply(void 0,t)}):[]},e}(),i=function(e){function t(t,o){var i=e.call(this)||this;return i._editor=t,i._model=o,i}return __extends(t,e),t.prototype._isTextarea=function(){return"__textarea"in this._editor},t}(o),s=function(e){function t(t,o){var i=e.call(this,t,o)||this;return(i._disposables=[],i._isTextarea())?i:(i._onCreate(),window.setTimeout(function(){i._model.isDisposed()||(i._firePrivate("onLoad",[]),i._clearListeners("onLoad"))},2500),i)}return __extends(t,e),t._genDisposable=function(e,t){var o=e();return{dispose:function(){t(o)}}},t.prototype._isDiff=function(e){return"__textarea"in e?"__diff"in e:!("onDidChangeModel"in this._editor)},t.prototype._onCreate=function(){var t=this;this.destroy(),this._disposables.push(this._model.onDidChangeContent(function(o){t._firePrivate("onModelContentChange",[o])}))},t.prototype.destroy=function(){this._disposables=this._disposables.filter(function(e){e.dispose()})},t}(i),r=function(e){function o(t,o){var i=e.call(this,t,o)||this;return(i._hasMetaBlockChanged=!0,i._decorations=[],i._isMetaDataHighlightDisabled=!1,i._isTextarea())?i:(i._attachListeners(),i)}return __extends(o,e),o._containsPosition=function(e,t){for(var o=0,i=e.indexes;o<i.length;o++){var s=i[o],r=s.start,a=s.end;if(new monaco.Range(r.lineNumber,r.column,a.lineNumber,a.column).containsPosition(t))return!0}return!1},o.prototype._attachListeners=function(){var e=this;this._listen("onLoad",function(){e._doModelUpdate()}),this._listen("onModelContentChange",function(){e._hasMetaBlockChanged=!0,e._doModelUpdate()}),this._listen("shouldDecorate",function(t){if(e._isMetaDataHighlightDisabled)return!1;var o=!1;if(!e._metaBlock)if(e.getMetaBlock())o=!0;else return!1;return o||t&&t.isRedoing||t&&0!==t.changes.filter(function(t){return e._isInMetaRange(t.range)}).length}),this._listen("decorate",function(){return e._isMetaDataHighlightDisabled?[]:e._userScriptGutterHighlightChange()}),this._listen("decorate",function(){return e._isMetaDataHighlightDisabled?[]:e._userScriptHighlightChange()}),this._isMetaDataHighlightDisabled=window.app?window.app.settings.editor.disabledMetaDataHighlight:window.installPage.settings.editor.disabledMetaDataHighlight,this._isDiff(this._editor)||this._disposables.push(this._editor.addAction({id:"disable-metadata-highlight",label:"Disable Metadata Highlight",run:function(){e._isMetaDataHighlightDisabled=!0}})),this._isDiff(this._editor)||this._disposables.push(this._editor.addAction({id:"enable-metadata-highlight",label:"Enable Metadata Highlight",run:function(){e._isMetaDataHighlightDisabled=!1}})),this._defineMetaOnModel(),this._listen("onModelContentChange",function(t){e._hasMetaBlockChanged=!0,e._shouldUpdateDecorations(t)&&e._doModelUpdate()})},o.prototype._defineMetaOnModel=function(){var e=this;"_metaBlock"in this._model||Object.defineProperty(this._model,"_metaBlock",{get:function(){return e.getMetaBlock()}})},o.prototype._getMetaOutlines=function(){var e=this._model.getValue();if((-1===e.indexOf(o._userScriptStart)||-1===e.indexOf(o._userScriptEnd))&&(-1===e.indexOf(o._userStyleStart)||-1===e.indexOf(o._userStyleEnd)))return this._metaBlock=null;for(var t,i=e.split("\n"),s=[],r={start:null,end:null},a=0;a<i.length;a++){if(t=i[a],-1!==t.indexOf(o._userScriptStart)||-1!==t.indexOf(o._userStyleStart)){var n=t.indexOf(o._userScriptStart);-1===n&&(n=t.indexOf(o._userStyleStart)),r.start||(r.start=new monaco.Position(a+1,n))}if(-1!==t.indexOf(o._userScriptEnd)||-1!==t.indexOf(o._userStyleEnd)){var n=t.indexOf(o._userScriptEnd);-1===n&&(n=t.indexOf(o._userStyleEnd)),r.end||(r.end=new monaco.Position(a+1,n+o._userScriptEnd.length)),s.push({start:r.start,end:r.end}),r.start=r.end=null}}return 0===s.length&&(this._metaBlock=null),s},o.prototype._getMetaContent=function(e){for(var t=this._model.getValue(),s={},r=o._metaPropRegex,a=t.split("\n"),n={tag:null,content:null},l=0,d=e;l<d.length;l++)for(var p=d[l],c=p.start,u=p.end,g=c.lineNumber;g<u.lineNumber;g++){var i=a[g],_=r.exec(i);if(_){n.tag&&n.content&&(n.tag in s?s[n.tag].push(n.content):s[n.tag]=[n.content],n.tag=n.content=null);var h=_[1],m=_[3];if(!h||!m)continue;n.tag=h,n.content=m}else n.content+=i}return s},o.prototype._isDifferent=function(e,t){if(!e||!t)return!0;if(e.indexes.length!==t.indexes.length)return!1;for(var o=0;o<e.indexes.length;o++){var i=e.indexes[o],s=t.indexes[o];if(!i.start.equals(s.start)||!i.end.equals(s.end))return!1}var r=[];for(var a in e){if(!(a in t))return!1;r.push(a)}for(var a in t){if(!(a in e))return!1;-1===r.indexOf(a)&&r.push(a)}for(var n=0,l=r;n<l.length;n++){var a=l[n],d=e.content[a],p=t.content[a],c=Array.isArray(d),u=Array.isArray(p);if(c!==u)return!1;if(c){for(var g,_=0,h=d;_<h.length;_++)if(g=h[_],-1===p.indexOf(g))return!1;for(var g,m=0,y=p;m<y.length;m++)if(g=y[m],-1===d.indexOf(g))return!1}else if(d!==p)return!1}return!0},o.prototype.getMetaBlock=function(){if(!this._hasMetaBlockChanged)return this._metaBlock;var e=this._metaBlock,t=this._getMetaOutlines();if(!t)return null;var o=this._getMetaContent(t),i=this._metaBlock={indexes:t,content:o};return this._isDifferent(e,i)&&(!e&&(e={indexes:[{start:new monaco.Position(0,0),end:new monaco.Position(0,0)}],content:{}}),this._firePublic("metaChange",[e,i])),i},o.prototype._getKeyDescription=function(e){return e in t?"Metadata key `"+e+"`:\n"+t[e]:"Metadata key `"+e+"`, unknown key"},o.prototype._isInMetaRange=function(e){if(!this._metaBlock)return!1;for(var t=0,o=this._metaBlock.indexes;t<o.length;t++){var i=o[t],s=i.start,r=i.end;if(monaco.Range.areIntersectingOrTouching({startColumn:s.column,startLineNumber:s.lineNumber,endColumn:r.column,endLineNumber:r.lineNumber},e))return!0}return!1},o.prototype._userScriptGutterHighlightChange=function(){return this._getMetaOutlines()?this.getMetaBlock().indexes.map(function(e){var t=e.start,o=e.end;return{range:new monaco.Range(t.lineNumber,t.column,o.lineNumber,o.column),options:{isWholeLine:!0,linesDecorationsClassName:"userScriptGutterHighlight",stickiness:monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}}):[]},o.prototype._userScriptHighlightChange=function(){var e=this._model.getValue();if(!this.getMetaBlock())return null;for(var t=o._metaPropRegex,s=e.split("\n"),r=[],a=0;a<s.length;a++){var i=s[a],n=t.exec(i);if(n){var l=n[1],d=n[3],p=l?i.indexOf(l):0,c=l?p+l.length:0,u=a+1;if(l&&r.push({range:new monaco.Range(u,p,u,c+1),options:{stickiness:monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"userScriptKeyHighlight",hoverMessage:this._getKeyDescription(l),isWholeLine:!1}}),d){var g=i.slice(c).indexOf(d)+c,_=g+1;r.push({range:new monaco.Range(u,_,u,_+d.length),options:{stickiness:monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"userScriptValueHighlight",hoverMessage:"Value `"+d+"` for key `"+l+"`",isWholeLine:!1}})}}}return r},o.prototype._doDecorationUpdate=function(e){this._isDiff(this._editor)||(this._editor.getModel()===this._model?this._decorations=this._editor.deltaDecorations(this._decorations,e):this._decorations=this._editor.deltaDecorations(this._decorations,[]))},o.prototype._shouldUpdateDecorations=function(e){var t=this._firePrivate("shouldDecorate",[e]);return 1<t.length?t.reduce(function(e,t){return e||t}):1===t.length&&t[0]},o.prototype._formatDecorations=function(e){return 0===e.length?[]:1===e.length?e[0]:e.reduce(function(e,t){return e.concat(t)})},o.prototype._doModelUpdate=function(){var e=this._firePrivate("decorate",[]).filter(function(e){return null!==e});this._doDecorationUpdate(this._formatDecorations(e))},o._metaTagProvider={provideCompletionItems:function(){return[{label:"==UserScript==",kind:monaco.languages.CompletionItemKind.Property,insertText:"==UserScript==",detail:"UserScript start tag",documentation:"The start tag for a UserScript metadata block"},{label:"==/UserScript==",kind:monaco.languages.CompletionItemKind.Property,insertText:"==/UserScript==",detail:"UserScript end tag",documentation:"The end tag for a UserScript metadata block"},{label:"==UserStyle==",kind:monaco.languages.CompletionItemKind.Property,insertText:"==UserStyle==",detail:"UserStyle start tag",documentation:"The start tag for a UserStyle metadata block"},{label:"==/UserStyle==",kind:monaco.languages.CompletionItemKind.Property,insertText:"==/UserStyle==",detail:"UserStyle end tag",documentation:"The end tag for a UserStyle metadata block"}]}},o._metaKeyProvider={provideCompletionItems:function(e,i){var s=new monaco.Range(i.lineNumber,0,i.lineNumber,i.column),r=e.getValueInRange(s),a=e._metaBlock;if(!a||o._containsPosition(a,i)){var n=r.split("@"),l=n[0].length;n=n.slice(1);for(var d=0,p=n;d<p.length;d++){var c=p[d],u="@"+c,g=null;if(g=/@(\w*)/.exec(u)){var _=l+u.indexOf(g[0])+1,h=new monaco.Range(i.lineNumber,_,i.lineNumber,_+g[0].length);if(h.containsPosition(i))return{isIncomplete:!0,items:Object.getOwnPropertyNames(t).map(function(e){var o=t[e];return{label:"@"+e,kind:monaco.languages.CompletionItemKind.Property,insertText:"@"+e,detail:"Metadata key",documentation:o}})}}l+=u.length}}return[]}},o._userScriptStart="==UserScript==",o._userStyleStart="==UserStyle==",o._userScriptEnd="==/UserScript==",o._userStyleEnd="==/UserStyle==",o._metaPropRegex=/@(\w+)(\s+)(.+)?/,o}(s),a=function(e){function t(t,o){var i=e.call(this,t,o)||this;return(i.metaBlockChanged=!0,i._isTextarea())?i:(f.Completion.register("javascript",r._metaTagProvider),f.Completion.register("javascript",r._metaKeyProvider),f.Completion.register("typescript",r._metaTagProvider),f.Completion.register("typescript",r._metaKeyProvider),i._disposables.push({dispose:function(){f.Completion.clearAll()}}),i)}return __extends(t,e),t.getSettings=function(){return{}},t}(r);e.MonacoEditorScriptMetaMods=a;var n=function(e){function t(t,o){var i=e.call(this,t,o)||this;return(i._underlineDisabled=!1,i._currentStylesheetRules="",i._styleLines=[],i._isTextarea())?i:(f.Completion.register("css",r._metaTagProvider),f.Completion.register("css",r._metaKeyProvider),f.Completion.register("less",r._metaTagProvider),f.Completion.register("less",r._metaKeyProvider),i._disposables.push({dispose:function(){f.Completion.clearAll()}}),i._listen("shouldDecorate",function(e){if(e.isFlush)return!0;for(var t=0,o=e.changes;t<o.length;t++){var s=o[t],r=[s.range.startLineNumber];s.range.endLineNumber!==s.range.startLineNumber&&r.push(s.range.endLineNumber);for(var a,n=0,l=r;n<l.length;n++){if(a=l[n],-1<i._styleLines.indexOf(a))return!0;for(var d,p=i._model.getLineContent(a),c=i._getCssRuleParts(p),u=0,g=c;u<g.length;u++)if(d=g[u],i._findColor(0,d.text))return!0}}return!1}),i._listen("decorate",function(){return i._highlightColors()}),i._disposables.push(s._genDisposable(function(){return window.setInterval(function(){!i._underlineDisabled&&window.app.item&&i._markUnderlines()},50)},function(e){window.clearInterval(e)})),i._underlineDisabled=window.app?window.app.settings.editor.cssUnderlineDisabled:window.installPage.settings.editor.cssUnderlineDisabled,i._isDiff(i._editor)||(i._disposables.push(i._editor.addAction({id:"disable-css-underline",label:"Disable CSS underline",run:function(){i._underlineDisabled=!0}})),i._disposables.push(i._editor.addAction({id:"enable-css-underline",label:"Enable CSS Underline",run:function(){i._underlineDisabled=!1}}))),i)}return __extends(t,e),t.prototype._getCssRuleParts=function(e){for(var o=null,i=[];o=t._cssRuleRegex.exec(e);){var s=e.indexOf(o[0]),r=s+o[0].length;i.push({text:o[0],start:s}),e=e.slice(0,s)+this._stringRepeat("-",o[0].length)+e.slice(r)}return i},t.prototype._findColor=function(e,o,i){void 0===i&&(i=0);for(var s=0,r=t._cssColorNames;s<r.length;s++){var a=r[s],n=-1;if(-1<(n=o.toLowerCase().indexOf(a)))return{pos:new monaco.Range(e+1,n+i+1,e+1,n+i+a.length+1),color:a}}var l=null;if(l=t._hexRegex.exec(o)){var n=o.indexOf(l[1]);return{pos:new monaco.Range(e+1,n+i+1,e+1,n+i+l[1].length+1),color:l[1]}}if(l=t._rgbRegex.exec(o)){var n=o.indexOf(l[0]);return{pos:new monaco.Range(e+1,n+i+1,e+1,n+i+l[0].length+1),color:l[0]}}if(l=t._rgbaRegex.exec(o)){var n=o.indexOf(l[0]);return{pos:new monaco.Range(e+1,n+i+1,e+1,n+i+l[0].length+1),color:l[0]}}return null},t.prototype._stringRepeat=function(e,t){for(var o="",s=0;s<t;s++)o+=e;return o},t.prototype._getColors=function(){for(var e=this._model.getValue(),t=e.split("\n"),o=[],s=0;s<t.length;s++)for(var i=t[s],r=null,a=this._getCssRuleParts(i),n=0,l=a;n<l.length;n++){var d=l[n],p=d.text,c=d.start;(r=this._findColor(s,p,c))&&o.push(r)}return o},t.prototype._highlightColors=function(){var e=this._getColors();return this._styleLines=e.map(function(e){return e.pos.startLineNumber}),e.map(function(e){return{range:e.pos,options:{stickiness:monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,beforeContentClassName:"userScriptColorUnderline color"+e.color}}})},t.prototype._markUnderlines=function(){var e=[],t="";if(this._editor.getModel()===this._model){var o=this._editor.getDomNode().querySelectorAll(".userScriptColorUnderline");if(Array.prototype.slice.apply(o).forEach(function(o){for(var s=0;s<o.classList.length;s++)if(0===o.classList[s].indexOf("color")){var i=o.classList[s].slice(5),r=o.classList[s];e.push(["."+r+"::before","background-color: "+i]),t+=""+r+i}}),t===this._currentStylesheetRules)return;for(var i=("script"===window.app.item.type?window.scriptEdit:window.stylesheetEdit).$.editor._getStylesheet(),s=i.sheet;0!==s.rules.length;)s.deleteRule(0);this._currentStylesheetRules=t,e.forEach(function(e){var t=e[0],o=e[1];s.addRule(t,o)})}},t.getSettings=function(){return{}},t._cssRuleRegex=/:(\s*)?(.*)(\s*);/,t._cssColorNames=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed ","Indigo ","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"].map(function(e){return e.toLowerCase()}).sort(function(e,t){return t.length-e.length}),t._hexRegex=/#((([a-f]|[A-F]){8})|(([a-f]|[A-F]){6})|(([a-f]|[A-F]){3}))[^a-f|A-F]/,t._rgbRegex=/rgb\((\d{1,3}),(\s*)?(\d{1,3}),(\s*)?(\d{1,3})\)/,t._rgbaRegex=/rgb\((\d{1,3}),(\s*)?(\d{1,3}),(\s*)?(\d{1,3})\),(\s*)?(\d{1,3})\)/,t}(r),l=function(e){function t(o,i){var s=e.call(this,o,i)||this;if(s._isTextarea())return s;var r=i.getValue();return s._findSchema(r)||i.setValue(s._addSchemaKey(r)),t.enableSchema(),s._disposables.push({dispose:function(){t.disableSchema()}}),s}return __extends(t,e),t.prototype._addSchemaKey=function(e){var t="\t\"$schema\": \"crm-settings.json\"";if(0===e.split("\n").join("").trim().length)return"{\n"+t+"\n}";var o=e.split("\n");for(var s in o){var r=o[s];0===r.trim().indexOf("{")&&(1<r.trim().length?(o[s]="{",o.splice(~~s+1,0,t,r.trim().slice(1))):o.splice(~~s+1,0,t))}return o.join("\n")},t.prototype._findSchema=function(e){e=e.replace(/\/\*.*?\*\//g,"");var t=e.split("\n");for(var o in t)if(-1<t[o].indexOf("//"))for(var i,s=!1,r=0;r<t[o].length;r++)if(i=t[o][r],"\\"===i)continue;else"\""===i?s=!s:s||"/"!==i||"/"!==t[o][r+1]||(t[o]=t[o].slice(0,r));try{var a=JSON.parse(e);return!!("$schema"in a)}catch(e){return!0}},t.disableSchema=function(){monaco.languages.json.jsonDefaults.setDiagnosticsOptions({allowComments:!0})},t.enableSchema=function(){monaco.languages.json.jsonDefaults.setDiagnosticsOptions({allowComments:!1,schemas:[{uri:"crm-settings.json",schema:{type:"object",properties:{$schema:{type:"string",enum:["crm-settings.json"]}},additionalProperties:{title:"The name of the option",type:"object",oneOf:[{type:"object",properties:{type:{title:"A number type option",type:"string",enum:["number"]},minimum:{title:"The minimum value of the number",type:"number"},maximum:{title:"The maximum value of the number",type:"number"},descr:{title:"A description for this option",type:"string"},defaultValue:{title:"The default value for this option",type:"number"},value:{title:"The value of this option (set to null for unset)",description:"The value of this option, changing it here will have the same effect as changing it in the options dialog",type:["number","null"]}}},{type:"object",properties:{type:{title:"A string type option",type:"string",enum:["string"]},maxLength:{title:"The maximum length of the string",type:"number"},format:{title:"A regex format that the string has to follow",type:"string"},descr:{title:"A description for this option",type:"string"},defaultValue:{title:"The default value for this option",type:"string"},value:{title:"The value of this option (set to null for unset)",description:"The value of this option, changing it here will have the same effect as changing it in the options dialog",type:["string","null"]}}},{type:"object",properties:{type:{title:"A choice type option",type:"string",enum:["choice"]},selected:{title:"The selected value's index",type:"number"},descr:{title:"A description for this option",type:"string"},values:{title:"The possible values of this option",type:"array",items:{type:["string","number"]}}}},{type:"object",properties:{type:{title:"A choice type option",type:"string",enum:["color"]},descr:{title:"A description for this option",type:"string"},defaultValue:{title:"The default value for this option",type:"string"},value:{title:"The value of this option (set to null for unset)",description:"The value of this option, changing it here will have the same effect as changing it in the options dialog",type:["string","null"]}}},{type:"object",properties:{type:{title:"A boolean type option",type:"string",enum:["boolean"]},descr:{title:"A description for this option",type:"string"},defaultValue:{title:"The default value for this option",type:"boolean"},value:{title:"The value of this option (set to null for unset)",description:"The value of this option, changing it here will have the same effect as changing it in the options dialog",type:["boolean","null"]}}},{type:"object",properties:{type:{title:"An array type option",type:"string",enum:["array"]},maxItems:{title:"The maximum number of array items",type:"number"},items:{title:"The type of items this array contains (array or string)",type:"string",enum:["string","number"]},descr:{title:"A description for this option",type:"string"},defaultValue:{title:"The default value for this option",type:"array",items:{type:["string","number"]}},value:{title:"The value of this option (set to null for unset)",description:"The value of this option, changing it here will have the same effect as changing it in the options dialog",type:["array","null"],items:{type:["string","number"]}}},required:["items"]}]}}}],validate:!0})},t.getSettings=function(){return{}},t}(s),d=function(e){function t(t,o,i){var s=i.node,r=i.isBackground,a=e.call(this,t,o)||this;return(a._libraries=[],a._registrationDisposables=[],a._node=s,a._isBackground=r,a._isTextarea())?a:(a._enable(),a._isDiff(a._editor)||a._disposables.push(a._editor.onDidChangeModel(function(t){t.newModelUrl===o.uri?a._enable():a._disable()})),a._disposables.push({dispose:function(){a._registrationDisposables.forEach(function(e){e.dispose()})}}),a)}return __extends(t,e),t.prototype._enable=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return e=this,[4,this._registerLibraries(this._libraries)];case 1:return e._registrationDisposables=t.sent(),[2];}})})},t.prototype._disable=function(){this._registrationDisposables.forEach(function(e){e.dispose()}),this._registrationDisposables=[]},t.prototype.updateLibraries=function(){this._libraries=this._getLibraries(this._node,this._isBackground)},t.prototype._getLibraries=function(e,t){return t?e.value.backgroundLibraries:e.value.libraries},t.prototype._getLibrary=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,i,s,r;return __generator(this,function(a){switch(a.label){case 0:return e?[4,browserAPI.storage.local.get()]:[2,!1];case 1:for(t=a.sent(),o=t.libraries,(i=0,s=o);i<s.length;i++)if(r=s[i],r.name===e){if(r.ts&&r.ts.enabled)return[2,r.ts.code.compiled];break}return[2,!1];}})})},t.prototype._registerLibrary=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return[4,this._getLibrary(e.name)];case 1:return t=o.sent(),!1===t?[2,{dispose:function(){}}]:[2,monaco.languages.typescript.typescriptDefaults.addExtraLib(t,e.name+".ts")];}})})},t.prototype._registerLibraries=function(e){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(o){switch(o.label){case 0:return[4,Promise.all(e.map(function(e){return t._registerLibrary(e)}))];case 1:return[2,o.sent()];}})})},t.getSettings=function(){return{}},t}(a);e.MonacoEditorTSLibrariesMetaMods=d;var p,c=function(){function e(e,t){this._options=t,this._models=[],this.__textarea=!0;var o=t.model;o&&(this._model=o,this._models="original"in o?[o.original,o.modified]:[o]),this._genBaseElements(e),o&&("original"in o?(this._addModelListenersBase(o.original),this._addModelListenersBase(o.modified)):this._addModelListenersBase(o))}return e.prototype._genBaseElements=function(e){var t=document.createElement("div");t.classList.add("monacoTextareaContainer"),e.appendChild(t),this._baseElements={container:t}},e.prototype._totalCharIndexToPosition=function(e,t){var o=e.split("\n");for(var s in o){var r=o[s];if(0>=t-r.length)return{line:~~s,char:t-r.length}}return{line:o.length-1,char:o[o.length-1].length}},e.prototype._addModelListenersBase=function(e){this._models.push(e),this._addModelListeners(e)},e.prototype._assertModelAdded=function(e){-1===this._models.indexOf(e)&&(this._models.push(e),this._addModelListeners(e))},e.prototype._genTextarea=function(){var e=document.createElement("textarea");return e.classList.add("monacoEditorTextarea"),e.setAttribute("spellcheck","false"),e.setAttribute("autocomplete","off"),e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),"vs-dark"===this._options.theme&&e.classList.add("dark-theme"),e},e.prototype.updateOptions=function(){},e.prototype.getValue=function(){return this._getValue()},e.prototype.saveViewState=function(){return"original"in this._model?this._model.modified:this._model},e.prototype.restoreViewState=function(e){this._swapToModel(e)},e.prototype.focus=function(){this._textareaElements[0]&&this._textareaElements[0].focus()},e.prototype.layout=function(){},e.prototype.dispose=function(){this._textareaElements&&this._textareaElements.forEach(function(e){e&&e.remove()}),this._textareaElements=[],this._models.forEach(function(e){return e.dispose()}),this._models=[],this._baseElements.container&&this._baseElements.container.remove(),this._baseElements={}},e.prototype.getDomNode=function(){return this._baseElements.container},e.prototype.getSelected=function(){for(var e,t=0,o=this._textareaElements;t<o.length;t++)if(e=o[t],!!e){var i=e.selectionStart,s=e.selectionEnd,r=e.value.substring(i,s);return{from:__assign({},this._totalCharIndexToPosition(e.value,i),{totalChar:i}),to:__assign({},this._totalCharIndexToPosition(e.value,s),{totalChar:s}),content:r}}return null},e}(),u=function(e){function t(t,o){var i=e.call(this,t,o)||this;return i._genElements(t),i._textarea.addEventListener("keydown",function(){window.setTimeout(function(){i._model.setValue(i._textarea.value,i._textarea)},0)}),o.model&&(i._textarea.value=o.model.getValue()),i}return __extends(t,e),t.prototype._genElements=function(e){this._textarea=this._genTextarea(),this._textareaElements=[this._textarea],e.appendChild(this._textarea)},t.prototype._isActiveModel=function(e){return this._model===e},t.prototype._addModelListeners=function(e){var t=this;e.listen("change",function(o){var i=o.newValue,s=o.src;t._isActiveModel(e)&&s!==t._textarea&&(t._textarea.value=i)})},t.prototype._getValue=function(){return this._model.getValue()},t.prototype._swapToModel=function(e){this.setModel(e)},t.prototype.getModel=function(){return this._model},t.prototype.setModel=function(e){this._assertModelAdded(e),this._model=e,this._textarea.value=e.getValue()},(t.prototype.setValue=function(e){this._model.setValue(e)},t)}(c),g=function(e){function t(t,o){var i=e.call(this,t,o)||this;return i.__diff=!0,i._genElements(),o.model&&(i._textareas.original.value=o.model.original.getValue(),i._textareas.modified.value=o.model.modified.getValue()),i}return __extends(t,e),t.prototype._genElements=function(){var e=this._genTextarea(),t=this._genTextarea();e.classList.add("monacoOriginalTextarea"),t.classList.add("monacoModifiedTextarea"),this._textareas={original:e,modified:t},this._textareaElements=[e,t],this._baseElements.container.classList.add("diffContainer"),this._baseElements.container.appendChild(e),this._baseElements.container.appendChild(t)},t.prototype._setTextareaValues=function(e){this._textareas.original.value=e.original.getValue(),this._textareas.modified.value=e.modified.getValue()},t.prototype._isActiveOriginalModel=function(e){return this._model.original===e},t.prototype._isActiveModifiedModel=function(e){return this._model.modified===e},t.prototype._addModelListeners=function(e){var t=this;e.listen("change",function(o){var i=o.newValue,s=o.src;t._isActiveOriginalModel(e)?s!==t._textareas.original&&(t._textareas.original.value=i):t._isActiveModifiedModel(e)&&s!==t._textareas.modified&&(t._textareas.modified.value=i)})},t.prototype._getValue=function(){return this._model.modified.getValue()},t.prototype._swapToModel=function(e){this.setModel(e)},t.prototype.getModel=function(){return this._model},t.prototype.setModel=function(e){this._assertModelAdded(e.original),this._assertModelAdded(e.modified),this._model=e,this._setTextareaValues(e)},t}(c),_=function(e){function t(t){var o=e.call(this)||this;return o.setValue(t),o}return __extends(t,e),t.prototype.getValue=function(){return this._value},t.prototype.setValue=function(e,t){var o=this._value;this._value=e,this._value!==o&&this._firePublic("change",[{oldValue:o,newValue:this._value,src:t}])},t.prototype.dispose=function(){},t}(o),h={noSpinner:{type:Boolean,notify:!0,value:!1}};(function(e){e[e.CSS=0]="CSS",e[e.JS=1]="JS",e[e.TS=2]="TS",e[e.JSON=3]="JSON",e[e.JSON_OPTIONS=4]="JSON_OPTIONS",e[e.JS_META=5]="JS_META",e[e.TS_META=6]="TS_META",e[e.CSS_META=7]="CSS_META",e[e.LESS=8]="LESS",e[e.LESS_META=9]="LESS_META",e[e.PLAIN_TEXT=10]="PLAIN_TEXT"})(p||(p={}));var m;(function(e){e[e.TS_LIBRARIES_META=0]="TS_LIBRARIES_META"})(m||(m={}));var y=function(){function e(){}return e._typeIsCss=function(e){return e===p.CSS||e===p.CSS_META||e===p.LESS||e===p.LESS_META},e._typeIsTS=function(e){return e===p.TS||e===p.TS_META},e._typeIsLESS=function(e){return e===p.LESS||e===p.LESS_META},e._typeIsJS=function(e){return e===p.JS||e===p.JS_META},e._typeIsJSON=function(e){return e===p.JSON||e===p.JSON_OPTIONS},e._getSettings=function(e){switch(e){case p.CSS_META:case p.LESS_META:return n.getSettings();case p.TS_META:return a.getSettings();case p.JSON_OPTIONS:return l.getSettings();}if("object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e)))switch(e.mode){case m.TS_LIBRARIES_META:return d.getSettings();}return{}},e._getTypeHandler=function(e,t,o){switch(e){case p.CSS_META:case p.LESS_META:return new n(t,o);case p.JS_META:case p.TS_META:return new a(t,o);case p.JSON_OPTIONS:return new l(t,o);}if("object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e)))switch(e.mode){case m.TS_LIBRARIES_META:return new d(t,o,e.config);}return null},e._getLanguage=function(e){return this._typeIsCss(e)?"css":this._typeIsJS(e)?"javascript":this._typeIsTS(e)?"typescript":this._typeIsJSON(e)?"json":"text/plain"},e.initTSLibrariesMode=function(e,t){return{custom:!0,config:{node:e,isBackground:t},mode:m.TS_LIBRARIES_META}},e._mergeArrays=function(e,t){for(var o=0;o<t.length;o++)e[o]=e[o]&&"object"===babelHelpers["typeof"](t[o])&&void 0!==e[o]&&null!==e[o]?Array.isArray(t[o])?this._mergeArrays(e[o],t[o]):this._mergeObjects(e[o],t[o]):t[o];return e},e._mergeObjects=function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]="object"===babelHelpers["typeof"](t[o])&&"object"===babelHelpers["typeof"](e[o])&&void 0!==e[o]&&null!==e[o]?Array.isArray(t[o])?this._mergeArrays(e[o],t[o]):this._mergeObjects(e[o],t[o]):t[o]);return e},(e.setMonacoEditorScopes=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return this._supportsMonaco()?[4,f.monacoReady]:[3,2];case 1:o.sent(),f.setScope(this),o.label=2;case 2:return t=e(),this._supportsMonaco()&&(f.registerScope(this,this.editor),f.StyleHack.copyThemeScope(this)),this._hideSpinner(),[2,t];}})})},e._getChromeVersion=function(){return"chrome"===BrowserAPI.getBrowser()?parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10):1e3},e._supportsMonaco=function(){return 30<=this._getChromeVersion()},e.create=function(e,t,o){return __awaiter(this,void 0,void 0,function(){var i,s,r,a=this;return __generator(this,function(n){switch(n.label){case 0:return i=this._getLanguage(e),this._createInfo={method:"create",options:t,override:o},this._isTypescript=this._typeIsTS(e),this._isLess=this._typeIsLESS(e),this.options=t,[4,this.setMonacoEditorScopes(function(){if(a._supportsMonaco()){var e=monaco.editor.createModel(t.value,i);return a.editor=window.monaco.editor.create(a.$.editorElement,a._mergeObjects({model:e},t),o),e}var s=new _(t.value);return a.editor=new u(a.$.editorElement,{model:s}),s})];case 1:return s=n.sent(),this.editor.updateOptions(this._getSettings(e)),r=this._getTypeHandler(e,this.editor,s),this._models["default"]={models:[this.editor.getModel()],handlers:[r],state:null,editorType:e},[2,this];}})})},e.createDiff=function(e,t,o,i){var s=e[0],r=e[1];return __awaiter(this,void 0,void 0,function(){var e,a,n,l,d=this;return __generator(this,function(p){switch(p.label){case 0:return e=this._getLanguage(t),this._createInfo={method:"diff",values:[s,r],language:e,editorType:t,options:o,override:i},this._isTypescript=this._typeIsTS(t),this._isLess=this._typeIsLESS(t),this.options=o,[4,this.setMonacoEditorScopes(function(){d.editor=d._supportsMonaco()?monaco.editor.createDiffEditor(d.$.editorElement,o,i):new g(d.$.editorElement,{})})];case 1:return p.sent(),this._supportsMonaco()?(a=monaco.editor.createModel(s,e),n=monaco.editor.createModel(r,e)):(a=new _(s),n=new _(r)),this.editor.updateOptions(this._getSettings(t)),this.editor.setModel({original:a,modified:n}),l=[this._getTypeHandler(t,this.editor,a),this._getTypeHandler(t,this.editor,n)],this._models["default"]={editorType:t,handlers:l,models:[a,n],state:null},[2,this];}})})},e.createFrom=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,i,s=this;return __generator(this,function(r){switch(r.label){case 0:return this._createInfo&&"from"===this._createInfo.method&&this._createInfo.from.removeChild(this),t=e.editor,o=e.getCurrentModel().editorType,this._createInfo={method:"from",from:e,modelId:e.getCurrentModelId()},this._isTypescript=this._typeIsTS(o),this._isLess=this._typeIsLESS(o),[4,this.setMonacoEditorScopes(function(){s.editor=s._supportsMonaco()?window.monaco.editor.create(s.$.editorElement,s._mergeObjects({model:t.getModel()},s.options)):new u(s.$.editorElement,{model:t.getModel()})})];case 1:return r.sent(),this.editor.updateOptions(this._getSettings(o)),i=this._getTypeHandler(o,this.editor,this.editor.getModel()),this._models["default"]={models:[this.editor.getModel()],handlers:[i],state:null,editorType:o},e.addChild(this),[2,this];}})})},e.isDiff=function(){return"diff"===this._createInfo.method},e.isTextarea=function(){return"__textarea"in this.editor},e.getEditorAsMonaco=function(){return this.editor},e.setValue=function(e){this.isDiff(this.editor)||this.editor.setValue(e)},e.reset=function(){return __awaiter(this,void 0,void 0,function(){var e,t,o;return __generator(this,function(i){switch(i.label){case 0:return(e=this._createInfo,t=this.getCurrentModel(),!t)?[2,null]:(o=t.editorType,this.destroy(),"create"===e.method?[4,this.create(o,e.options,e.override)]:[3,2]);case 1:return[2,i.sent()];case 2:return"diff"===e.method?[4,this.createDiff(e.values,e.editorType,e.options,e.override)]:[3,4];case 3:return[2,i.sent()];case 4:return[4,this.createFrom(e.from)];case 5:return[2,i.sent()];}})})},e.addChild=function(e){this._children.push(e)},e.removeChild=function(e){this._children.splice(this._children.indexOf(e),1)},e.setNewModels=function(e){var t=this.editor;this.isDiff(t)?t.setModel({original:e[0],modified:e[1]}):t.setModel(e[0])},e.setLess=function(e){var t=this;if(this._isLess!==e){if("from"===this._createInfo.method)return void this._createInfo.from.setLess(e);var o=this.getCurrentModelId(),i=this.getCurrentModel(),s=e?"less":"javascript",r=i.models;i.handlers.forEach(function(e){e.destroy()});var a=r.map(function(e){return monaco.editor.createModel(e.getValue(),s)});for(var n in f.hasScope(this)?this.setNewModels(a):(this.setNewModels([f.getNullModel()]),f.onHasScope(this,function(){t.setNewModels(a)})),r.forEach(function(e){return e.dispose()}),i.handlers=a.map(function(e){return t._getTypeHandler(i.editorType,t.editor,e)}),i.models=a,this._models)n!==o&&delete this._models[n];this._isLess=e,this._children.forEach(function(o){o._isLess=e;var i=o._createInfo.modelId,s=t.getModel(i);t.isDiff(o.editor)||o.editor.setModel(s.models[0])})}},e.setTypescript=function(e){var t=this;if(this._isTypescript!==e){if("from"===this._createInfo.method)return void this._createInfo.from.setTypescript(e);var o=this.getCurrentModelId(),i=this.getCurrentModel(),s=e?"typescript":"javascript",r=i.models;i.handlers.forEach(function(e){e.destroy()});var a=r.map(function(e){return monaco.editor.createModel(e.getValue(),s)});for(var n in f.hasScope(this)?this.setNewModels(a):(this.setNewModels([f.getNullModel()]),f.onHasScope(this,function(){t.setNewModels(a)})),r.forEach(function(e){return e.dispose()}),i.handlers=a.map(function(e){return t._getTypeHandler(i.editorType,t.editor,e)}),i.models=a,this._models)n!==o&&delete this._models[n];this._isTypescript=e,this._children.forEach(function(o){o._isTypescript=e;var i=o._createInfo.modelId,s=t.getModel(i);t.isDiff(o.editor)||o.editor.setModel(s.models[0])})}},e.addModel=function(e,t,o){if(!this.hasModel(e)){var i=monaco.editor.createModel(t,this._getLanguage(o)),s=this._getTypeHandler(o,this.editor,i);this._models[e]={models:[i],handlers:[s],state:null,editorType:o}}},e.hasModel=function(e){return e in this._models},e.getModel=function(e){return this._models[e]},e.switchToModel=function(e,t,o){if(this.hasModel(e)||this.addModel(e,t,o),this.getCurrentModelId()!==e){var i=this.editor.saveViewState(),s=this.getCurrentModelId();s in this._models&&(this._models[s].state=i);var r=this._models[e];this.editor.setModel(r.models[0]),this.editor.restoreViewState(r.state),this.editor.focus()}},e.getCurrentModelId=function(){for(var e in this._models){var t=this._models[e].models[0];if(t===this.editor.getModel())return e}return null},e.getCurrentModel=function(){return this._models[this.getCurrentModelId()]},e.destroy=function(){for(var e in this.editor.dispose(),this._models){var t=this._models[e];t.handlers.forEach(function(e){e.destroy()}),t.handlers=null,delete this._models[e]}this._showSpinner()},e._runJsLint=function(){var e=this.getCurrentModel().models[0].getValue(),t=window.jslint(e,{},window.app.jsLintGlobals.slice()).warnings;return t.map(function(e){var t=e.column,o=e.line,i=e.message;return{col:t,line:o,message:i}})},e._runCssLint=function(){var e=this.getCurrentModel().models[0].getValue(),t=window.CSSLint.verify(e).messages;return t.map(function(e){var t=e.col,o=e.line,i=e.message;return{col:t,line:o,message:i}})},e._showLintResults=function(e,t){"__textarea"in this.editor||monaco.editor.setModelMarkers(this.getCurrentModel().models[0],e,t.map(function(e){return{startLineNumber:e.line,endLineNumber:e.line,startColumn:e.col,endColumn:e.col,message:e.message,severity:2}}))},e.runLinter=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return e=this._models[this.getCurrentModelId()].editorType,this._typeIsJS(e)?[4,f.Libraries.runFile("js/libraries/jslint.js")]:[3,2];case 1:return t.sent(),this._showLintResults("jslint",this._runJsLint()),[3,6];case 2:return this._typeIsTS(e)?(alert("No linting possible in typescript mode"),[3,6]):[3,3];case 3:return this._typeIsLESS(e)?(alert("No linting possible in LESS/stylus mode"),[3,6]):[3,4];case 4:return this._typeIsCss(e)?[4,f.Libraries.runFile("js/libraries/csslint.js")]:[3,6];case 5:t.sent(),this._showLintResults("csslint",this._runCssLint()),t.label=6;case 6:return[2];}})})},e.getTypeHandler=function(){return this._models[this.getCurrentModelId()].handlers},e._showSpinner=function(){window.setDisplayFlex(this.$.placeholder),this.$.spinner&&(this.$.spinner.active=!0),this.$.placeholder.classList.remove("hidden")},e._hideSpinner=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.$.spinner&&(this.$.spinner.active=!1),this.$.placeholder.classList.add("hidden"),[4,new window.Promise(function(e){window.setTimeout(function(){e(null)},1e3)})];case 1:return e.sent(),this.$.placeholder.style.display="none",[2];}})})},e._getStylesheet=function(){if(this._stylesheet)return this._stylesheet;var e=document.createElement("style");return this.shadowRoot.appendChild(e),this._stylesheet=e},e.claimScope=function(){f.setScope(this)},e.setDefaultHeight=function(){var e=this.$.editorElement.getBoundingClientRect().height;this._tempLayoutInfo&&(e=this._tempLayoutInfo.previous),this._tempLayoutInfo={previous:e,current:e}},e.setTempLayout=function(){var e=this.$.editorElement.getBoundingClientRect().height,t=e;this._tempLayoutInfo&&(t=this._tempLayoutInfo.previous),this._tempLayoutInfo={previous:t,current:e},this.editor&&this.editor.layout()},e.stopTempLayout=function(){if(this._tempLayoutInfo){var e=this._tempLayoutInfo.previous;this.$.editorElement.style.maxHeight=e+"px",this.editor.layout(),this._tempLayoutInfo.current=e,this.$.editorElement.style.maxHeight="none"}},e.ready=function(){this._showSpinner(),this._models={},this._children=[],f.setup()},e.is="monaco-editor",e.EditorMode=p,e.CustomEditorModes=m,e.properties=h,e.options=null,e._createInfo=null,e._tempLayoutInfo=null,e)}(),f=function(){function e(){}e.setScope=function(e){var t=this;this.currentScope=e,window.setTimeout(function(){e.editor.getDomNode()&&e.editor.getDomNode().addEventListener("mouseover",function(){t.currentScope=e})},500),this._scopeListeners=this._scopeListeners.filter(function(t){var o=t.scope,i=t.listener;return o!==e||(i(),!1)})},e.hasScope=function(e){return this.currentScope===e},e.onHasScope=function(e,t){return e===this.currentScope?void t():void this._scopeListeners.push({scope:e,listener:t})},e.registerScope=function(e,t){this._scopes.push([e,t])},e._setupRequire=function(){var e=this;return new window.Promise(function(t){return __awaiter(e,void 0,void 0,function(){var e;return __generator(this,function(o){switch(o.label){case 0:return[4,window.onExistsChain(window,"AMDLoader","global","require")];case 1:return e=o.sent(),e.config({paths:{vs:"../elements/options/editpages/monaco-editor/src/min/vs"}}),e(["vs/editor/editor.main"],function(){t(null)}),[2];}})})})},e._getShadowRoot=function(){return this.currentScope.shadowRoot},e._defineProperties=function(){var e=this,o=[{label:"==UserScript==",kind:monaco.languages.CompletionItemKind.Property,insertText:"==UserScript==",detail:"UserScript start tag",documentation:"The start tag for a UserScript metadata block"},{label:"==/UserScript==",kind:monaco.languages.CompletionItemKind.Property,insertText:"==/UserScript==",detail:"UserScript end tag",documentation:"The end tag for a UserScript metadata block"}],i={isIncomplete:!0,items:Object.getOwnPropertyNames(t).map(function(e){var o=t[e];return{label:"@"+e,kind:monaco.languages.CompletionItemKind.Property,insertText:"@"+e,detail:"Metadata key",documentation:o}})};Object.defineProperties(this,{getLocalBodyShadowRoot:{get:function(){return e._getShadowRoot()}},caretRangeFromPoint:{get:function(){return function(t){for(var o=0,i=e._scopes;o<i.length;o++){var s=i[o],r=s[0],a=s[1];if(t.viewDomNode===a.getDomNode())return e.Caret.caretRangeFromPoint.bind(r.shadowRoot)}return document.caretRangeFromPoint.bind(document)}}},_metaTagCompletions:{get:function(){return o}},_metaKeyCompletions:{get:function(){return i}}})},e._loadCRMAPI=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.Libraries.readFile("js/libraries/crmapi.d.ts")];case 1:return[2,e.sent()];}})})},e._setupCRMDefs=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this._loadCRMAPI()];case 1:return e=t.sent(),monaco.languages.typescript.javascriptDefaults.addExtraLib(e,"crmapi.d.ts"),monaco.languages.typescript.typescriptDefaults.addExtraLib(e,"crmapi.d.ts"),[2];}})})},e._captureMonacoErrors=function(){window.onerror=function(e,t){return-1<t.indexOf("vs/editor/editor.main.js")?(console.log("Caught monaco editor error (ignore these)"),!0):void 0}},e._createNullModel=function(){this._nullModel=monaco.editor.createModel("")},e.getNullModel=function(){return this._nullModel},e.setup=function(){var e=this;this._setup||(this._setup=!0,this._captureMonacoErrors(),this.monacoReady=new window.Promise(function(t){return __awaiter(e,void 0,void 0,function(){var e=this;return __generator(this,function(){return this._setupRequire(),window.onExists("monaco").then(function(){l.enableSchema(),e._defineProperties(),e._createNullModel(),e._setupCRMDefs(),t(null)}),[2]})})}))};var o,i,s,r;return e._setup=!1,e.monacoReady=null,e.currentScope=null,e._scopeListeners=[],e._nullModel=null,e._scopes=[],e.Caret=(o=function(){function t(){}return t.getCharWidth=function(e,t){var o=e+t;if(this._charCache[o])return this._charCache[o];var i=this._charCanvas.getContext("2d");i.font=t;var s=i.measureText(e),r=s.width;return this._charCache[o]=r,r},t.caretRangeFromPoint=function(t,o){for(var s=this.elementFromPoint(t,o);s.firstChild.nodeType!==s.firstChild.TEXT_NODE;)s=s.lastChild;var r,a=s.getBoundingClientRect(),n=window.getComputedStyle(s,null).getPropertyValue("font"),l=s.innerText,d=a.left,p=0;if(t>a.left+a.width)p=l.length;else for(var c=0;c<l.length+1;c++){if(r=e.Caret.getCharWidth(l.charAt(c),n)/2,d+=r,t<d){p=c;break}d+=r}var i=document.createRange();return i.setStart(s.firstChild,p),i.setEnd(s.firstChild,p),i},t}(),o._charCache={},o._charCanvas=document.createElement("canvas"),o),e.StyleHack=(i=function(){function e(){}return e.copyThemeScope=function(e){if(this.monacoStyleElement=this.monacoStyleElement||document.getElementsByClassName("monaco-colors")[0],e.shadowRoot.children[0]!==this.monacoStyleElement){var t=this.monacoStyleElement.cloneNode(!0);e.shadowRoot.insertBefore(t,e.shadowRoot.children[0])}},e}(),i.monacoStyleElement=null,i),e.Completion=(s=function(){function e(){}return e.register=function(e,t){this._enabledCompletions[e]=this._enabledCompletions[e]||[];for(var o,i=0,s=this._enabledCompletions[e];i<s.length;i++)if(o=s[i],o.completion===t)return;this._enabledCompletions[e].push({completion:t,disposable:monaco.languages.registerCompletionItemProvider(e,t)})},e.clearAll=function(){for(var e in this._enabledCompletions)for(var t,o=0,i=this._enabledCompletions[e];o<i.length;o++)t=i[o],t.disposable.dispose()},e}(),s._enabledCompletions={},s),e.Fetching=(r=function(){function e(){}return e._isWebPageEnv=function(){return"http:"===location.protocol||"https:"===location.protocol},e.loadFile=function(e){var t=this;return new window.Promise(function(o,i){var s=new window.XMLHttpRequest,r=t._isWebPageEnv()?""+t.BASE+e:browserAPI.runtime.getURL(e);s.open("GET",r),s.onreadystatechange=function(){s.readyState===XMLHttpRequest.DONE&&(200===s.status?(t._fetchedFiles[e]=s.responseText,o(s.responseText)):i(new Error("Failed XHR")))},s.send()})},e.isLoaded=function(e){return e in this._fetchedFiles},e.getLoadedFile=function(e){return this._fetchedFiles[e]},e}(),r._fetchedFiles={},r.BASE="../",r),e.Libraries=function(){function e(){}return e.readFile=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._parent().Fetching.isLoaded(e)?[2,this._parent().Fetching.getLoadedFile(e)]:[4,this._parent().Fetching.loadFile(e)];case 1:return[2,t.sent()];}})})},e.runFile=function(e,t){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(i){switch(i.label){case 0:return this._parent().Fetching.isLoaded(e)?[2]:(o=document.createElement("script"),o.src=browserAPI.runtime.getURL(e),document.body.appendChild(o),t?[4,window.onExists(t)]:[3,2]);case 1:i.sent(),i.label=2;case 2:return[2];}})})},e._parent=function(){return window.MonacoEditorHookManager},e}(),e}();e.MonacoEditorHookManager=f;window.MonacoEditorHookManager=f,window.objectify?window.register(y):window.addEventListener("RegisterReady",function(){window.register(y)})})(MonacoEditorElement||(MonacoEditorElement={}));
var monacoCommand=function(){var a=function(){function a(a,b){this._range=a,this._text=b}return a.prototype.getEditOperations=function(a,b){b.addTrackedEditOperation(this._range,this._text)},a.prototype.computeCursorState=function(a,b){var c=b.getInverseEditOperations(),d=c[0].range;return new monaco.Selection(d.startLineNumber,d.startColumn,d.endLineNumber,d.endColumn)},a}();return{createReplaceCommand:function(b,c){return new a(b,c)}}}();window.monacoCommands=monacoCommand;var CodeEditBehaviorNamespace,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};(function(a){var b=function(){function a(){}return a.setThemeWhite=function(){this.$.editorThemeSettingWhite.classList.add("currentTheme"),this.$.editorThemeSettingDark.classList.remove("currentTheme"),window.app.settings.editor.theme="white",window.app.upload()},a.setThemeDark=function(){this.$.editorThemeSettingWhite.classList.remove("currentTheme"),this.$.editorThemeSettingDark.classList.add("currentTheme"),window.app.settings.editor.theme="dark",window.app.upload()},a.fontSizeChange=function(){var a=this;this.async(function(){window.app.settings.editor.zoom=a.$.editorThemeFontSizeInput.$$("input").value+"",window.app.upload()},50)},a.finishEditing=function(){browserAPI.storage.local.set({editing:null}),window.useOptionsCompletions=!1,this.hideCodeOptions(),this.optionsShown&&this.hideOptions(),Array.prototype.slice.apply(this.shadowRoot.querySelectorAll(".editorTab")).forEach(function(a){a.classList.remove("active")}),this.$$(".mainEditorTab").classList.add("active")},a.insertSnippet=function(a,b,c){void 0===c&&(c=!1);var d=a.getEditorInstance().getEditorAsMonaco();if(a.editorManager.isTextarea(d)){var e=d.getSelected(),f=e.from,g=e.to,h=e.content,j=c?b:b.replace(/%s/g,h),k=d.getValue(),l=k.slice(0,f.totalChar)+j+k.slice(g.totalChar);a.editorManager.isDiff(d)||d.setValue(l)}else{var m=d.getSelections();if(1===m.length&&0===m[0].toString().length&&0===m[0].getPosition().lineNumber&&0===m[0].getPosition().column)for(var n=d.getValue().split("\n"),o=["//","/*","*/","*"," *"],p=0;p<n.length;p++){for(var i,q=0,r=o;q<r.length;q++)if(i=r[q],0===n[p].indexOf(i))continue;m[0]=new monaco.Selection(p,0,p,0);break}var s=m.map(function(a){var d=c?b:b.replace(/%s/g,a.toString());return window.monacoCommands.createReplaceCommand(a.cloneRange(),d)});a.editorManager.isDiff(d)||d.executeCommands("snippet",s)}},a.popOutToolsRibbon=function(){window.doc.editorToolsRibbonContainer.animate([{marginLeft:"0"},{marginLeft:"-200px"}],{duration:800,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){window.doc.editorToolsRibbonContainer.style.marginLeft="-200px",window.doc.editorToolsRibbonContainer.classList.remove("visible")}},a.toggleFullScreen=function(){this.fullscreen?this.exitFullScreen():this.enterFullScreen()},a.isFullscreen=function(){return this.fullscreen},a.toggleOptions=function(){this.optionsShown?this.hideOptions():this.showOptions()},a.initToolsRibbon=function(){var a=this;"script"===this.item.type&&(window.app.$.paperLibrariesSelector.init(),window.app.$.paperGetPageProperties.init(function(b){a.insertSnippet(a,b)}))},a.popInRibbons=function(){var a,b=this,c=window.app.$.editorCurrentScriptTitle;window.app.storageLocal.shrinkTitleRibbon?(window.doc.editorTitleRibbon.style.fontSize="40%",c.style.padding="0",a="-18px"):a="-51px",window.setDisplayFlex(c),c.style.marginTop=a;var d=[{marginTop:a},{marginTop:"0"}];c.style.marginLeft="-200px",this.initToolsRibbon(),setTimeout(function(){window.setDisplayFlex(window.doc.editorToolsRibbonContainer),window.app.storageLocal.hideToolsRibbon?window.doc.editorToolsRibbonContainer.classList.add("visible"):$(window.doc.editorToolsRibbonContainer).animate({marginLeft:"0"},{duration:500,easing:$.bez([0.215,0.61,0.355,1]),step:function(a){window.addCalcFn(window.doc.fullscreenEditorEditor,"width","100vw - 200px - "+a+"px"),window.doc.fullscreenEditorEditor.style.marginLeft=a+200+"px",b.fullscreenEditorManager.editor.layout()}})},200),setTimeout(function(){var a=window.app.util.getDummy();a.style.height="0",$(a).animate({height:"50px"},{duration:500,easing:$.bez([0.215,0.61,0.355,1]),step:function(a){window.addCalcFn(window.doc.fullscreenEditorEditor,"height","100vw - "+a+"px"),window.addCalcFn(window.doc.fullscreenEditorHorizontal,"height","100vh - "+a+"px"),b.fullscreenEditorManager.editor.layout()}}),c.animate(d,{duration:500,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){c.style.marginTop="0",void 0!==d[0].marginLeft&&(c.style.marginLeft="0")}},200)},a.popOutRibbons=function(){var a,b=this,c=window.app.$.editorCurrentScriptTitle;window.app.storageLocal.shrinkTitleRibbon?(window.doc.editorTitleRibbon.style.fontSize="40%",c.style.padding="0",a="-18px"):a="-51px",window.setDisplayFlex(c),c.style.marginTop="0";var d=[{marginTop:"0"},{marginTop:a}];c.style.marginLeft="-200px",setTimeout(function(){window.setDisplayFlex(window.doc.editorToolsRibbonContainer);var a=window.app.storageLocal&&window.app.storageLocal.hideToolsRibbon||!1;a?window.doc.editorToolsRibbonContainer.classList.add("visible"):$(window.doc.editorToolsRibbonContainer).animate({marginLeft:"-200px"},{duration:500,easing:"linear",step:function(a){window.addCalcFn(window.doc.fullscreenEditorEditor,"width","100vw - 200px - "+a+"px"),window.doc.fullscreenEditorEditor.style.marginLeft=a+200+"px",b.fullscreenEditorManager.editor.layout()}})},200),setTimeout(function(){var e=window.app.util.getDummy();e.style.height="50px",$(e).animate({height:"0"},{duration:500,easing:"linear",step:function(a){window.addCalcFn(window.doc.fullscreenEditorEditor,"height","100vw - "+a+"px"),window.addCalcFn(window.doc.fullscreenEditorHorizontal,"height","100vh - "+a+"px"),b.fullscreenEditorManager.editor.layout()}}),c.animate(d,{duration:500,easing:"linear"}).onfinish=function(){c.style.marginTop=a,void 0!==d[0].marginLeft&&(c.style.marginLeft=a)}},200)},a.exitFullScreen=function(){var a=this;this.fullscreen&&(this.fullscreen=!1,this.popOutRibbons(),setTimeout(function(){var b=window.doc.fullscreenEditorEditor;a.$.editorFullScreen.children[0].innerHTML="<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z\"/></svg>",$(b).animate({width:a.preFullscreenEditorDimensions.width,height:a.preFullscreenEditorDimensions.height,marginTop:a.preFullscreenEditorDimensions.marginTop,marginLeft:a.preFullscreenEditorDimensions.marginLeft},{duration:500,easing:"easeOutCubic",complete:function(){b.style.marginLeft="0",b.style.marginTop="0",window.addCalcFn(b,"width","",!0),window.addCalcFn(b,"height","",!0),b.style.width="0",b.style.height="0",a.fullscreenEditorManager.destroy(),a.editorManager.claimScope(),window.doc.fullscreenEditor.style.display="none"}})},700))},a.enterFullScreen=function(){return __awaiter(this,void 0,void 0,function(){var a=this;return __generator(this,function(){return[2,new Promise(function(b){return __awaiter(a,void 0,void 0,function(){var a,c,d,e,f,g,h,i,j,k,l=this;return __generator(this,function(m){switch(m.label){case 0:return this.fullscreen?(b(null),[2,null]):(this.fullscreen=!0,window.doc.fullscreenEditor.style.display="block",a=this.editorManager.editor.getDomNode().getBoundingClientRect(),c=window.doc.fullscreenEditorEditor,d=c.style,d.marginLeft=this.preFullscreenEditorDimensions.marginLeft=a.left+"px",d.marginTop=this.preFullscreenEditorDimensions.marginTop=a.top+"px",window.addCalcFn(c,"height","",!0),window.addCalcFn(c,"width","",!0),d.height=this.preFullscreenEditorDimensions.height=a.height+"px",d.width=this.preFullscreenEditorDimensions.width=a.width+"px",d.position="absolute","script"===this.item.type&&(e=this,f="main"===e.editorMode?e.newSettings.value.libraries:e.newSettings.value.backgroundLibraries||[],window.app.$.paperLibrariesSelector.updateLibraries(f,this.newSettings,this.editorMode),e.newSettings.value.ts&&e.newSettings.value.ts.enabled?window.app.$.editorTypescript.classList.add("active"):window.app.$.editorTypescript.classList.remove("active")),g=this,[4,c.createFrom(this.editorManager)]);case 1:return g.fullscreenEditorManager=m.sent(),h=window.crmEditPage.$.horizontalCenterer,i=h.getBoundingClientRect(),j=i.width+20,k=i.height,void 0===window.app.storageLocal.hideToolsRibbon?(browserAPI.storage.local.set({hideToolsRibbon:!1}),window.app.storageLocal.hideToolsRibbon=!1,window.doc.showHideToolsRibbonButton.classList.add("hidden")):window.app.storageLocal.hideToolsRibbon?window.doc.showHideToolsRibbonButton.classList.add("hidden"):window.doc.showHideToolsRibbonButton.classList.remove("hidden"),void 0===window.app.storageLocal.shrinkTitleRibbon?(browserAPI.storage.local.set({shrinkTitleRibbon:!1}),window.app.storageLocal.shrinkTitleRibbon=!1,window.setTransform(window.doc.shrinkTitleRibbonButton,"rotate(270deg)")):window.app.storageLocal.shrinkTitleRibbon?window.setTransform(window.doc.shrinkTitleRibbonButton,"rotate(90deg)"):window.setTransform(window.doc.shrinkTitleRibbonButton,"rotate(270deg)"),document.documentElement.style.overflow="hidden",c.style.display="-wekbit-flex",c.style.display="flex",this.fullscreenEditorManager.editor.layout(),$(c).animate({width:j,height:k,marginTop:0,marginLeft:0},{duration:500,easing:"easeOutCubic",step:function(){l.fullscreenEditorManager.editor.layout()},complete:function(){l.fullscreenEditorManager.editor.layout(),l.style.width="100vw",l.style.height="100vh",window.addCalcFn(window.app.$.fullscreenEditorHorizontal,"height","",!0),window.app.$.fullscreenEditorHorizontal.style.height="100vh",l.popInRibbons(),b(null)}}),[2];}})})})]})})},a.showOptions=function(){var a=this;if(this.optionsShown=!0,this.unchangedEditorSettings=$.extend(!0,{},window.app.settings.editor),this.fullscreen)return this.fillEditorOptions(window.app),void this._showFullscreenOptions();var b=this.getEditorInstance().editor.getDomNode().getBoundingClientRect().width,c=this.getEditorInstance().editor.getDomNode().getBoundingClientRect().height,d=Math.sqrt(b*b+c*c)+200,e=-d,f=2*d;this.$.bubbleCont.parentElement.style.width=b+"px",this.$.bubbleCont.parentElement.style.height=c+"px",this.$.editorOptionsContainer.style.width=b+"px",this.$.editorOptionsContainer.style.height=c+"px",this.$$("#editorThemeFontSizeInput").value=window.app.settings.editor.zoom,this.fillEditorOptions(this),$(this.$.settingsShadow).css({width:"50px",height:"50px",borderRadius:"50%",marginTop:"-25px",marginRight:"-25px"}).animate({width:f,height:f,marginTop:e,marginRight:e},{duration:500,easing:"linear",progress:function(b){a.$.editorOptionsContainer.style.marginLeft=-500-b.tweens[3].now+"px",a.$.editorOptionsContainer.style.marginTop=-b.tweens[2].now+"px"}})},a._hideFullscreenOptions=function(){window.setTransform(window.app.$.fullscreenSettingsContainer,"translateX(500px)"),window.setTimeout(function(){window.app.$.fullscreenEditorToggle.style.display="block"},500)},a.hideOptions=function(){var a=this;this.optionsShown=!1,this.fullscreen&&this._hideFullscreenOptions();this.$.editorFullScreen.style.display="block",$(this.$.settingsShadow).animate({width:0,height:0,marginTop:0,marginRight:0},{duration:500,easing:"linear",progress:function(b){a.$.editorOptionsContainer.style.marginLeft=-500-b.tweens[3].now+"px",a.$.editorOptionsContainer.style.marginTop=-b.tweens[2].now+"px"},complete:function(){var b=window.app.settings.editor.zoom,c=a.unchangedEditorSettings.zoom;a.unchangedEditorSettings.zoom=b,JSON.stringify(a.unchangedEditorSettings)!==JSON.stringify(window.app.settings.editor)&&a.reloadEditor(),b!==c&&window.app.updateEditorZoom(),a.fullscreen&&(a.$.settingsContainer.style.height="345px",a.$.settingsContainer.style.overflowX="hidden",a.$.bubbleCont.style.position="absolute",a.$.bubbleCont.style.zIndex="auto")}})},a.fillEditorOptions=function(a){if("script"===this.item.type){var b=this,c=a;c.$.keyBindingsTemplate.items=b.keyBindings,c.$.keyBindingsTemplate.render(),window.app.settings.editor.keyBindings=window.app.settings.editor.keyBindings||{goToDef:b.keyBindings[0].defaultKey,rename:b.keyBindings[1].defaultKey},Array.prototype.slice.apply(c.$.keyBindingsTemplate.querySelectorAll("paper-input")).forEach(function(a){a.setAttribute("data-prev-value",a.$$("input").value)})}"white"===window.app.settings.editor.theme?a.$.editorThemeSettingWhite.classList.add("currentTheme"):a.$.editorThemeSettingWhite.classList.remove("currentTheme"),"dark"===window.app.settings.editor.theme?a.$.editorThemeSettingDark.classList.add("currentTheme"):a.$.editorThemeSettingDark.classList.remove("currentTheme"),a.$.editorThemeFontSizeInput.$$("input").value=window.app.settings.editor.zoom||"100"},a._showFullscreenOptions=function(){window.app.$.fullscreenEditorToggle.style.display="none",window.setTransform(window.app.$.fullscreenSettingsContainer,"translateX(0)")},a.scrollbarsUpdate=function(a){a!==this.verticalVisible&&(this.buttonsContainer.style.right=a?"29px":"11px",this.verticalVisible=!this.verticalVisible)},(a.getEditorInstance=function(){return"script"===this.item.type?window.scriptEdit.fullscreen?window.scriptEdit.fullscreenEditorManager:window.scriptEdit.editorManager:window.stylesheetEdit.fullscreen?window.stylesheetEdit.fullscreenEditorManager:window.stylesheetEdit.editorManager},a.showCodeOptions=function(){window.useOptionsCompletions=!0;var a="string"===typeof this.item.value.options?this.item.value.options:JSON.stringify(this.item.value.options,null,"\t");this.editorManager.switchToModel("options",a,this.editorManager.EditorMode.JSON_OPTIONS)},a.hideCodeOptions=function(){window.useOptionsCompletions&&(window.useOptionsCompletions=!1)},a.getAutoUpdateState=function(){return"script"!==this.newSettings.type&&"stylesheet"!==this.newSettings.type||"local"===this.newSettings.nodeInfo.source?[!1,!0]:this.newSettings.nodeInfo&&this.newSettings.nodeInfo.source?[this.newSettings.nodeInfo.source.autoUpdate,!1]:[!0,!1]},a.setUpdateIcons=function(a,b){return b?void(this.$.updateIcon.style.display="none"):void(a?(this.$.updateEnabled.classList.remove("hidden"),this.$.updateDisabled.classList.add("hidden")):(this.$.updateEnabled.classList.add("hidden"),this.$.updateDisabled.classList.remove("hidden")))},a.initUI=function(){var a=this;this.$.dropdownMenu.addEventListener("expansionStateChange",function(b){var c=b.detail,d=c.state;"opening"===d?a.editorManager.setDefaultHeight():"closed"===d?a.editorManager.stopTempLayout():"opened"===d&&a.editorManager.setTempLayout()});var b=this.getAutoUpdateState(),c=b[0],d=b[1];this.setUpdateIcons(c,d)},a.toggleAutoUpdate=function(){("script"===this.newSettings.type||"stylesheet"===this.newSettings.type)&&"local"!==this.newSettings.nodeInfo.source&&this.newSettings.nodeInfo&&(this.newSettings.nodeInfo.source.autoUpdate=!this.newSettings.nodeInfo.source.autoUpdate,this.setUpdateIcons(this.newSettings.nodeInfo.source.autoUpdate,!1))},a._CEBIinit=function(){var a=this;window.addEventListener("resize",function(){a.fullscreen&&a.active&&a.fullscreenEditorManager.editor.layout()}),this.initUI()},a.properties={},a.savingInterval=0,a.active=!1,a.editorManager=null,a.fullscreenEditorManager=null,a.verticalVisible=!1,a.horizontalVisible=!1,a.settingsEl=null,a.buttonsContainer=null,a.editorHeight=0,a.editorWidth=0,a.showTriggers=!1,a.showContentTypeChooser=!1,a.optionsShown=!1,a.fullscreen=!1,a.preFullscreenEditorDimensions={},a.editorMode="main",a)}();a.CEB=b;window.codeEditBehavior={getActive:function(){return window.scriptEdit&&window.scriptEdit.active?window.scriptEdit:window.stylesheetEdit&&window.stylesheetEdit.active?window.stylesheetEdit:null},getEditor:function(){return this.getActive()&&this.getActive().editorManager}}})(CodeEditBehaviorNamespace||(CodeEditBehaviorNamespace={})),window.Polymer.CodeEditBehavior=window.Polymer.CodeEditBehavior||CodeEditBehaviorNamespace.CEB;
var CodeEditBehaviorNamespace,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};(function(a){var b=function(){function a(){}return a.setThemeWhite=function(){this.$.editorThemeSettingWhite.classList.add("currentTheme"),this.$.editorThemeSettingDark.classList.remove("currentTheme"),window.app.settings.editor.theme="white",window.app.upload()},a.setThemeDark=function(){this.$.editorThemeSettingWhite.classList.remove("currentTheme"),this.$.editorThemeSettingDark.classList.add("currentTheme"),window.app.settings.editor.theme="dark",window.app.upload()},a.fontSizeChange=function(){var a=this;this.async(function(){window.app.settings.editor.zoom=a.$.editorThemeFontSizeInput.$$("input").value+"",window.app.upload()},50)},a.finishEditing=function(){browserAPI.storage.local.set({editing:null}),window.useOptionsCompletions=!1,this.hideCodeOptions(),this.optionsShown&&this.hideOptions(),Array.prototype.slice.apply(this.shadowRoot.querySelectorAll(".editorTab")).forEach(function(a){a.classList.remove("active")}),this.$$(".mainEditorTab").classList.add("active")},a.insertSnippet=function(a,b,c){void 0===c&&(c=!1);var d=a.getEditorInstance().getEditorAsMonaco();if(a.editorManager.isTextarea(d)){var e=d.getSelected(),f=e.from,g=e.to,h=e.content,j=c?b:b.replace(/%s/g,h),k=d.getValue(),l=k.slice(0,f.totalChar)+j+k.slice(g.totalChar);a.editorManager.isDiff(d)||d.setValue(l)}else{var m=d.getSelections();if(1===m.length&&0===m[0].toString().length&&0===m[0].getPosition().lineNumber&&0===m[0].getPosition().column)for(var n=d.getValue().split("\n"),o=["//","/*","*/","*"," *"],p=0;p<n.length;p++){for(var i,q=0,r=o;q<r.length;q++)if(i=r[q],0===n[p].indexOf(i))continue;m[0]=new monaco.Selection(p,0,p,0);break}var s=m.map(function(a){var d=c?b:b.replace(/%s/g,a.toString());return window.monacoCommands.createReplaceCommand(a.cloneRange(),d)});a.editorManager.isDiff(d)||d.executeCommands("snippet",s)}},a.popOutToolsRibbon=function(){window.doc.editorToolsRibbonContainer.animate([{marginLeft:"0"},{marginLeft:"-200px"}],{duration:800,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){window.doc.editorToolsRibbonContainer.style.marginLeft="-200px",window.doc.editorToolsRibbonContainer.classList.remove("visible")}},a.toggleFullScreen=function(){this.fullscreen?this.exitFullScreen():this.enterFullScreen()},a.isFullscreen=function(){return this.fullscreen},a.toggleOptions=function(){this.optionsShown?this.hideOptions():this.showOptions()},a.initToolsRibbon=function(){var a=this;"script"===this.item.type&&(window.app.$.paperLibrariesSelector.init(),window.app.$.paperGetPageProperties.init(function(b){a.insertSnippet(a,b)}))},a.popInRibbons=function(){var a,b=this,c=window.app.$.editorCurrentScriptTitle;window.app.storageLocal.shrinkTitleRibbon?(window.doc.editorTitleRibbon.style.fontSize="40%",c.style.padding="0",a="-18px"):a="-51px",window.setDisplayFlex(c),c.style.marginTop=a;var d=[{marginTop:a},{marginTop:"0"}];c.style.marginLeft="-200px",this.initToolsRibbon(),setTimeout(function(){window.setDisplayFlex(window.doc.editorToolsRibbonContainer),window.app.storageLocal.hideToolsRibbon?window.doc.editorToolsRibbonContainer.classList.add("visible"):$(window.doc.editorToolsRibbonContainer).animate({marginLeft:"0"},{duration:500,easing:$.bez([0.215,0.61,0.355,1]),step:function(a){window.addCalcFn(window.doc.fullscreenEditorEditor,"width","100vw - 200px - "+a+"px"),window.doc.fullscreenEditorEditor.style.marginLeft=a+200+"px",b.fullscreenEditorManager.editor.layout()}})},200),setTimeout(function(){var a=window.app.util.getDummy();a.style.height="0",$(a).animate({height:"50px"},{duration:500,easing:$.bez([0.215,0.61,0.355,1]),step:function(a){window.addCalcFn(window.doc.fullscreenEditorEditor,"height","100vw - "+a+"px"),window.addCalcFn(window.doc.fullscreenEditorHorizontal,"height","100vh - "+a+"px"),b.fullscreenEditorManager.editor.layout()}}),c.animate(d,{duration:500,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){c.style.marginTop="0",void 0!==d[0].marginLeft&&(c.style.marginLeft="0")}},200)},a.popOutRibbons=function(){var a,b=this,c=window.app.$.editorCurrentScriptTitle;window.app.storageLocal.shrinkTitleRibbon?(window.doc.editorTitleRibbon.style.fontSize="40%",c.style.padding="0",a="-18px"):a="-51px",window.setDisplayFlex(c),c.style.marginTop="0";var d=[{marginTop:"0"},{marginTop:a}];c.style.marginLeft="-200px",setTimeout(function(){window.setDisplayFlex(window.doc.editorToolsRibbonContainer);var a=window.app.storageLocal&&window.app.storageLocal.hideToolsRibbon||!1;a?window.doc.editorToolsRibbonContainer.classList.add("visible"):$(window.doc.editorToolsRibbonContainer).animate({marginLeft:"-200px"},{duration:500,easing:"linear",step:function(a){window.addCalcFn(window.doc.fullscreenEditorEditor,"width","100vw - 200px - "+a+"px"),window.doc.fullscreenEditorEditor.style.marginLeft=a+200+"px",b.fullscreenEditorManager.editor.layout()}})},200),setTimeout(function(){var e=window.app.util.getDummy();e.style.height="50px",$(e).animate({height:"0"},{duration:500,easing:"linear",step:function(a){window.addCalcFn(window.doc.fullscreenEditorEditor,"height","100vw - "+a+"px"),window.addCalcFn(window.doc.fullscreenEditorHorizontal,"height","100vh - "+a+"px"),b.fullscreenEditorManager.editor.layout()}}),c.animate(d,{duration:500,easing:"linear"}).onfinish=function(){c.style.marginTop=a,void 0!==d[0].marginLeft&&(c.style.marginLeft=a)}},200)},a.exitFullScreen=function(){var a=this;this.fullscreen&&(this.fullscreen=!1,this.popOutRibbons(),setTimeout(function(){var b=window.doc.fullscreenEditorEditor;a.$.editorFullScreen.children[0].innerHTML="<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z\"/></svg>",$(b).animate({width:a.preFullscreenEditorDimensions.width,height:a.preFullscreenEditorDimensions.height,marginTop:a.preFullscreenEditorDimensions.marginTop,marginLeft:a.preFullscreenEditorDimensions.marginLeft},{duration:500,easing:"easeOutCubic",complete:function(){b.style.marginLeft="0",b.style.marginTop="0",window.addCalcFn(b,"width","",!0),window.addCalcFn(b,"height","",!0),b.style.width="0",b.style.height="0",a.fullscreenEditorManager.destroy(),a.editorManager.claimScope(),window.doc.fullscreenEditor.style.display="none"}})},700))},a.enterFullScreen=function(){return __awaiter(this,void 0,void 0,function(){var a=this;return __generator(this,function(){return[2,new Promise(function(b){return __awaiter(a,void 0,void 0,function(){var a,c,d,e,f,g,h,i,j,k,l=this;return __generator(this,function(m){switch(m.label){case 0:return this.fullscreen?(b(null),[2,null]):(this.fullscreen=!0,window.doc.fullscreenEditor.style.display="block",a=this.editorManager.editor.getDomNode().getBoundingClientRect(),c=window.doc.fullscreenEditorEditor,d=c.style,d.marginLeft=this.preFullscreenEditorDimensions.marginLeft=a.left+"px",d.marginTop=this.preFullscreenEditorDimensions.marginTop=a.top+"px",window.addCalcFn(c,"height","",!0),window.addCalcFn(c,"width","",!0),d.height=this.preFullscreenEditorDimensions.height=a.height+"px",d.width=this.preFullscreenEditorDimensions.width=a.width+"px",d.position="absolute","script"===this.item.type&&(e=this,f="main"===e.editorMode?e.newSettings.value.libraries:e.newSettings.value.backgroundLibraries||[],window.app.$.paperLibrariesSelector.updateLibraries(f,this.newSettings,this.editorMode),e.newSettings.value.ts&&e.newSettings.value.ts.enabled?window.app.$.editorTypescript.classList.add("active"):window.app.$.editorTypescript.classList.remove("active")),g=this,[4,c.createFrom(this.editorManager)]);case 1:return g.fullscreenEditorManager=m.sent(),h=window.crmEditPage.$.horizontalCenterer,i=h.getBoundingClientRect(),j=i.width+20,k=i.height,void 0===window.app.storageLocal.hideToolsRibbon?(browserAPI.storage.local.set({hideToolsRibbon:!1}),window.app.storageLocal.hideToolsRibbon=!1,window.doc.showHideToolsRibbonButton.classList.add("hidden")):window.app.storageLocal.hideToolsRibbon?window.doc.showHideToolsRibbonButton.classList.add("hidden"):window.doc.showHideToolsRibbonButton.classList.remove("hidden"),void 0===window.app.storageLocal.shrinkTitleRibbon?(browserAPI.storage.local.set({shrinkTitleRibbon:!1}),window.app.storageLocal.shrinkTitleRibbon=!1,window.setTransform(window.doc.shrinkTitleRibbonButton,"rotate(270deg)")):window.app.storageLocal.shrinkTitleRibbon?window.setTransform(window.doc.shrinkTitleRibbonButton,"rotate(90deg)"):window.setTransform(window.doc.shrinkTitleRibbonButton,"rotate(270deg)"),document.documentElement.style.overflow="hidden",c.style.display="-wekbit-flex",c.style.display="flex",this.fullscreenEditorManager.editor.layout(),$(c).animate({width:j,height:k,marginTop:0,marginLeft:0},{duration:500,easing:"easeOutCubic",step:function(){l.fullscreenEditorManager.editor.layout()},complete:function(){l.fullscreenEditorManager.editor.layout(),l.style.width="100vw",l.style.height="100vh",window.addCalcFn(window.app.$.fullscreenEditorHorizontal,"height","",!0),window.app.$.fullscreenEditorHorizontal.style.height="100vh",l.popInRibbons(),b(null)}}),[2];}})})})]})})},a.showOptions=function(){var a=this;if(this.optionsShown=!0,this.unchangedEditorSettings=$.extend(!0,{},window.app.settings.editor),this.fullscreen)return this.fillEditorOptions(window.app),void this._showFullscreenOptions();var b=this.getEditorInstance().editor.getDomNode().getBoundingClientRect().width,c=this.getEditorInstance().editor.getDomNode().getBoundingClientRect().height,d=Math.sqrt(b*b+c*c)+200,e=-d,f=2*d;this.$.bubbleCont.parentElement.style.width=b+"px",this.$.bubbleCont.parentElement.style.height=c+"px",this.$.editorOptionsContainer.style.width=b+"px",this.$.editorOptionsContainer.style.height=c+"px",this.$$("#editorThemeFontSizeInput").value=window.app.settings.editor.zoom,this.fillEditorOptions(this),$(this.$.settingsShadow).css({width:"50px",height:"50px",borderRadius:"50%",marginTop:"-25px",marginRight:"-25px"}).animate({width:f,height:f,marginTop:e,marginRight:e},{duration:500,easing:"linear",progress:function(b){a.$.editorOptionsContainer.style.marginLeft=-500-b.tweens[3].now+"px",a.$.editorOptionsContainer.style.marginTop=-b.tweens[2].now+"px"}})},a._hideFullscreenOptions=function(){window.setTransform(window.app.$.fullscreenSettingsContainer,"translateX(500px)"),window.setTimeout(function(){window.app.$.fullscreenEditorToggle.style.display="block"},500)},a.hideOptions=function(){var a=this;this.optionsShown=!1,this.fullscreen&&this._hideFullscreenOptions();this.$.editorFullScreen.style.display="block",$(this.$.settingsShadow).animate({width:0,height:0,marginTop:0,marginRight:0},{duration:500,easing:"linear",progress:function(b){a.$.editorOptionsContainer.style.marginLeft=-500-b.tweens[3].now+"px",a.$.editorOptionsContainer.style.marginTop=-b.tweens[2].now+"px"},complete:function(){var b=window.app.settings.editor.zoom,c=a.unchangedEditorSettings.zoom;a.unchangedEditorSettings.zoom=b,JSON.stringify(a.unchangedEditorSettings)!==JSON.stringify(window.app.settings.editor)&&a.reloadEditor(),b!==c&&window.app.updateEditorZoom(),a.fullscreen&&(a.$.settingsContainer.style.height="345px",a.$.settingsContainer.style.overflowX="hidden",a.$.bubbleCont.style.position="absolute",a.$.bubbleCont.style.zIndex="auto")}})},a.fillEditorOptions=function(a){if("script"===this.item.type){var b=this,c=a;c.$.keyBindingsTemplate.items=b.keyBindings,c.$.keyBindingsTemplate.render(),window.app.settings.editor.keyBindings=window.app.settings.editor.keyBindings||{goToDef:b.keyBindings[0].defaultKey,rename:b.keyBindings[1].defaultKey},Array.prototype.slice.apply(c.$.keyBindingsTemplate.querySelectorAll("paper-input")).forEach(function(a){a.setAttribute("data-prev-value",a.$$("input").value)})}"white"===window.app.settings.editor.theme?a.$.editorThemeSettingWhite.classList.add("currentTheme"):a.$.editorThemeSettingWhite.classList.remove("currentTheme"),"dark"===window.app.settings.editor.theme?a.$.editorThemeSettingDark.classList.add("currentTheme"):a.$.editorThemeSettingDark.classList.remove("currentTheme"),a.$.editorThemeFontSizeInput.$$("input").value=window.app.settings.editor.zoom||"100"},a._showFullscreenOptions=function(){window.app.$.fullscreenEditorToggle.style.display="none",window.setTransform(window.app.$.fullscreenSettingsContainer,"translateX(0)")},a.scrollbarsUpdate=function(a){a!==this.verticalVisible&&(this.buttonsContainer.style.right=a?"29px":"11px",this.verticalVisible=!this.verticalVisible)},(a.getEditorInstance=function(){return"script"===this.item.type?window.scriptEdit.fullscreen?window.scriptEdit.fullscreenEditorManager:window.scriptEdit.editorManager:window.stylesheetEdit.fullscreen?window.stylesheetEdit.fullscreenEditorManager:window.stylesheetEdit.editorManager},a.showCodeOptions=function(){window.useOptionsCompletions=!0;var a="string"===typeof this.item.value.options?this.item.value.options:JSON.stringify(this.item.value.options,null,"\t");this.editorManager.switchToModel("options",a,this.editorManager.EditorMode.JSON_OPTIONS)},a.hideCodeOptions=function(){window.useOptionsCompletions&&(window.useOptionsCompletions=!1)},a.getAutoUpdateState=function(){return"script"!==this.newSettings.type&&"stylesheet"!==this.newSettings.type||"local"===this.newSettings.nodeInfo.source?[!1,!0]:this.newSettings.nodeInfo&&this.newSettings.nodeInfo.source?[this.newSettings.nodeInfo.source.autoUpdate,!1]:[!0,!1]},a.setUpdateIcons=function(a,b){return b?void(this.$.updateIcon.style.display="none"):void(a?(this.$.updateEnabled.classList.remove("hidden"),this.$.updateDisabled.classList.add("hidden")):(this.$.updateEnabled.classList.add("hidden"),this.$.updateDisabled.classList.remove("hidden")))},a.initUI=function(){var a=this;this.$.dropdownMenu.addEventListener("expansionStateChange",function(b){var c=b.detail,d=c.state;"opening"===d?a.editorManager.setDefaultHeight():"closed"===d?a.editorManager.stopTempLayout():"opened"===d&&a.editorManager.setTempLayout()});var b=this.getAutoUpdateState(),c=b[0],d=b[1];this.setUpdateIcons(c,d)},a.toggleAutoUpdate=function(){("script"===this.newSettings.type||"stylesheet"===this.newSettings.type)&&"local"!==this.newSettings.nodeInfo.source&&this.newSettings.nodeInfo&&(this.newSettings.nodeInfo.source.autoUpdate=!this.newSettings.nodeInfo.source.autoUpdate,this.setUpdateIcons(this.newSettings.nodeInfo.source.autoUpdate,!1))},a._CEBIinit=function(){var a=this;window.addEventListener("resize",function(){a.fullscreen&&a.active&&a.fullscreenEditorManager.editor.layout()}),this.initUI()},a.properties={},a.savingInterval=0,a.active=!1,a.editorManager=null,a.fullscreenEditorManager=null,a.verticalVisible=!1,a.horizontalVisible=!1,a.settingsEl=null,a.buttonsContainer=null,a.editorHeight=0,a.editorWidth=0,a.showTriggers=!1,a.showContentTypeChooser=!1,a.optionsShown=!1,a.fullscreen=!1,a.preFullscreenEditorDimensions={},a.editorMode="main",a)}();a.CEB=b;window.codeEditBehavior={getActive:function(){return window.scriptEdit&&window.scriptEdit.active?window.scriptEdit:window.stylesheetEdit&&window.stylesheetEdit.active?window.stylesheetEdit:null},getEditor:function(){return this.getActive()&&this.getActive().editorManager}}})(CodeEditBehaviorNamespace||(CodeEditBehaviorNamespace={})),window.Polymer.CodeEditBehavior=window.Polymer.CodeEditBehavior||CodeEditBehaviorNamespace.CEB;var ScriptEditElement,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};(function(a){a.scriptEditProperties={item:{type:Object,value:{},notify:!0}};var b=function(){function b(){}return b.isTsEnabled=function(){return this.item.value&&this.item.value.ts&&this.item.value.ts.enabled},b.toggleBackgroundLibs=function(){var a=this;this.async(function(){var b=a.$.paperLibrariesShowbackground.checked;b?a.$.paperLibrariesSelector.updateLibraries(a.item.value.backgroundLibraries,a.newSettings,"background"):a.$.paperLibrariesSelector.updateLibraries(a.item.value.libraries,a.newSettings,"main")},0)},b.getKeyBindingValue=function(a){return window.app.settings&&window.app.settings.editor.keyBindings[a.storageKey]||a.defaultKey},b._toggleTypescriptButton=function(){var a=null!==this.$.editorTypescript.getAttribute("active");a?this.$.editorTypescript.removeAttribute("active"):this.$.editorTypescript.setAttribute("active","active")},b.jsLintGlobalsChange=function(){var a=this;this.async(function(){var b=a.$.editorJSLintGlobalsInput.$$("input").value.split(",").map(function(a){return a.trim()});browserAPI.storage.local.set({jsLintGlobals:b}),window.app.jsLintGlobals=b},0)},b.toggleTypescript=function(){var a=null===this.$.editorTypescript.getAttribute("active");this._toggleTypescriptButton(),this.newSettings.value.ts?this.newSettings.value.ts.enabled=a:this.newSettings.value.ts={enabled:a,backgroundScript:{},script:{}},this.getEditorInstance().setTypescript(a)},b.openDocs=function(){window.open("http://sanderronde.github.io/CustomRightClickMenu/documentation/classes/crm.crmapi.instance.html","_blank")},b.onKeyBindingKeyDown=function(a){var b=window.app.util.findElementWithTagname(a,"paper-input"),c=~~b.getAttribute("data-index");this._createKeyBindingListener(b,this.keyBindings[c])},b.clearTriggerAndNotifyMetaTags=function(a){return 1===this.shadowRoot.querySelectorAll(".executionTrigger").length?(window.doc.messageToast.text="You need to have at least one trigger",void window.doc.messageToast.show()):void this.clearTrigger(a)},b._disableButtons=function(){this.$.dropdownMenu.disable()},b._enableButtons=function(){this.$.dropdownMenu.enable()},b._saveEditorContents=function(){if("background"===this.editorMode)this.newSettings.value.backgroundScript=this.editorManager.editor.getValue();else if("main"===this.editorMode)this.newSettings.value.script=this.editorManager.editor.getValue();else if("options"===this.editorMode)try{this.newSettings.value.options=JSON.parse(this.editorManager.editor.getValue())}catch(a){this.newSettings.value.options=this.editorManager.editor.getValue()}},b._changeTab=function(a){if(a!==this.editorMode){var b=this.item.value.ts&&this.item.value.ts.enabled;"main"===a?("background"===this.editorMode&&(this.newSettings.value.backgroundScript=this.editorManager.editor.getValue()),this.editorMode="main",this._enableButtons(),this.editorManager.switchToModel("default",this.newSettings.value.script,b?this.editorManager.EditorMode.TS_META:this.editorManager.EditorMode.JS_META)):"background"===a&&("main"===this.editorMode&&(this.newSettings.value.script=this.editorManager.editor.getValue()),this.editorMode="background",this._disableButtons(),this.editorManager.switchToModel("background",this.newSettings.value.backgroundScript||"",b?this.editorManager.EditorMode.TS_META:this.editorManager.EditorMode.JS_META));var c=window.scriptEdit.shadowRoot.querySelector("main"===a?".mainEditorTab":".backgroundEditorTab");Array.prototype.slice.apply(window.scriptEdit.shadowRoot.querySelectorAll(".editorTab")).forEach(function(a){a.classList.remove("active")}),c.classList.add("active")}},b.switchBetweenScripts=function(a){if(a.classList.remove("optionsEditorTab"),"options"===this.editorMode)try{this.newSettings.value.options=JSON.parse(this.editorManager.editor.getValue())}catch(a){this.newSettings.value.options=this.editorManager.editor.getValue()}this.hideCodeOptions(),this._initKeyBindings()},b.changeTabEvent=function(a){var b=window.app.util.findElementWithClassName(a,"editorTab"),c=b.classList.contains("mainEditorTab"),d=b.classList.contains("backgroundEditorTab"),e=b.classList.contains("librariesTab"),f=b.classList.contains("optionsTab");e||this.$.codeTabContentContainer.classList.remove("showLibs"),c&&"main"!==this.editorMode?(this.switchBetweenScripts(b),this._changeTab("main")):d&&"background"!==this.editorMode?(this.switchBetweenScripts(b),this._changeTab("background")):f&&"options"!==this.editorMode?("main"===this.editorMode?this.newSettings.value.script=this.editorManager.editor.getValue():"background"===this.editorMode&&(this.newSettings.value.backgroundScript=this.editorManager.editor.getValue()),this.showCodeOptions(),this.editorMode="options"):e&&"libraries"!==this.editorMode&&(this.$.codeTabContentContainer.classList.add("showLibs"),this.$.paperLibrariesSelector.updateLibraries(this.newSettings.value.libraries,this.newSettings,"main"),this.editorMode="libraries"),Array.prototype.slice.apply(window.scriptEdit.shadowRoot.querySelectorAll(".editorTab")).forEach(function(a){a.classList.remove("active")}),b.classList.add("active")},b._getExportData=function(){var a={};return this.save(null,a),this.$.dropdownMenu.selected=0,a},b.exportScriptAsCRM=function(){window.app.editCRM.exportSingleNode(this._getExportData(),"CRM")},b.exportScriptAsUserscript=function(){window.app.editCRM.exportSingleNode(this._getExportData(),"Userscript")},b.cancelChanges=function(){var a=this;this.fullscreen&&this.exitFullScreen(),window.setTimeout(function(){a.finishEditing(),window.externalEditor.cancelOpenFiles(),a.editorManager.destroy(),a.fullscreenEditorManager&&a.fullscreenEditorManager.destroy(),a.active=!1},this.fullscreen?500:0)},b._getMetaTagValues=function(){var a=this.editorManager.getModel("default").handlers[0];return a&&a.getMetaBlock&&a.getMetaBlock()&&a.getMetaBlock().content},b.saveChanges=function(a){a.value.metaTags=this._getMetaTagValues()||{},a.value.launchMode=this.$.dropdownMenu.selected,this._saveEditorContents(),this.finishEditing(),window.externalEditor.cancelOpenFiles(),this.editorManager.destroy(),this.fullscreenEditorManager&&this.fullscreenEditorManager.destroy(),this.editorMode="main",this._enableButtons(),this.active=!1},b._onPermissionsDialogOpen=function(a,b){var c,d,e=this,f=Array.prototype.slice.apply(window.app.shadowRoot.querySelectorAll(".requestPermissionsShowBot")),g=[];f.forEach(function(a){e._permissionDialogListeners.forEach(function(b){a.removeEventListener("click",b)});var b=function(){c=$(a).parent().parent().children(".requestPermissionsPermissionBotCont")[0],d=$(a).find(".requestPermissionsSvg")[0],d.__rotated?(window.setTransform(d,"rotate(90deg)"),d.rotated=!1):(window.setTransform(d,"rotate(270deg)"),d.rotated=!0),c.animation&&c.animation.reverse?c.animation.reverse():c.animation=c.animate([{height:"0"},{height:c.scrollHeight+"px"}],{duration:250,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",fill:"both"})};g.push(b),a.addEventListener("click",b)}),this._permissionDialogListeners=g;var h,i=Array.prototype.slice.apply(window.app.shadowRoot.querySelectorAll(".requestPermissionButton"));i.forEach(function(c){c.__listener&&c.removeEventListener("click",c.__listener);var d=function(){h=c.previousElementSibling.previousElementSibling.textContent;if(!c.checked)b.permissions.splice(b.permissions.indexOf(h),1);else if(-1===Array.prototype.slice.apply(a).indexOf(h)){if(!browserAPI.permissions)return void window.app.util.showToast("Not asking for permission "+h+" as your browser does not support asking for permissions");browserAPI.permissions.request({permissions:[h]}).then(function(a){a?(browserAPI.storage.local.get().then(function(a){var b=a.requestPermissions;b.splice(b.indexOf(h),1),browserAPI.storage.local.set({requestPermissions:b})}),b.permissions=b.permissions||[],b.permissions.push(h)):c.checked=!1})}else b.permissions=b.permissions||[],b.permissions.push(h)};c.addEventListener("click",d),c.__listener=d})},b.openPermissionsDialog=function(a){var b=this;return new Promise(function(c){return __awaiter(b,void 0,void 0,function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this;return __generator(this,function(t){switch(t.label){case 0:return a&&"tap"!==a.type?(b=a,d=a):(b=this.item,d=this.newSettings),browserAPI.permissions?[4,browserAPI.permissions.getAll()]:[3,2];case 1:return f=t.sent(),[3,3];case 2:f={permissions:[]},t.label=3;case 3:return e=f.permissions,browserAPI.permissions||window.app.util.showToast("Not toggling for browser permissions as your browser does not support them"),b.permissions||(b.permissions=[]),g=b.permissions,h=window.app.templates.getScriptPermissions(),i=b.nodeInfo&&b.nodeInfo.permissions||[],j=[],k=[],l=[],m=[],h.forEach(function(a){n=-1<i.indexOf(a),o=-1<g.indexOf(a),p={name:a,toggled:o,required:n,description:window.app.templates.getPermissionDescription(a)},n&&o?j.push(p):n&&!o?k.push(p):!n&&o?l.push(p):m.push(p)}),q=l,q.push.apply(q,j),q.push.apply(q,k),q.push.apply(q,m),window.app.$.scriptPermissionsTemplate.items=q,window.app.shadowRoot.querySelector(".requestPermissionsScriptName").innerHTML="Managing permisions for script \""+b.name,r=window.app.$.scriptPermissionDialog,r.addEventListener("iron-overlay-opened",function(){s._onPermissionsDialogOpen(e,d)}),r.addEventListener("iron-overlay-closed",function(){c(null)}),r.open(),[2];}})})})},b.reloadEditor=function(){if(this.editorManager)if("main"===this.editorMode)this.newSettings.value.script=this.editorManager.editor.getValue();else if("background"===this.editorMode)this.newSettings.value.backgroundScript=this.editorManager.editor.getValue();else try{this.newSettings.value.options=JSON.parse(this.editorManager.editor.getValue())}catch(a){this.newSettings.value.options=this.editorManager.editor.getValue()}var a;if(a="main"===this.editorMode?this.newSettings.value.script:"background"===this.editorMode?this.newSettings.value.backgroundScript:"string"===typeof this.newSettings.value.options?this.newSettings.value.options:JSON.stringify(this.newSettings.value.options),this.fullscreen){this.fullscreenEditorManager.reset();var b=this.fullscreenEditorManager.editor;this.fullscreenEditorManager.isDiff(b)||b.setValue(a)}else{this.editorManager.reset();var b=this.editorManager.editor;this.editorManager.isDiff(b)||b.setValue(a)}},b._createKeyBindingListener=function(a,b){var c=this;return function(d){if(d.preventDefault(),(16>d.keyCode||18<d.keyCode)&&(d.altKey||d.shiftKey||d.ctrlKey)){var e=[];d.ctrlKey&&e.push("Ctrl"),d.altKey&&e.push("Alt"),d.shiftKey&&e.push("Shift"),e.push(String.fromCharCode(d.keyCode));var f=a.value=e.join("-");a.setAttribute("data-prev-value",f),window.app.settings.editor.keyBindings=window.app.settings.editor.keyBindings||{goToDef:c.keyBindings[0].defaultKey,rename:c.keyBindings[1].defaultKey},window.app.settings.editor.keyBindings[b.storageKey]=f,c._initKeyBinding(b)}a.value=a.getAttribute("data-prev-value")||""}},b._translateKeyCombination=function(a){for(var b,c=[],d=0,e=a.split("-");d<e.length;d++)b=e[d],"Ctrl"===b?c.push(monaco.KeyMod.CtrlCmd):"Alt"===b?c.push(monaco.KeyMod.Alt):"Shift"===b?c.push(monaco.KeyMod.Shift):monaco.KeyCode["KEY_"+b.toUpperCase()]&&c.push(monaco.KeyCode["KEY_"+b.toUpperCase()]);return c},b._initKeyBinding=function(a,b){void 0===b&&(b=a.defaultKey);var c=this.editorManager.getEditorAsMonaco();if(!this.editorManager.isTextarea(c)&&!this.editorManager.isDiff(c)){var d=c.getAction(a.monacoKey);c.addAction({id:a.monacoKey,label:a.name,run:function(){d.run()},keybindings:this._translateKeyCombination(b),precondition:d._precondition.expr.map(function(a){return a.key}).join("&&")})}},b._initKeyBindings=function(){for(var a,b=0,c=this.keyBindings;b<c.length;b++)a=c[b],this._initKeyBinding(a)},b.editorLoaded=function(){var a=this,b=this.editorManager;b.getTypeHandler()[0].listen("metaChange",function(b,c){"main"===a.editorMode&&(a.newSettings.value.metaTags=JSON.parse(JSON.stringify(c)).content)}),this.$.mainEditorTab.classList.add("active"),this.$.backgroundEditorTab.classList.remove("active"),b.editor.getDomNode().classList.remove("stylesheet-edit-codeMirror"),b.editor.getDomNode().classList.add("script-edit-codeMirror"),b.editor.getDomNode().classList.add("small"),this.fullscreen&&(this.$.editorFullScreen.children[0].innerHTML="<path d=\"M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z\"/>"),this._initKeyBindings()},b.loadEditor=function(a){return void 0===a&&(a=this.item.value.script),__awaiter(this,void 0,void 0,function(){var b,c,d,e;return __generator(this,function(f){switch(f.label){case 0:return b=$(this.$.editor),this.editorHeight=b.height(),this.editorWidth=b.width(),window.app.settings.editor||(window.app.settings.editor={theme:"dark",zoom:"100",keyBindings:{goToDef:this.keyBindings[0].defaultKey,rename:this.keyBindings[1].defaultKey},cssUnderlineDisabled:!1,disabledMetaDataHighlight:!1}),c=this.item.value.ts&&this.item.value.ts.enabled,d=c?this.$.editor.EditorMode.TS_META:this.$.editor.EditorMode.JS_META,e=this,[4,this.$.editor.create(d,{value:a,language:c?"typescript":"javascript",theme:"dark"===window.app.settings.editor.theme?"vs-dark":"vs",wordWrap:"off",fontSize:14*(~~window.app.settings.editor.zoom/100),folding:!0})];case 1:return e.editorManager=f.sent(),this.editorLoaded(),[2];}})})},(b.init=function(){var a=this;this._init(),this._CEBIinit(),this.$.dropdownMenu.init(),this.$.exportMenu.init(),this.$.exportMenu.$.dropdownSelected.innerText="EXPORT AS",this.initDropdown(),this.selectorStateChange(0,this.newSettings.value.launchMode),window.app.$.editorToolsRibbonContainer.classList.remove("editingStylesheet"),window.app.$.editorToolsRibbonContainer.classList.add("editingScript"),window.scriptEdit=this,window.externalEditor.init(),window.app.storageLocal.recoverUnsavedData&&(browserAPI.storage.local.set({editing:{val:this.item.value.script,id:this.item.id,mode:this.editorMode,crmType:window.app.crmTypes}}),this.savingInterval=window.setInterval(function(){if(a.active&&a.editorManager){var b=a.editorManager.editor.getValue();browserAPI.storage.local.set({editing:{val:b,id:a.item.id,mode:a.editorMode,crmType:window.app.crmTypes}})["catch"](function(){})}else browserAPI.storage.local.set({editing:!1}),window.clearInterval(a.savingInterval)},5e3)),this.active=!0,setTimeout(function(){a.loadEditor()},750)},b.is="script-edit",b.behaviors=[window.Polymer.NodeEditBehavior,window.Polymer.CodeEditBehavior],b.properties=a.scriptEditProperties,b._permissionDialogListeners=[],b.keyBindings=[{name:"Go To Type Definition",defaultKey:"Ctrl-F12",monacoKey:"editor.action.goToTypeDefinition",storageKey:"goToDef"},{name:"Rename Symbol",defaultKey:"Ctrl-F2",monacoKey:"editor.action.rename",storageKey:"rename"}],b)}();a.SCE=b,a,window.objectify?window.register(b):window.addEventListener("RegisterReady",function(){window.register(b)})})(ScriptEditElement||(ScriptEditElement={}));
var CodeEditBehaviorNamespace,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};(function(a){var b=function(){function a(){}return a.setThemeWhite=function(){this.$.editorThemeSettingWhite.classList.add("currentTheme"),this.$.editorThemeSettingDark.classList.remove("currentTheme"),window.app.settings.editor.theme="white",window.app.upload()},a.setThemeDark=function(){this.$.editorThemeSettingWhite.classList.remove("currentTheme"),this.$.editorThemeSettingDark.classList.add("currentTheme"),window.app.settings.editor.theme="dark",window.app.upload()},a.fontSizeChange=function(){var a=this;this.async(function(){window.app.settings.editor.zoom=a.$.editorThemeFontSizeInput.$$("input").value+"",window.app.upload()},50)},a.finishEditing=function(){browserAPI.storage.local.set({editing:null}),window.useOptionsCompletions=!1,this.hideCodeOptions(),this.optionsShown&&this.hideOptions(),Array.prototype.slice.apply(this.shadowRoot.querySelectorAll(".editorTab")).forEach(function(a){a.classList.remove("active")}),this.$$(".mainEditorTab").classList.add("active")},a.insertSnippet=function(a,b,c){void 0===c&&(c=!1);var d=a.getEditorInstance().getEditorAsMonaco();if(a.editorManager.isTextarea(d)){var e=d.getSelected(),f=e.from,g=e.to,h=e.content,j=c?b:b.replace(/%s/g,h),k=d.getValue(),l=k.slice(0,f.totalChar)+j+k.slice(g.totalChar);a.editorManager.isDiff(d)||d.setValue(l)}else{var m=d.getSelections();if(1===m.length&&0===m[0].toString().length&&0===m[0].getPosition().lineNumber&&0===m[0].getPosition().column)for(var n=d.getValue().split("\n"),o=["//","/*","*/","*"," *"],p=0;p<n.length;p++){for(var i,q=0,r=o;q<r.length;q++)if(i=r[q],0===n[p].indexOf(i))continue;m[0]=new monaco.Selection(p,0,p,0);break}var s=m.map(function(a){var d=c?b:b.replace(/%s/g,a.toString());return window.monacoCommands.createReplaceCommand(a.cloneRange(),d)});a.editorManager.isDiff(d)||d.executeCommands("snippet",s)}},a.popOutToolsRibbon=function(){window.doc.editorToolsRibbonContainer.animate([{marginLeft:"0"},{marginLeft:"-200px"}],{duration:800,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){window.doc.editorToolsRibbonContainer.style.marginLeft="-200px",window.doc.editorToolsRibbonContainer.classList.remove("visible")}},a.toggleFullScreen=function(){this.fullscreen?this.exitFullScreen():this.enterFullScreen()},a.isFullscreen=function(){return this.fullscreen},a.toggleOptions=function(){this.optionsShown?this.hideOptions():this.showOptions()},a.initToolsRibbon=function(){var a=this;"script"===this.item.type&&(window.app.$.paperLibrariesSelector.init(),window.app.$.paperGetPageProperties.init(function(b){a.insertSnippet(a,b)}))},a.popInRibbons=function(){var a,b=this,c=window.app.$.editorCurrentScriptTitle;window.app.storageLocal.shrinkTitleRibbon?(window.doc.editorTitleRibbon.style.fontSize="40%",c.style.padding="0",a="-18px"):a="-51px",window.setDisplayFlex(c),c.style.marginTop=a;var d=[{marginTop:a},{marginTop:"0"}];c.style.marginLeft="-200px",this.initToolsRibbon(),setTimeout(function(){window.setDisplayFlex(window.doc.editorToolsRibbonContainer),window.app.storageLocal.hideToolsRibbon?window.doc.editorToolsRibbonContainer.classList.add("visible"):$(window.doc.editorToolsRibbonContainer).animate({marginLeft:"0"},{duration:500,easing:$.bez([0.215,0.61,0.355,1]),step:function(a){window.addCalcFn(window.doc.fullscreenEditorEditor,"width","100vw - 200px - "+a+"px"),window.doc.fullscreenEditorEditor.style.marginLeft=a+200+"px",b.fullscreenEditorManager.editor.layout()}})},200),setTimeout(function(){var a=window.app.util.getDummy();a.style.height="0",$(a).animate({height:"50px"},{duration:500,easing:$.bez([0.215,0.61,0.355,1]),step:function(a){window.addCalcFn(window.doc.fullscreenEditorEditor,"height","100vw - "+a+"px"),window.addCalcFn(window.doc.fullscreenEditorHorizontal,"height","100vh - "+a+"px"),b.fullscreenEditorManager.editor.layout()}}),c.animate(d,{duration:500,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){c.style.marginTop="0",void 0!==d[0].marginLeft&&(c.style.marginLeft="0")}},200)},a.popOutRibbons=function(){var a,b=this,c=window.app.$.editorCurrentScriptTitle;window.app.storageLocal.shrinkTitleRibbon?(window.doc.editorTitleRibbon.style.fontSize="40%",c.style.padding="0",a="-18px"):a="-51px",window.setDisplayFlex(c),c.style.marginTop="0";var d=[{marginTop:"0"},{marginTop:a}];c.style.marginLeft="-200px",setTimeout(function(){window.setDisplayFlex(window.doc.editorToolsRibbonContainer);var a=window.app.storageLocal&&window.app.storageLocal.hideToolsRibbon||!1;a?window.doc.editorToolsRibbonContainer.classList.add("visible"):$(window.doc.editorToolsRibbonContainer).animate({marginLeft:"-200px"},{duration:500,easing:"linear",step:function(a){window.addCalcFn(window.doc.fullscreenEditorEditor,"width","100vw - 200px - "+a+"px"),window.doc.fullscreenEditorEditor.style.marginLeft=a+200+"px",b.fullscreenEditorManager.editor.layout()}})},200),setTimeout(function(){var e=window.app.util.getDummy();e.style.height="50px",$(e).animate({height:"0"},{duration:500,easing:"linear",step:function(a){window.addCalcFn(window.doc.fullscreenEditorEditor,"height","100vw - "+a+"px"),window.addCalcFn(window.doc.fullscreenEditorHorizontal,"height","100vh - "+a+"px"),b.fullscreenEditorManager.editor.layout()}}),c.animate(d,{duration:500,easing:"linear"}).onfinish=function(){c.style.marginTop=a,void 0!==d[0].marginLeft&&(c.style.marginLeft=a)}},200)},a.exitFullScreen=function(){var a=this;this.fullscreen&&(this.fullscreen=!1,this.popOutRibbons(),setTimeout(function(){var b=window.doc.fullscreenEditorEditor;a.$.editorFullScreen.children[0].innerHTML="<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z\"/></svg>",$(b).animate({width:a.preFullscreenEditorDimensions.width,height:a.preFullscreenEditorDimensions.height,marginTop:a.preFullscreenEditorDimensions.marginTop,marginLeft:a.preFullscreenEditorDimensions.marginLeft},{duration:500,easing:"easeOutCubic",complete:function(){b.style.marginLeft="0",b.style.marginTop="0",window.addCalcFn(b,"width","",!0),window.addCalcFn(b,"height","",!0),b.style.width="0",b.style.height="0",a.fullscreenEditorManager.destroy(),a.editorManager.claimScope(),window.doc.fullscreenEditor.style.display="none"}})},700))},a.enterFullScreen=function(){return __awaiter(this,void 0,void 0,function(){var a=this;return __generator(this,function(){return[2,new Promise(function(b){return __awaiter(a,void 0,void 0,function(){var a,c,d,e,f,g,h,i,j,k,l=this;return __generator(this,function(m){switch(m.label){case 0:return this.fullscreen?(b(null),[2,null]):(this.fullscreen=!0,window.doc.fullscreenEditor.style.display="block",a=this.editorManager.editor.getDomNode().getBoundingClientRect(),c=window.doc.fullscreenEditorEditor,d=c.style,d.marginLeft=this.preFullscreenEditorDimensions.marginLeft=a.left+"px",d.marginTop=this.preFullscreenEditorDimensions.marginTop=a.top+"px",window.addCalcFn(c,"height","",!0),window.addCalcFn(c,"width","",!0),d.height=this.preFullscreenEditorDimensions.height=a.height+"px",d.width=this.preFullscreenEditorDimensions.width=a.width+"px",d.position="absolute","script"===this.item.type&&(e=this,f="main"===e.editorMode?e.newSettings.value.libraries:e.newSettings.value.backgroundLibraries||[],window.app.$.paperLibrariesSelector.updateLibraries(f,this.newSettings,this.editorMode),e.newSettings.value.ts&&e.newSettings.value.ts.enabled?window.app.$.editorTypescript.classList.add("active"):window.app.$.editorTypescript.classList.remove("active")),g=this,[4,c.createFrom(this.editorManager)]);case 1:return g.fullscreenEditorManager=m.sent(),h=window.crmEditPage.$.horizontalCenterer,i=h.getBoundingClientRect(),j=i.width+20,k=i.height,void 0===window.app.storageLocal.hideToolsRibbon?(browserAPI.storage.local.set({hideToolsRibbon:!1}),window.app.storageLocal.hideToolsRibbon=!1,window.doc.showHideToolsRibbonButton.classList.add("hidden")):window.app.storageLocal.hideToolsRibbon?window.doc.showHideToolsRibbonButton.classList.add("hidden"):window.doc.showHideToolsRibbonButton.classList.remove("hidden"),void 0===window.app.storageLocal.shrinkTitleRibbon?(browserAPI.storage.local.set({shrinkTitleRibbon:!1}),window.app.storageLocal.shrinkTitleRibbon=!1,window.setTransform(window.doc.shrinkTitleRibbonButton,"rotate(270deg)")):window.app.storageLocal.shrinkTitleRibbon?window.setTransform(window.doc.shrinkTitleRibbonButton,"rotate(90deg)"):window.setTransform(window.doc.shrinkTitleRibbonButton,"rotate(270deg)"),document.documentElement.style.overflow="hidden",c.style.display="-wekbit-flex",c.style.display="flex",this.fullscreenEditorManager.editor.layout(),$(c).animate({width:j,height:k,marginTop:0,marginLeft:0},{duration:500,easing:"easeOutCubic",step:function(){l.fullscreenEditorManager.editor.layout()},complete:function(){l.fullscreenEditorManager.editor.layout(),l.style.width="100vw",l.style.height="100vh",window.addCalcFn(window.app.$.fullscreenEditorHorizontal,"height","",!0),window.app.$.fullscreenEditorHorizontal.style.height="100vh",l.popInRibbons(),b(null)}}),[2];}})})})]})})},a.showOptions=function(){var a=this;if(this.optionsShown=!0,this.unchangedEditorSettings=$.extend(!0,{},window.app.settings.editor),this.fullscreen)return this.fillEditorOptions(window.app),void this._showFullscreenOptions();var b=this.getEditorInstance().editor.getDomNode().getBoundingClientRect().width,c=this.getEditorInstance().editor.getDomNode().getBoundingClientRect().height,d=Math.sqrt(b*b+c*c)+200,e=-d,f=2*d;this.$.bubbleCont.parentElement.style.width=b+"px",this.$.bubbleCont.parentElement.style.height=c+"px",this.$.editorOptionsContainer.style.width=b+"px",this.$.editorOptionsContainer.style.height=c+"px",this.$$("#editorThemeFontSizeInput").value=window.app.settings.editor.zoom,this.fillEditorOptions(this),$(this.$.settingsShadow).css({width:"50px",height:"50px",borderRadius:"50%",marginTop:"-25px",marginRight:"-25px"}).animate({width:f,height:f,marginTop:e,marginRight:e},{duration:500,easing:"linear",progress:function(b){a.$.editorOptionsContainer.style.marginLeft=-500-b.tweens[3].now+"px",a.$.editorOptionsContainer.style.marginTop=-b.tweens[2].now+"px"}})},a._hideFullscreenOptions=function(){window.setTransform(window.app.$.fullscreenSettingsContainer,"translateX(500px)"),window.setTimeout(function(){window.app.$.fullscreenEditorToggle.style.display="block"},500)},a.hideOptions=function(){var a=this;this.optionsShown=!1,this.fullscreen&&this._hideFullscreenOptions();this.$.editorFullScreen.style.display="block",$(this.$.settingsShadow).animate({width:0,height:0,marginTop:0,marginRight:0},{duration:500,easing:"linear",progress:function(b){a.$.editorOptionsContainer.style.marginLeft=-500-b.tweens[3].now+"px",a.$.editorOptionsContainer.style.marginTop=-b.tweens[2].now+"px"},complete:function(){var b=window.app.settings.editor.zoom,c=a.unchangedEditorSettings.zoom;a.unchangedEditorSettings.zoom=b,JSON.stringify(a.unchangedEditorSettings)!==JSON.stringify(window.app.settings.editor)&&a.reloadEditor(),b!==c&&window.app.updateEditorZoom(),a.fullscreen&&(a.$.settingsContainer.style.height="345px",a.$.settingsContainer.style.overflowX="hidden",a.$.bubbleCont.style.position="absolute",a.$.bubbleCont.style.zIndex="auto")}})},a.fillEditorOptions=function(a){if("script"===this.item.type){var b=this,c=a;c.$.keyBindingsTemplate.items=b.keyBindings,c.$.keyBindingsTemplate.render(),window.app.settings.editor.keyBindings=window.app.settings.editor.keyBindings||{goToDef:b.keyBindings[0].defaultKey,rename:b.keyBindings[1].defaultKey},Array.prototype.slice.apply(c.$.keyBindingsTemplate.querySelectorAll("paper-input")).forEach(function(a){a.setAttribute("data-prev-value",a.$$("input").value)})}"white"===window.app.settings.editor.theme?a.$.editorThemeSettingWhite.classList.add("currentTheme"):a.$.editorThemeSettingWhite.classList.remove("currentTheme"),"dark"===window.app.settings.editor.theme?a.$.editorThemeSettingDark.classList.add("currentTheme"):a.$.editorThemeSettingDark.classList.remove("currentTheme"),a.$.editorThemeFontSizeInput.$$("input").value=window.app.settings.editor.zoom||"100"},a._showFullscreenOptions=function(){window.app.$.fullscreenEditorToggle.style.display="none",window.setTransform(window.app.$.fullscreenSettingsContainer,"translateX(0)")},a.scrollbarsUpdate=function(a){a!==this.verticalVisible&&(this.buttonsContainer.style.right=a?"29px":"11px",this.verticalVisible=!this.verticalVisible)},(a.getEditorInstance=function(){return"script"===this.item.type?window.scriptEdit.fullscreen?window.scriptEdit.fullscreenEditorManager:window.scriptEdit.editorManager:window.stylesheetEdit.fullscreen?window.stylesheetEdit.fullscreenEditorManager:window.stylesheetEdit.editorManager},a.showCodeOptions=function(){window.useOptionsCompletions=!0;var a="string"===typeof this.item.value.options?this.item.value.options:JSON.stringify(this.item.value.options,null,"\t");this.editorManager.switchToModel("options",a,this.editorManager.EditorMode.JSON_OPTIONS)},a.hideCodeOptions=function(){window.useOptionsCompletions&&(window.useOptionsCompletions=!1)},a.getAutoUpdateState=function(){return"script"!==this.newSettings.type&&"stylesheet"!==this.newSettings.type||"local"===this.newSettings.nodeInfo.source?[!1,!0]:this.newSettings.nodeInfo&&this.newSettings.nodeInfo.source?[this.newSettings.nodeInfo.source.autoUpdate,!1]:[!0,!1]},a.setUpdateIcons=function(a,b){return b?void(this.$.updateIcon.style.display="none"):void(a?(this.$.updateEnabled.classList.remove("hidden"),this.$.updateDisabled.classList.add("hidden")):(this.$.updateEnabled.classList.add("hidden"),this.$.updateDisabled.classList.remove("hidden")))},a.initUI=function(){var a=this;this.$.dropdownMenu.addEventListener("expansionStateChange",function(b){var c=b.detail,d=c.state;"opening"===d?a.editorManager.setDefaultHeight():"closed"===d?a.editorManager.stopTempLayout():"opened"===d&&a.editorManager.setTempLayout()});var b=this.getAutoUpdateState(),c=b[0],d=b[1];this.setUpdateIcons(c,d)},a.toggleAutoUpdate=function(){("script"===this.newSettings.type||"stylesheet"===this.newSettings.type)&&"local"!==this.newSettings.nodeInfo.source&&this.newSettings.nodeInfo&&(this.newSettings.nodeInfo.source.autoUpdate=!this.newSettings.nodeInfo.source.autoUpdate,this.setUpdateIcons(this.newSettings.nodeInfo.source.autoUpdate,!1))},a._CEBIinit=function(){var a=this;window.addEventListener("resize",function(){a.fullscreen&&a.active&&a.fullscreenEditorManager.editor.layout()}),this.initUI()},a.properties={},a.savingInterval=0,a.active=!1,a.editorManager=null,a.fullscreenEditorManager=null,a.verticalVisible=!1,a.horizontalVisible=!1,a.settingsEl=null,a.buttonsContainer=null,a.editorHeight=0,a.editorWidth=0,a.showTriggers=!1,a.showContentTypeChooser=!1,a.optionsShown=!1,a.fullscreen=!1,a.preFullscreenEditorDimensions={},a.editorMode="main",a)}();a.CEB=b;window.codeEditBehavior={getActive:function(){return window.scriptEdit&&window.scriptEdit.active?window.scriptEdit:window.stylesheetEdit&&window.stylesheetEdit.active?window.stylesheetEdit:null},getEditor:function(){return this.getActive()&&this.getActive().editorManager}}})(CodeEditBehaviorNamespace||(CodeEditBehaviorNamespace={})),window.Polymer.CodeEditBehavior=window.Polymer.CodeEditBehavior||CodeEditBehaviorNamespace.CEB;var StylesheetEditElement,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};(function(a){a.stylesheetEditProperties={item:{type:Object,value:{},notify:!0}};var b=function(){function b(){}return b._getExportData=function(){var a={};return this.save(null,a),this.$.dropdownMenu.selected=0,a},b.exportStylesheetAsCRM=function(){window.app.editCRM.exportSingleNode(this._getExportData(),"CRM")},b.exportStylesheetAsUserscript=function(){window.app.editCRM.exportSingleNode(this._getExportData(),"Userscript")},b.exportStylesheetAsUserstyle=function(){window.app.editCRM.exportSingleNode(this._getExportData(),"Userstyle")},b.cancelChanges=function(){var a=this;this.fullscreen&&this.exitFullScreen(),window.setTimeout(function(){a.finishEditing(),window.externalEditor.cancelOpenFiles(),a.fullscreenEditorManager&&a.fullscreenEditorManager.destroy(),a.active=!1},this.fullscreen?500:0)},b.saveChanges=function(a){a.value.stylesheet=this.editorManager&&this.editorManager.editor&&this.editorManager.editor.getValue()||this.item.value.stylesheet,a.value.launchMode=this.$.dropdownMenu.selected,a.value.toggle=this.$.isTogglableButton.checked,a.value.defaultOn=this.$.isDefaultOnButton.checked,this.finishEditing(),window.externalEditor.cancelOpenFiles(),this.editorManager.destroy(),this.fullscreenEditorManager&&this.fullscreenEditorManager.destroy(),this.active=!1},b.reloadEditor=function(){if(this.editorManager)if("main"===this.editorMode)this.newSettings.value.stylesheet=this.editorManager.editor.getValue();else try{this.newSettings.value.options=JSON.parse(this.editorManager.editor.getValue())}catch(a){this.newSettings.value.options=this.editorManager.editor.getValue()}var a;if(a="main"===this.editorMode?this.newSettings.value.stylesheet:"string"===typeof this.newSettings.value.options?this.newSettings.value.options:JSON.stringify(this.newSettings.value.options),this.fullscreen){this.fullscreenEditorManager.reset();var b=this.fullscreenEditorManager.editor;this.fullscreenEditorManager.isDiff(b)||b.setValue(a)}else{this.editorManager.reset();var b=this.editorManager.editor;this.editorManager.isDiff(b)||b.setValue(a)}},b.editorLoaded=function(){var a=this,b=this.editorManager;b.getTypeHandler()[0].listen("metaChange",function(b,c){var d=b.content,e=c.content;if("main"===a.editorMode){var f=d.preprocessor&&d.preprocessor[0],g=e.preprocessor&&e.preprocessor[0];(f!==g&&("less"===f||"stylus"===f)&&"less"!==g&&"stylus"!==g||("less"===g||"stylus"===g)&&"less"!==f&&"stylus"!==f)&&a.editorManager.setLess("less"===g||"stylus"===g),a.$.editorStylusInfo.classList["stylus"===g?"remove":"add"]("hidden")}}),b.editor.getDomNode().classList.remove("stylesheet-edit-codeMirror"),b.editor.getDomNode().classList.add("script-edit-codeMirror"),b.editor.getDomNode().classList.add("small"),this.fullscreen&&(this.$.editorFullScreen.children[0].innerHTML="<path d=\"M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z\"/>")},b._getPreprocessor=function(a){var b=window.app.editCRM.getMetaTags(a);return b.preprocessor&&b.preprocessor[0]||"default"},b._loadEditor=function(a){return void 0===a&&(a=this.item.value.stylesheet),__awaiter(this,void 0,void 0,function(){var b,c,d,e;return __generator(this,function(f){switch(f.label){case 0:return b=$(this.$.editor),this.editorHeight=b.height(),this.editorWidth=b.width(),window.app.settings.editor||(window.app.settings.editor={theme:"dark",zoom:"100",keyBindings:{goToDef:"Ctrl-F12",rename:"Ctrl-F2"},cssUnderlineDisabled:!1,disabledMetaDataHighlight:!1}),c=this._getPreprocessor(a),d="stylus"===c||"less"===c?this.$.editor.EditorMode.LESS_META:this.$.editor.EditorMode.CSS_META,this.$.editorStylusInfo.classList["stylus"===c?"remove":"add"]("hidden"),e=this,[4,this.$.editor.create(d,{value:a,language:"css",theme:"dark"===window.app.settings.editor.theme?"vs-dark":"vs",wordWrap:"off",fontSize:14*(~~window.app.settings.editor.zoom/100),folding:!0})];case 1:return e.editorManager=f.sent(),this.editorLoaded(),[2];}})})},(b.init=function(){var a=this;this._init(),this._CEBIinit(),this.$.dropdownMenu.init(),this.$.exportMenu.init(),this.$.exportMenu.$.dropdownSelected.innerText="EXPORT AS",this.initDropdown(),this.selectorStateChange(0,this.newSettings.value.launchMode),window.app.$.editorToolsRibbonContainer.classList.remove("editingScript"),window.app.$.editorToolsRibbonContainer.classList.add("editingStylesheet"),window.stylesheetEdit=this,window.externalEditor.init(),window.app.storageLocal.recoverUnsavedData&&(browserAPI.storage.local.set({editing:{val:this.item.value.stylesheet,id:this.item.id,crmType:window.app.crmTypes}}),this.savingInterval=window.setInterval(function(){if(a.active&&a.editorManager){var b;try{b=a.editorManager.editor.getValue(),browserAPI.storage.local.set({editing:{val:b,id:a.item.id,crmType:window.app.crmTypes}})}catch(a){}}else browserAPI.storage.local.set({editing:!1}),window.clearInterval(a.savingInterval)},5e3)),this.active=!0,setTimeout(function(){a._loadEditor()},750)},b._showMainTab=function(){this.editorManager.switchToModel("default",this.newSettings.value.stylesheet,this.editorManager.EditorMode.CSS_META)},b._parseVar=function(a){var b,c,d=a.replace(/\n/g,"").split(" "),e=d[0],f=d[1],g=d.slice(2),h=g.join(" ").trim();if(0===h.indexOf("\"")||0===h.indexOf("'")){var i=h[0];b=h.slice(1,1+h.slice(1).indexOf(i))}else b=g[0];c=e.length+1+f.length+1+b.length+2;var j=a.replace(/\n/g,"").slice(c).trim();return{type:e,name:f,label:b,defaultValue:j}},b._metaTagVarTypeToCodeOptionType=function(a){return"text"===a?"string":"color"===a?"color":"checkbox"===a?"boolean":"select"===a?"choice":"?"},b._codeOptionTypeToMetaTagVarType=function(a){return"number"===a||"string"===a?"text":"boolean"===a?"checkbox":"choice"===a?"select":null},b._metaTagVarsToCodeOptions=function(a,b){var c=this;if("string"===typeof b)return b;var d=window.app.editCRM.getMetaTags(a),e=(d["var"]||[]).concat(d.advanced||[]);if(0===e.length)return null;var f,g={};return e.forEach(function(a){var d=c._parseVar(a),e=d.type,h=d.name,i=d.label,j=d.defaultValue,k=window.app.templates.mergeObjects(b[h]||{},{type:c._metaTagVarTypeToCodeOptionType(e),descr:i});switch(e){case"text":case"color":case"checkbox":f=b[h],f&&null===f.value&&(k.value=j);break;case"select":try{var l=JSON.parse(j);g[h]=Array.isArray(j)?window.app.templates.mergeObjects(k,{values:j.map(function(a){return-1<a.indexOf(":")?a.split(":")[0]:a}),selected:0}):window.app.templates.mergeObjects(k,{values:Object.getOwnPropertyNames(l).map(function(a){return l[a]}),selected:0})}catch(a){g[h]=window.app.templates.mergeObjects(k,{values:[],selected:0});break}}g[h]=k}),g},b._codeOptionsToMetaTagVars=function(a){var b=this;return"string"===typeof a?[]:Object.getOwnPropertyNames(a).map(function(c){var d,e=a[c],f=b._codeOptionTypeToMetaTagVarType(e.type);if(!f)return null;switch(e.type){case"number":d=void 0===e.defaultValue?e.value+"":e.defaultValue+"";break;case"color":case"string":d=void 0===e.defaultValue?e.value:e.defaultValue;break;case"boolean":d=d=void 0===e.defaultValue?~~e.value+"":~~e.defaultValue+"";break;case"choice":d=JSON.stringify(e.values);}return f+" "+c+" '"+e.descr+"' "+d}).filter(function(a){return!!a})},b.changeTabEvent=function(a){var b=window.app.util.findElementWithClassName(a,"editorTab"),c=b.classList.contains("mainEditorTab");if(c&&"main"!==this.editorMode){this.$.editorStylusInfo.classList["stylus"===this._getPreprocessor(this.newSettings.value.stylesheet)?"remove":"add"]("hidden");try{this.newSettings.value.options=JSON.parse(this.editorManager.editor.getValue())}catch(a){this.newSettings.value.options=this.editorManager.editor.getValue()}this.hideCodeOptions();var d=this.newSettings.value.stylesheet;if(0<window.app.editCRM.getMetaLines(d).length){var e=window.app.editCRM.getMetaIndexes(d),f=e.slice(-1)[0],g=window.app.editCRM.getMetaLinesForIndex(d,f).filter(function(a){return-1===a.indexOf("@var")&&-1===a.indexOf("@advanced")}).concat(this._codeOptionsToMetaTagVars(this.newSettings.value.options)),h=d.split("\n");h.splice.apply(h,[f.start,f.end-f.start].concat(g)),this.newSettings.value.stylesheet=h.join("\n")}this._showMainTab(),this.editorMode="main"}else if(!c&&"main"===this.editorMode){this.$.editorStylusInfo.classList.add("hidden"),this.newSettings.value.stylesheet=this.editorManager.editor.getValue(),this.showCodeOptions();var d=this.newSettings.value.stylesheet;0<window.app.editCRM.getMetaLines(d).length&&(this.newSettings.value.options=this._metaTagVarsToCodeOptions(this.newSettings.value.stylesheet,this.newSettings.value.options)),this.editorMode="options"}Array.prototype.slice.apply(window.stylesheetEdit.shadowRoot.querySelectorAll(".editorTab")).forEach(function(a){a.classList.remove("active")}),b.classList.add("active")},b.is="stylesheet-edit",b.behaviors=[window.Polymer.NodeEditBehavior,window.Polymer.CodeEditBehavior],b.properties=a.stylesheetEditProperties,b)}();a.STE=b,window.objectify?window.register(b):window.addEventListener("RegisterReady",function(){window.register(b)})})(StylesheetEditElement||(StylesheetEditElement={}));
var MenuEditElement;(function(a){a.menuEditProperties={item:{type:Object,value:{},notify:!0}};var b=function(){function b(){}return b.init=function(){this._init()},b.ready=function(){window.menuEdit=this},b.is='menu-edit',b.behaviors=[window.Polymer.NodeEditBehavior],b.properties=a.menuEditProperties,b}();a.ME=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(MenuEditElement||(MenuEditElement={}));
var DividerEditElement;(function(a){a.dividerEditProperties={item:{type:Object,value:{},notify:!0}};var b=function(){function b(){}return b.init=function(){this._init()},b.ready=function(){window.dividerEdit=this},b.is='divider-edit',b.behaviors=[window.Polymer.NodeEditBehavior],b.properties=a.dividerEditProperties,b}();a.DE=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(DividerEditElement||(DividerEditElement={}));
var TypeSwitcherElement;(function(a){var b=function(){function a(){}return a.ready=function(){this.remainingTypes=[],this.onReady()},a.onReady=function(){(this.isScript='script'===this.type)?(this.isLink=this.isMenu=this.isDivider=this.isStylesheet=!1,this.remainingTypes=['link','divider','menu','stylesheet']):(this.isLink='link'===this.type)?(this.isMenu=this.isDivider=this.isStylesheet=!1,this.remainingTypes=['script','divider','menu','stylesheet']):(this.isStylesheet='stylesheet'===this.type)?(this.isDivider=this.isMenu=!1,this.remainingTypes=['link','script','divider','menu']):(this.isMenu='menu'===this.type)?(this.isDivider=!1,this.remainingTypes=['link','script','divider','stylesheet']):(this.isDivider=!0,this.remainingTypes=['link','script','menu','stylesheet']),this.$.typeTxt.innerHTML=this.type},a.colorTypeChoices=function(){Array.prototype.slice.apply(this.shadowRoot.querySelectorAll('.typeSwitchChoice')).forEach(function(a){$(a).attr('type',$(a).children()[0].innerHTML)})},a.closeTypeSwitchContainer=function(a,b){var c=this;void 0===a&&(a=!1),$(this.parentNode.parentNode).stop().animate({height:50},{easing:'swing',duration:a?80:300,complete:function(){var a=c.shadowRoot.querySelector('#typeSwitchChoicesContainer'),d=c.shadowRoot.querySelector('#typeSwitchArrow');a.style.display='none',window.setTransform(d,'rotate(180deg)'),b&&b()}})},a.openTypeSwitchContainer=function(){this.colored||(this.colorTypeChoices(),this.colored=!0);var a=this.shadowRoot.querySelector('#typeSwitchChoicesContainer'),b=this.shadowRoot.querySelector('#typeSwitchArrow');a.style.display='block',window.setTransform(b,'rotate(180deg)'),$(this.parentNode.parentNode).stop().animate({height:250},{easing:'easeOutCubic',duration:300})},a.toggleTypeSwitch=function(){this.toggledOpen?this.closeTypeSwitchContainer():this.openTypeSwitchContainer(),this.toggledOpen=!this.toggledOpen},a.shadowColumns=function(a,b){$(a.querySelector('#itemCont')).animate({opacity:b?1:0.5}).each(function(){this.parentElement.shadow=!0});var c=$(a).next()[0];c&&this.async(function(){this.shadowColumns(c,b)},150)},a.matchesTypeScheme=function(a,b){switch(a){case'link':if(Array.isArray(b)){var c=!0;if(b.forEach(function(a){('object'!==('undefined'===typeof a?'undefined':babelHelpers['typeof'](a))||Array.isArray(a))&&(c=!1)}),c)return!0}break;case'script':case'stylesheet':return'object'===('undefined'===typeof b?'undefined':babelHelpers['typeof'](b))&&!Array.isArray(b);case'divider':case'menu':return null===b;}return!1},(a.changeType=function(a){var b=window.app.uploading.createRevertPoint(!1);window.app.editCRM.cancelAdding();var c;if('string'===typeof a)c=a;else{var d=window.app.util.getPath(a);c='SPAN'===d[0].tagName?d[0].innerHTML:d[0].children[0].innerHTML}var f=this.getRootNode().host,g=window.app.nodesById.get(f.item.id);f.item=g;var h=g.type;if(g.name==='My '+(h[0].toUpperCase()+h.slice(1))&&(g.name='My '+(c[0].toUpperCase()+c.slice(1))),'menu'===h?(g.menuVal=g.children,delete g.children):g[h+'Val']=g.value,g.type=c,'menu'===c&&(g.children=[]),g[c+'Val']&&this.matchesTypeScheme(c,g[c+'Val']))g.value=g[c+'Val'];else{var j;switch(g.type){case'link':g.triggers=g.triggers||[{url:'*://*.example.com/*',not:!1}],g.value=[{url:'https://www.example.com',newTab:!0}];break;case'script':j=j||g.triggers||[{url:'*://*.example.com/*',not:!1}],g.value=window.app.templates.getDefaultScriptValue();break;case'divider':g.value=null,g.triggers=g.triggers||[{url:'*://*.example.com/*',not:!1}];break;case'menu':g.value=null,g.triggers=g.triggers||[{url:'*://*.example.com/*',not:!1}];break;case'stylesheet':j=j||g.triggers||[{url:'*://*.example.com/*',not:!1}],g.value=window.app.templates.getDefaultStylesheetValue();}}f.type=g.type,f.calculateType(),this.onReady();var k,i=Array.prototype.slice.apply(this.shadowRoot.querySelectorAll('.typeSwitchChoice'));for(k=0;k<this.remainingTypes.length;k++)i[k].setAttribute('type',this.remainingTypes[k]);if('menu'===h){var l=this.parentElement.parentElement.parentNode.host.parentElement,m=l.parentElement.parentElement;m=$(m).next()[0],this.shadowColumns(m,!1),window.app.shadowStart=l.index+1}this.closeTypeSwitchContainer(!0),window.app.upload(),window.app.uploading.showRevertPointToast(b,1.5e5)},a.is='type-switcher',a.isLink=!1,a.isScript=!1,a.isDivider=!1,a.isMenu=!1,a.isStylesheet=!1,a.toggledOpen=!1,a.colored=!1,a)}();a.TS=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(TypeSwitcherElement||(TypeSwitcherElement={}));
var PaperDropdownBehaviorNamespace;(function(a){a.paperDropdownBehaviorProperties={raised:{type:Boolean,value:!1},overflowing:{type:Boolean,value:!1},unselectable:{type:Boolean,value:!1}};var b=function(){function b(){}return b._addListener=function(a,b,c){for(var d=!1,e=0;e<this._listeners.length;e++)this._listeners[e].listener===a&&this._listeners[e].id===b&&(d=!0);d||this._listeners.push({id:b,listener:a,thisArg:c})},b.onValueChange=function(){},b._fireListeners=function(a){var b=this,c=this.selected;this._listeners.forEach(function(d){d.id===b.id&&d.listener.apply(d.thisArg,[a,c])}),this.onValueChange(a,c)},b._getMenuContent=function(){return this.getMenu().$.content.assignedNodes()[0]},b.querySlot=function(a,b,c){void 0===b&&(b=null),void 0===c&&(c='slot');var d='$$'in a?a.$$:a.querySelector,e=d.bind(a)(c).assignedNodes().filter(function(a){return a.nodeType!==a.TEXT_NODE});if(!b)return e;var f=e.map(function(a){return a.querySelectorAll(b)}).reduce(function(a,b){var c=[];return a&&(c=c.concat(Array.prototype.slice.apply(a))),b&&(c=c.concat(Array.prototype.slice.apply(b))),c});return Array.isArray(f)?f:Array.prototype.slice.apply(f)},b.doHighlight=function(){var a=this,b=this._getMenuContent(),c=Array.prototype.slice.apply(b.querySelectorAll('paper-item'));c.forEach(function(b,c){var d=a.querySlot(b)[0];if(d){var e=Array.isArray(a.selected)?a.selected:[a.selected];d.style.opacity=-1<e.indexOf(c)?'1':'0'}})},b.refreshListeners=function(){var a=this,b=this._getMenuContent(),c=Array.prototype.slice.apply(b.querySelectorAll('paper-item')),d=this._elementListeners;this._elementListeners=[],c.forEach(function(b,c){d.forEach(function(a){b.removeEventListener('click',a)});var e=function(){var b=a.selected;a.unselectable||a.set('selected',c),setTimeout(function(){a.unselectable||a.doHighlight(),a._fireListeners(b),a._dropdownSelectChange&&a._dropdownSelectChange(a),a.close()},50)};a._elementListeners.push(e),b.addEventListener('click',e)})},b.getMenu=function(){return this._paperMenu?this._paperMenu:this._paperMenu=this._getMenu()},b.attached=function(){var a=this,b=this;this._paperDropdownEl=this,this._dropdownSelectedCont=this.$.dropdownSelectedCont,'false'===this.getAttribute('indent')&&(this.indent=!1),this.raised&&window.requestAnimationFrame(function(a){b._animateBoxShadowIn(a,b)}),this._expanded=!0;var c=window.setInterval(function(){if(a.getMenu()&&a._getMenuContent()){var b=a._getMenuContent();a.overflowing&&(b.style.position='absolute'),b.style.backgroundColor='white',window.clearInterval(c),a.close(),a.refreshListeners();var d=window.setInterval(function(){a._getMenuContent().querySelectorAll('paper-item')[0]&&0<a.querySlot(a._getMenuContent().querySelectorAll('paper-item')[0]).length&&(a.doHighlight(),window.clearInterval(d))},250)}},250)},b._animateBoxShadowIn=function(a,b){if(b._startTime||(b._startTime=a),a-100<b._startTime){var c=(a-b._startTime)/100,d=2*c;b._getMenuContent().style.boxShadow='0 '+d+'px '+d+'px 0 rgba(0,0,0,0.14), 0 '+c+'px '+5*c+'px 0 rgba(0,0,0,0.12), 0 '+3*c+'px '+c+'px '+-d+'px rgba(0,0,0,0.2)',b.indent||(b._dropdownSelectedCont.style.marginLeft=15*c+'px'),window.requestAnimationFrame(function(a){b._animateBoxShadowIn(a,b)})}else b.indent||(b._dropdownSelectedCont.style.marginLeft='15px'),b._startTime=null,b._getMenuContent().style.boxShadow='0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2)'},b._animateBoxShadowOut=function(a,b){if(b._startTime||(b._startTime=a),a-100<b._startTime){var c=1-(a-b._startTime)/100,d=2*c;b.getMenu().style.boxShadow='0 '+d+'px '+d+'px 0 rgba(0,0,0,0.14), 0 '+c+'px '+5*c+'px 0 rgba(0,0,0,0.12), 0 '+3*c+'px '+c+'px '+-d+'px rgba(0,0,0,0.2)',b.indent||(b._dropdownSelectedCont.style.marginLeft=15*c+'px'),window.requestAnimationFrame(function(a){b._animateBoxShadowOut(a,b)})}else b.indent||(b._dropdownSelectedCont.style.marginLeft='0'),b._startTime=null,b.getMenu().style.boxShadow='rgba(0, 0, 0, 0) 0 0 0 0, rgba(0, 0, 0, 0) 0 0 0 0, rgba(0, 0, 0, 0) 0 0 0 0',b._paperDropdownEl.$.dropdownArrow&&window.setTransform(b._paperDropdownEl.$.dropdownArrow,'rotate(90deg)')},b.open=function(){var a=this;this.onopen&&this.onopen(),this.fire('expansionStateChange',{state:'opening'}),this._expanded||(this._expanded=!0,!this.raised&&window.requestAnimationFrame(function(b){a._animateBoxShadowIn(b,a)}),setTimeout(function(){var b=a._getMenuContent();b.style.display='block';var c={height:b.scrollHeight};a.overflowing&&(c.marginBottom=-(b.scrollHeight+14)),$(b).stop().animate(c,{easing:'easeOutCubic',duration:300,complete:function(){a.$.dropdownArrow&&window.setTransform(a.$.dropdownArrow,'rotate(270deg)'),a.fire('expansionStateChange',{state:'opened'})}})},100))},b.close=function(){var a=this;return new Promise(function(b){if(a._expanded){a._expanded=!1;var c={height:0};a.overflowing&&(c.marginBottom=-15),a.fire('expansionStateChange',{state:'closing'}),$(a._getMenuContent()).stop().animate(c,{easing:'swing',duration:300,complete:function(){a._getMenuContent().style.display='none',a.raised||(window.requestAnimationFrame(function(b){a._animateBoxShadowOut(b,a)}),a.fire('expansionStateChange',{state:'closed'}),b(null))}})}else b(null)})},b._toggleDropdown=function(){this.disabled||(this._expanded?this.close():this.open())},b.getSelected=function(){return this.shadowRoot.querySelectorAll('.iron-selected.addLibrary')&&this.selected.pop(),'number'===typeof this.selected?[this.selected]:this.selected},b.disable=function(){this.disabled=!0,this._expanded&&this.close&&this.close(),this.$.dropdownSelected.style.color='rgb(176, 220, 255)'},(b.enable=function(){this.disabled=!1,this.$.dropdownSelected.style.color='rgb(38, 153, 244)'},b.ready=function(){this._listeners=[]},b.properties=a.paperDropdownBehaviorProperties,b._startTime=null,b._paperDropdownEl=null,b._paperMenu=null,b._dropdownSelectedCont=null,b._expanded=!1,b.indent=!0,b.disabled=!1,b._elementListeners=[],b)}();a.PDB=b,window.Polymer.PaperDropdownBehavior=b})(PaperDropdownBehaviorNamespace||(PaperDropdownBehaviorNamespace={}));
var PaperDropdownMenuElement;(function(a){a.paperDropdownMenuProperties={selected:{type:Number,reflectToAttribute:!0,notify:!0},label:{type:String,notify:!0,value:''},fancylabel:{type:Boolean,value:!1},subtext:{type:String,value:''},fallback:{type:String,value:''},updater:{type:Number,value:0,notify:!0},inline:{type:Boolean,value:!1,notify:!0},dropdownraised:{type:Boolean,value:!1,notify:!0}};var b=function(){function b(){}return b._hasNoLabel=function(a){return!(a&&''!==a)},b._hasNoSubtext=function(a){return!(a&&''!==a)},b._hasFancyLabel=function(){return!!this.fancylabel},b.updateSelectedContent=function(){this.updater+=1},b._getSelectedValue=function(){var a=this.$.menuSlot.assignedNodes()[0];if(!a)return this.fallback;var b=a.querySelectorAll('paper-item');return b[this.selected]&&b[this.selected].children[1]&&b[this.selected].children[1].innerHTML||this.fallback},b.init=function(){this.refreshListeners(),this.doHighlight()},(b._getMenu=function(){return this.$.menuSlot.assignedNodes()[0]},b.attached=function(){null!==this.getAttribute('init')&&this.init()},b.is='paper-dropdown-menu',b.behaviors=[window.Polymer.PaperDropdownBehavior],b.properties=a.paperDropdownMenuProperties,b)}();a.PDM=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(PaperDropdownMenuElement||(PaperDropdownMenuElement={}));
var PaperLibrariesSelectorElement,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};(function(a){a.paperLibrariesSelectorProperties={usedlibraries:{type:Array,notify:!0},libraries:{type:Array,notify:!0},selected:{type:Array,notify:!0},installedLibraries:{type:Array},mode:{type:String,value:"main"},noroot:{type:Boolean,value:!1}};var b=function(){function b(){}return b.ready=function(){var a=this;browserAPI.storage.local.get().then(function(b){b.libraries?a.installedLibraries=b.libraries:(a.installedLibraries=[],browserAPI.storage.local.set({libaries:a.installedLibraries}))}),browserAPI.storage.onChanged.addListener(function(b,c){"local"===c&&b.libraries&&(a.installedLibraries=b.libraries.newValue)})},b.sortByName=function(a,b){return a.name[0].toLowerCase().charCodeAt(0)-b.name[0].toLowerCase().charCodeAt(0)},b.categorizeLibraries=function(){var a=[],b={};return this.usedlibraries.forEach(function(c){c.name?b[c.name.toLowerCase()]=!0:a.push(c)}),{anonymous:a,selectedObj:b}},b._getLibraries=function(a){var b=[];return this.installedLibraries.forEach(function(c){var d={};d.name=c.name,d.isLibrary=!0,d.url=c.url,a[c.name.toLowerCase()]?(d.classes="library iron-selected",d.selected="true"):(d.classes="library",d.selected="false"),b.push(d)}),b.sort(this.sortByName),b},b._setSelectedLibraries=function(a){var b=[];a.forEach(function(a,c){"true"===a.selected&&b.push(c)}),this.selected=b},b.init=function(a){return void 0===a&&(a=!1),__awaiter(this,void 0,void 0,function(){var b,c,d,e,f;return __generator(this,function(g){switch(g.label){case 0:return this.noroot||!this._expanded||a||this.close(),this.noroot&&this.open(),a?[4,this.close()]:[3,2];case 1:g.sent(),this.open(),g.label=2;case 2:return b=this.categorizeLibraries(),c=b.anonymous,d=b.selectedObj,e=this._getLibraries(d),this._setSelectedLibraries(e),f=[],c.forEach(function(a){var b={isLibrary:!0,name:a.url+" (anonymous)",classes:"library iron-selected anonymous",selected:"true"};f.push(b)}),f.sort(this.sortByName),e=e.concat(f),e.push({name:"Add your own",classes:"library addLibrary",selected:"false",isLibrary:!1}),this.libraries=e,[2];}})})},b._resetAfterAddDecision=function(){for(var a=0,b=this._eventListeners;a<b.length;a++){var c=b[a],d=c.event,e=c.listener,f=c.target;f.removeEventListener(d,e)}window.doc.addLibraryUrlInput.invalid=!1},b.confirmLibraryFile=function(a,b,c,d){var e=this;window.doc.addLibraryProcessContainer.style.display="none",window.setDisplayFlex(window.doc.addLibraryLoadingDialog),setTimeout(function(){window.doc.addLibraryConfirmationInput.value=c;var f=function(){window.doc.addLibraryConfirmationInput.value="",e.addLibraryFile(a,b,c,d),e._resetAfterAddDecision()},g=function(){window.doc.addLibraryConfirmationContainer.style.display="none",window.doc.addLibraryProcessContainer.style.display="block",e._resetAfterAddDecision(),window.doc.addLibraryConfirmationInput.value=""};window.doc.addLibraryConfirmAddition.addEventListener("click",f),window.doc.addLibraryDenyConfirmation.addEventListener("click",g),e._eventListeners.push({target:window.doc.addLibraryConfirmAddition,event:"click",listener:f},{target:window.doc.addLibraryDenyConfirmation,event:"click",listener:g}),window.doc.addLibraryLoadingDialog.style.display="none",window.doc.addLibraryConfirmationContainer.style.display="block"},250)},b._addLibraryToState=function(a,b,c,d){this.installedLibraries.push({name:a,code:c,url:d,ts:{enabled:b,code:{}}});var e="main"===this.mode?this._srcNode.value.libraries:this._srcNode.value.backgroundLibraries;e||("main"===this.mode?this._srcNode.value.libraries=[]:this._srcNode.value.backgroundLibraries=[]),e.push({name:a,url:d})},b._hideElements=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=0;c<a.length;c++)window.doc[a[c]].style.display="none"},b._showElements=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=0;c<a.length;c++)window.doc[a[c]].style.display="block"},b._showElementsFlex=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=0;c<a.length;c++)window.setDisplayFlex(window.doc[a[c]])},b._setLibraries=function(a){browserAPI.storage.local.set({libraries:a}),browserAPI.runtime.sendMessage({type:"updateStorage",data:{type:"libraries",libraries:a}})},b.addLibraryFile=function(a,b,c,d){return void 0===d&&(d=null),__awaiter(this,void 0,void 0,function(){var e,f,g=this;return __generator(this,function(h){switch(h.label){case 0:return window.doc.addLibraryConfirmationContainer.style.display="none",window.setDisplayFlex(window.doc.addLibraryLoadingDialog),d?[4,new Promise(function(a){window.setTimeout(function(){a(null)},250)})]:[3,2];case 1:h.sent(),h.label=2;case 2:return this._addLibraryToState(a,b,c,d),this._setLibraries(this.installedLibraries),this.splice("libraries",this.libraries.length-1,0,{name:a,classes:"library iron-selected",selected:"true",isLibrary:"true"}),e=$(this.$.slotContent),e.animate({height:e[0].scrollHeight},{duration:250,easing:"swing"}),this._hideElements("addLibraryLoadingDialog","addLibraryConfirmationContainer","addLibraryProcessContainer","addLibraryDialogSuccesCheckmark"),this._showElements("addLibraryDialogSucces"),$(window.doc.addLibraryDialogSucces).animate({backgroundColor:"rgb(38,153,244)"},{duration:300,easing:"easeOutCubic",complete:function(){g._showElements("addLibraryDialogSuccesCheckmark"),window.doc.addLibraryDialogSuccesCheckmark.classList.add("animateIn"),setTimeout(function(){window.doc.addLibraryDialog.toggle(),g._hideElements("addLibraryDialogSucces"),g._showElementsFlex("addLibraryLoadingDialog")},2500)}}),f=this.$.slotContent,f.style.height=~~f.style.height.split("px")[0]+48+"px",this.init(!0),[2];}})})},b._getStatusCodeDescr=function(a){switch((a+"")[0]){case"2":return"Success";case"3":return"Redirect";case"4":return 400===a?"Bad request":401===a?"Unauthorized":403===a?"Forbidden":404===a?"Not ound":408===a?"Timeout":null;case"5":return"Server error";case"0":case"1":default:return null;}},b._addLibraryHandler=function(){for(var a=this,b=window.doc.addedLibraryName,c=b.$$("input").value,d=!1,e=0;e<this.installedLibraries.length;e++)this.installedLibraries[e].name===c&&(d=!0);if(""===c||d)b.errorMessage=d?"That name is already taken":"Please enter a name",b.invalid=!0;else if(b.invalid=!1,"url"===window.doc.addLibraryRadios.selected){var f=window.doc.addLibraryUrlInput,g=f.$$("input").value;"/"===g[0]&&"/"===g[1]&&(g="http:"+g),window.app.util.xhr(g,!1).then(function(b){a.confirmLibraryFile(c,window.doc.addLibraryIsTS.checked,b,g)})["catch"](function(b){var c=a._getStatusCodeDescr(b),d=c?"Failed with status code "+b+" \""+c+"\"":"Failed with status code "+b+"\";";window.app.util.showToast(d),f.setAttribute("invalid","true")})}else this.addLibraryFile(c,window.doc.addLibraryIsTS.checked,window.doc.addLibraryManualInput.$$("iron-autogrow-textarea").$$("textarea").value)},b._addNewLibrary=function(){window.doc.addedLibraryName.$$("input").value="",window.doc.addLibraryUrlInput.$$("input").value="",window.doc.addLibraryManualInput.$$("iron-autogrow-textarea").$$("textarea").value="",window.doc.addLibraryIsTS.checked=!1,this._showElements("addLibraryProcessContainer"),this._hideElements("addLibraryLoadingDialog","addLibraryConfirmationContainer","addLibraryDialogSucces"),window.doc.addedLibraryName.invalid=!1,window.doc.addLibraryDialog.open();var a=this._addLibraryHandler.bind(this);window.app.$.addLibraryButton.addEventListener("click",a),this._eventListeners.push({target:window.app.$.addLibraryButton,listener:a,event:"click"})},b._handleCheckmarkClick=function(a){var b=a.dataLib,c=a.classList.contains("iron-selected")?"removeMetaTags":"addMetaTags",d="main"===this.mode?window.scriptEdit.newSettings.value.libraries:window.scriptEdit.newSettings.value.backgroundLibraries;if("addMetaTags"===c)d.push({name:b.name||null,url:b.url}),a.classList.add("iron-selected"),a.setAttribute("aria-selected","true"),a.querySelector(".menuSelectedCheckmark").style.opacity="1";else{for(var e=-1,f=0;f<d.length;f++)if(d[f].url===b.url&&d[f].name===b.name){e=f;break}d.splice(e,1),a.classList.remove("iron-selected"),a.removeAttribute("aria-selected"),a.querySelector(".menuSelectedCheckmark").style.opacity="0"}var g=window.scriptEdit.editorManager.getModel("default"),h=window.scriptEdit.editorManager.getModel("background"),i=window.scriptEdit.editorManager.CustomEditorModes.TS_LIBRARIES_META;"object"===babelHelpers["typeof"](g.editorType)&&g.editorType.mode===i&&g.handlers[0].updateLibraries(),h&&"object"===babelHelpers["typeof"](h.editorType)&&h.editorType.mode===i&&h.handlers[0].updateLibraries()},b._click=function(a){var b=window.app.util.findElementWithTagname(a,"paper-item");b.classList.contains("removeLibrary")||(b.classList.contains("addLibrary")?this._addNewLibrary():"main"===this.mode&&this._handleCheckmarkClick(b))},b._getInstalledLibrary=function(a){return new Promise(function(b){browserAPI.storage.local.get().then(function(c){for(var d,e=c.libraries,f=0,g=e;f<g.length;f++)d=g[f],d.name===a.name&&b(d);b(null)})})},b._revertToNormalEditor=function(){window.app.$.ribbonScriptName.innerText=this._editingInstance.name,window.app.$.fullscreenEditorToggle.style.display="block",this._editingInstance.wasFullscreen||window.scriptEdit.exitFullScreen()},b._discardLibEditChanges=function(){this._revertToNormalEditor()},b._saveLibEditChanges=function(){return __awaiter(this,void 0,void 0,function(){var a,b,c=this;return __generator(this,function(){return a=window.scriptEdit.fullscreenEditorManager.editor.getValue(),b=this._editingInstance.library,browserAPI.storage.local.get().then(function(d){for(var e,f=d.libraries,g=0,h=f;g<h.length;g++)e=h[g],e.name===b.name&&(e.code=a);c._setLibraries(f)}),this._revertToNormalEditor(),[2]})})},b._genOverlayWidget=function(){var a=this,b=document.createElement("div");b.style.backgroundColor="white",b.style.padding="10px",window.setDisplayFlex(b);var c=document.createElement("paper-button");c.innerText="Cancel";var d=document.createElement("paper-button");d.innerText="Save",d.style.marginLeft="15px",c.addEventListener("click",function(){a._discardLibEditChanges()}),d.addEventListener("click",function(){a._saveLibEditChanges()}),b.appendChild(c),b.appendChild(d);var e=window.scriptEdit.fullscreenEditorManager.editor;window.scriptEdit.fullscreenEditorManager.isDiff(e)||e.addOverlayWidget({getId:function(){return"library.exit.buttons"},getDomNode:function(){return b},getPosition:function(){return{preference:monaco.editor.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}}})},b._openLibraryEditor=function(a){return __awaiter(this,void 0,void 0,function(){var b,c,d,e;return __generator(this,function(f){switch(f.label){case 0:return b=window.scriptEdit.fullscreen,c=window.app.$.ribbonScriptName.innerText,this._editingInstance={wasFullscreen:b,name:c,library:a},window.app.$.ribbonScriptName.innerText="Editing library "+a.name,[4,window.scriptEdit.enterFullScreen()];case 1:return f.sent(),[4,this._getInstalledLibrary(a)];case 2:return d=f.sent(),e=d.ts&&d.ts.enabled,window.scriptEdit.fullscreenEditorManager.switchToModel("libraryEdit",d.code,e?window.scriptEdit.fullscreenEditorManager.EditorMode.TS:window.scriptEdit.fullscreenEditorManager.EditorMode.JS),window.app.$.fullscreenEditorToggle.style.display="none",this._genOverlayWidget(),[2];}})})},b._edit=function(a){var b=window.codeEditBehavior.getEditor();if(b.isTextarea(b.getEditorAsMonaco()))return void window.app.util.showToast("Please update your chrome (at least chrome 30) to use this feature");var c=null;c="path"===a.target.tagName.toLowerCase()?a.target.parentElement.parentElement.parentElement:"svg"===a.target.tagName.toLowerCase()?a.target.parentElement.parentElement:a.target.parentElement;var d=c.dataLib;this._openLibraryEditor(d)},b._remove=function(a){var b=null;b="path"===a.target.tagName.toLowerCase()?a.target.parentElement.parentElement.parentElement:"svg"===a.target.tagName.toLowerCase()?a.target.parentElement.parentElement:a.target.parentElement;var c=b.dataLib;browserAPI.runtime.sendMessage({type:"resource",data:{type:"remove",name:c.name,url:c.url,scriptId:window.app.scriptItem.id}}),this.splice("libraries",this.libraries.indexOf(c),1);var d=this.$.dropdown;d.style.height=~~d.style.height.split("px")[0]-48+"px"},b.updateLibraries=function(a,b,c){void 0===c&&(c="main"),this.set("usedlibraries",a),this._srcNode=b,this.mode=c,this.init()},(b._getMenu=function(){return this.$.dropdown},b.is="paper-libraries-selector",b.properties=a.paperLibrariesSelectorProperties,b._editingInstance=null,b._eventListeners=[],b._srcNode=null,b.behaviors=[window.Polymer.PaperDropdownBehavior],b)}();a.PLS=b,window.objectify?window.register(b):window.addEventListener("RegisterReady",function(){window.register(b)})})(PaperLibrariesSelectorElement||(PaperLibrariesSelectorElement={}));
var PaperGetPagePropertiesElement;(function(a){a.paperGetPagePropertiesProperties={selected:{type:Array,refleftToAttribute:!0,notify:!0}};var b=function(){function a(){}return a.sendData=function(a){this.listener(a)},a._click=function(a){var b=a.target.getAttribute('id').split('paperGetProperty')[1];'Selection'===b?this.sendData('crmAPI.getSelection();'):'Url'===b?this.sendData('window.location.href;'):'Host'===b?this.sendData('window.location.host;'):'Path'===b?this.sendData('window.location.path;'):'Protocol'===b?this.sendData('window.location.protocol;'):'Width'===b?this.sendData('window.innerWidth;'):'Height'===b?this.sendData('window.innerHeight;'):'Pixels'===b?this.sendData('window.scrollY;'):'Title'===b?this.sendData('document.title;'):'Clicked'===b?this.sendData('crmAPI.contextData.target;'):void 0},a._menuClick=function(a){-1<window.app.util.getPath(a).indexOf(this.$.dropdown)||this.$.dropdown._toggleDropdown()},a.init=function(a){this.listener=a},a.ready=function(){var a=this;this.selected=[],this.addEventListener('click',function(b){a._menuClick(b)}),this.options=[{name:'Selection',id:'paperGetPropertySelection'},{name:'Url',id:'paperGetPropertyUrl'},{name:'Host',id:'paperGetPropertyHost'},{name:'Path',id:'paperGetPropertyPath'},{name:'Protocol',id:'paperGetPropertyProtocol'},{name:'Width',id:'paperGetPropertyWidth'},{name:'Height',id:'paperGetPropertyHeight'},{name:'Pixels Scrolled',id:'paperGetPropertyPixels'},{name:'Title',id:'paperGetPropertyTitle'},{name:'Clicked Element',id:'paperGetPropertyClicked'}]},(a._getMenu=function(){return this.$.menu},a.is='paper-get-page-properties',a.options=[],a.listener=function(){},a)}();a.PGPP=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(PaperGetPagePropertiesElement||(PaperGetPagePropertiesElement={}));
var PaperSearchWebsiteDialog,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};(function(a){a.paperSearchWebsiteDialogProperties={selectedOption:{type:String,value:"url",notify:!0},selectedIsUrl:{type:Boolean,computed:"isSelectedUrl(selectedOption)",notify:!0},searchList:{type:Array,value:[],notify:!0},chosenUrl:{type:String,value:"",notify:!0},searchQuery:{type:String,value:"",notify:!0},searchTestResult:{type:String,value:"",computed:"getQueryResult(searchQuery, chosenUrl)",notify:!0},disableManualButton:{type:Boolean,value:!1,notify:!0}};var b=function(){function b(){}return b.getQueryResult=function(a,b){return b.replace(/%s/g,a)},b.isSelectedUrl=function(a){return"url"===a},b.hideAllWindows=function(a){var b=this;this.windows.forEach(function(c){c!==a&&(b.$[c].style.display="none",b.$[c].classList.remove("visible"))})},b.goBackWindow=function(){var a=this.windows[this.windowPath[this.windowPath.length-2]];this.windowPath.pop(),this.hideAllWindows(a),this.$[a].style.display="block",this.$[a].classList.add("visible"),this.fit()},b.createSearchWebsiteLinkNode=function(){window.app.uploading.createRevertPoint(),window.app.crm.add(window.app.templates.getDefaultLinkNode({id:window.app.generateItemId(),name:"Search "+new URL(this.chosenUrl).hostname+" for %s",value:[{url:this.chosenUrl,newTab:"currentTab"!==this.$.howToOpenLink.selected}]}))},b.applySearchWebsite=function(){"script"===this.outputType?this.insertCode():this.createSearchWebsiteLinkNode()},b.switchToWindow=function(a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(b){switch(b.label){case 0:return(this.hideAllWindows(a),"successWindow"!==a)?[3,2]:(this.$.successWindow.setAttribute("style","display:block;"),this.$.successWindow.classList.add("visible"),this.$.successWindow.querySelector(".checkmark").classList.add("animateIn"),$(this.$.successWindow).animate({backgroundColor:"rgb(38,153,244)"},{duration:300,easing:"easeOutCubic"}),this.applySearchWebsite(),[4,window.app.util.wait(2500)]);case 1:return b.sent(),this.doHide(),[3,3];case 2:this.$[a].style.display="block",this.$[a].classList.add("visible"),b.label=3;case 3:return this.windowPath.push(this.windows.indexOf(a)),this.fit(),[2];}})})},b.doHide=function(){var a=this;this.hide(),setTimeout(function(){a.$.successWindow.querySelector(".checkmark").classList.remove("animateIn"),a.switchToWindow("initialWindow")},500)},b.switchWindow=function(a){var b=window.app.util.findElementWithTagname(a,"paper-button");this.switchToWindow(b.getAttribute("window"))},b.loadWindow=function(a,b){var c=this,d=this.$$("paper-spinner");d.active=!0,this.hideAllWindows("loadingWindow"),this.$.loadingWindow.style.display="block",this.fit(),b.then(function(){c.$.manualInputListChoiceInput.invalid=!1,c.switchToWindow(a),d.active=!1},function(){c.$.manualInputListChoiceInput.invalid=!0,d.active=!1,c.switchToWindow("manuallyInputSearchWebsiteWindow")})},b.insertCode=function(){var a="var search = crmAPI.getSelection() || prompt('Please enter a search query');\nvar url = '"+this.chosenUrl+"';\nvar toOpen = url.replace(/%s/g,search);\n"+("currentTab"===this.$.howToOpenLink.selected?"location.href = toOpen;":"window.open(toOpen, '_blank');");window.scriptEdit.insertSnippet(window.scriptEdit,a,!0)},b.backFromManualInput=function(){this.$.manualInputListChoiceInput.value="",this.goBackWindow()},b.processSearchEngines=function(){var a=this;return new Promise(function(b,c){var d=a.$.manualInputListChoiceInput.$$("iron-autogrow-textarea").$$("textarea").value;try{var e=JSON.parse(d);0===e.length?c(new Error("data was invalid")):(a.disableManualButton=!0,a.searchList=e,b("success"))}catch(a){c(new Error("data was invalid"))}})},b.processManualInput=function(){this.selectedIsUrl?(this.chosenUrl=this.$.manualInputURLInput.$$("input").value.replace(/custom( )?[rR]ight( )?(-)?[cC]lick( )?[mM]enu/g,"%s"),this.switchToWindow("confirmationWindow")):this.loadWindow("processedListWindow",this.processSearchEngines())},b.applyDefaultsUrls=function(a){switch(this.$.searchWebsitesRadioGroup.selected){case"google":this.chosenUrl="https://www.google.com/search?q=%s";break;case"wikipedia":this.chosenUrl="http://en.wikipedia.org/w/index.php?title=Special:Search&search=%s";break;case"amazon":this.chosenUrl="http://www.amazon.com/s/?field-keywords=%s";break;case"youtube":this.chosenUrl="https://www.youtube.com/results?search_query=%s";}this.switchWindow(a)},b.confirmManualSearchListInput=function(){var a=this.$.listInputSearchList.querySelector("paper-radio-button[checked]");return a?void(this.chosenUrl=a.url,this.switchToWindow("confirmationWindow")):void window.app.util.showToast("Please select something")},b.cancelAllRadiobuttons=function(a){var b=this,c=a.target;this.async(function(){var d=b.$.listInputSearchList.querySelector("paper-radio-button[checked]");d&&(d.checked=!1);var e=window.app.util.findElementWithTagname({path:a.path,Aa:a.Aa,target:c},"paper-radio-button");e&&(e.checked=!0,b.disableManualButton=!1)},0)},b.confirmInitialChoice=function(){"defaults"===this.$.initialWindowChoicesCont.selected?this.switchToWindow("chooseDefaultSearchWindow"):this.switchToWindow("manuallyInputSearchWebsiteWindow")},b.clear=function(){this.$.initialWindowChoicesCont.selected="manual",this.$.manualInputURLInput.value="",this.$.queryInput.value="",this.switchToWindow("initialWindow"),this.searchList=[]},b.ready=function(){this.$.paperSearchWebsiteDialog.addEventListener("iron-overlay-closed ",this.clear)},b.init=function(){this.$.manualInputSavedChoice.disabled="chrome"!==BrowserAPI.getBrowser(),this.clear(),this.fit()},b.setOutputType=function(a){this.outputType=a},b.opened=function(){return this.$.paperSearchWebsiteDialog.opened},b.toggle=function(){this.$.paperSearchWebsiteDialog.toggle()},b.show=function(){this.$.paperSearchWebsiteDialog.open()},b.hide=function(){this.$.paperSearchWebsiteDialog.close()},b.fixFit=function(){var a=this.$.manualInputListChoiceInput.$$("paper-input-container");a.style.height="200px",this.fit(),a.style.height="auto",this.fitted=!1},b.fixOnChange=function(){this.fitted||(this.fit(),this.fitted=!0)},(b.fit=function(){this.$.paperSearchWebsiteDialog.fit()},b.is="paper-search-website-dialog",b.windowPath=[0],b.fitted=!0,b.outputType="script",b.windows=["initialWindow","chooseDefaultSearchWindow","manuallyInputSearchWebsiteWindow","processedListWindow","confirmationWindow","howToOpenWindow","successWindow","loadingWindow"],b.properties=a.paperSearchWebsiteDialogProperties,b)}();a.PSWD=b,window.objectify?window.register(b):window.addEventListener("RegisterReady",function(){window.register(b)})})(PaperSearchWebsiteDialog||(PaperSearchWebsiteDialog={}));
var UseExternalEditorElement,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},EXTERNAL_EDITOR_APP_ID="hkjjmhkhhlmkflpihbikfpcojeofbjgn";(function(a){var b=function(){function a(){}return a.init=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(a){switch(a.label){case 0:return[4,window.onExists("app")];case 1:return a.sent(),window.doc.externalEditorDialogTrigger.style.color="rgb(38, 153, 244)",window.doc.externalEditorDialogTrigger.classList.remove("disabled"),window.doc.externalEditorDialogTrigger.disabled=!1,[2];}})})},a.errorHandler=function(a){void 0===a&&(a="Something went wrong");var b=window.doc.externalEditorErrorToast;b.text=a,b.show()},a.postMessage=function(a){try{this.appPort.postMessage(a)}catch(a){}},a.updateFromExternal=function(a){this.connection.id===a.connectionId&&(window.scriptEdit&&window.scriptEdit.active?window.scriptEdit.editorManager.setValue(a.code):(window.stylesheetEdit.newSettings.value.stylesheet=a.code,window.stylesheetEdit.editorManager.setValue(a.code)))},a.cancelOpenFiles=function(){window.doc.externalEditorDialogTrigger.style.color="rgb(38, 153, 244)",window.doc.externalEditorDialogTrigger.classList.remove("disabled"),window.doc.externalEditorDialogTrigger.disabled=!1;try{this.appPort.postMessage({status:"connected",action:"disconnect"})}catch(a){}},a.createEditingOverlay=function(){window.doc.externalEditorDialogTrigger.style.color="rgb(175, 175, 175)",window.doc.externalEditorDialogTrigger.disabled=!0,window.doc.externalEditorDialogTrigger.classList.add("disabled"),this.EditingOverlay.generateOverlay()},a.setupExternalEditing=function(){var a=this;if("chrome"!==BrowserAPI.getBrowser())return void window.app.util.showToast("This feature is only available in chrome (until google removes chrome apps)");var b=window.codeEditBehavior.getEditor();if(b.isTextarea(b.getEditorAsMonaco()))return void window.app.util.showToast("Please update your chrome (at least chrome 30) to use this feature");if(this.connection.connected){var c=this.editingCRMItem,d=function(b){"connected"===b.status&&("setupScript"===b.action||"setupStylesheet"===b.action)&&b.connectionId===a.connection.id&&(!1===b.existed&&(c.file={id:b.id,path:b.path}),a.connection.filePath=b.path,window.app.upload(),a.connection.fileConnected=!0,window.scriptEdit&&window.scriptEdit.active?window.scriptEdit.reloadEditor():window.stylesheetEdit.reloadEditor(),a.createEditingOverlay(),a.appPort.onMessage.removeListener())};this.appPort.onMessage.addListener(d),c.file?this.appPort.postMessage({status:"connected",action:window.scriptEdit&&window.scriptEdit.active?"setupScript":"setupStylesheet",name:c.name,code:window.scriptEdit&&window.scriptEdit.active?c.value.script:c.value.stylesheet,id:c.file.id}):this.appPort.postMessage({status:"connected",action:window.scriptEdit&&window.scriptEdit.active?"setupScript":"setupStylesheet",name:c.name,code:window.scriptEdit&&window.scriptEdit.active?c.value.script:c.value.stylesheet})}else a.errorHandler("Could not establish connection")},a.setupMessageHandler=function(){var a=this;browserAPI.runtime.onConnectExternal.addListener(function(b){"obnfehdnkjmbijebdllfcnccllcfceli"===b.sender.id&&b.onMessage.addListener(function(b){a.messageHandler(b)})})},a.appMessageHandler=function(a){var b=this;switch(a.action){case"chooseFile":var c=window.doc.externalEditorChooseFile;c.init(a.local,a.external,function(a){if(!1!==a){var d=window.codeEditBehavior.getEditor();d.setValue(a),b.appPort.postMessage({status:"connected",action:"chooseFile",code:a})}else c.close()}),c.open();break;case"updateFromApp":this.updateFromExternal(a);}},a.messageHandler=function(a){switch(a.status){case"connected":this.appMessageHandler(a);break;case"ping":this.appPort.postMessage({status:"ping",message:"received"});}},a.establishConnection=function(){var a=this;this.appPort||(this.appPort=browserAPI.runtime.connect(EXTERNAL_EDITOR_APP_ID),this.connection.status="connecting",this.connection.stage=0,this.connection.fileConnected=!1,Promise.race([new Promise(function(b){a.appPort.onMessage.addListener(function(c){"connecting"!==c.status||1!==c.stage||"hey"!==c.message||b(c),a.messageHandler(c)}),a.appPort.postMessage({status:"connecting",message:"hi",stage:0})}),new Promise(function(a){window.setTimeout(function(){a(!1)},5e3)})]).then(function(b){!1===b?a.errorHandler():(a.connection.stage=2,a.appPort.postMessage({status:"connecting",message:"hello",stage:2}),a.connection.connected=!0,a.connection.state="connected",a.connection.id=b.connectionId)}))},a.applyProps=function(a,b,c){for(var d=0;d<c.length;d++)b[c[d]]=a[c[d]]+""},a.doCSSAnimation=function(a,b,c,d){var e=this,f=b[0],g=b[1],h=a.animate([f,g],{duration:c,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"});return h.onfinish=function(){e.applyProps(g,a.style,Object.getOwnPropertyNames(g)),d&&d()},h},a.initEditor=function(a,b){return __awaiter(this,void 0,void 0,function(){var c,d;return __generator(this,function(e){switch(e.label){case 0:return c=window.stylesheetEdit&&window.stylesheetEdit.active?window.doc.chooseFileMerger.EditorMode.CSS_META:window.scriptEdit.isTsEnabled()?window.doc.chooseFileMerger.EditorMode.TS_META:window.doc.chooseFileMerger.EditorMode.JS_META,d=this,[4,window.doc.chooseFileMerger.createDiff([a,b],c,{wordWrap:"off",fontSize:14*(~~window.app.settings.editor.zoom/100),folding:!0})];case 1:return d.editorManager=e.sent(),[2];}})})},a.playIfExists=function(a){return a&&a.play&&(a.play(),!0)},a.onDialogMainDivAnimationHideEnd=function(a,b,c,d){var e=this;window.doc.chooseFileMainDialog.style.display="none",window.doc.chooseFileMainDialog.style.marginTop="0",window.doc.chooseFileMainDialog.style.opacity="1",this.playIfExists(this.dialogExpansionAnimation)||(this.dialogExpansionAnimation=this.doCSSAnimation(window.doc.externalEditorChooseFile,[{width:a.width,height:a.height,marginTop:"24px",marginLeft:"40px",marginBottom:"24px",marginRight:"40px",top:b.top||"0px",left:b.left||"0px"},{width:"100vw",height:"100vh",marginTop:"0px",marginLeft:"0px",marginBottom:"0px",marginRight:"0px",top:"0px",left:"0px"}],400,function(){window.setDisplayFlex(window.doc.chooseFileMerger),e.playIfExists(e.dialogComparisonDivAnimationShow)||(e.dialogComparisonDivAnimationShow=e.doCSSAnimation(window.doc.chooseFileMerger,[{marginTop:"70px",opacity:0},{marginTop:"0px",opacity:1}],250,function(){e.editorManager||setTimeout(function(){e.initEditor(c,d)},150)}))}))},a.showMergeDialog=function(a,b){var c=this,d=window.doc.externalEditorChooseFile.getBoundingClientRect(),e=window.doc.externalEditorChooseFile.style;this.dialogStyleProperties=d,e.maxWidth="100vw",e.width=d.width+"px",e.height=d.height+"px",document.body.style.overflow="hidden",window.doc.chooseFileMainDialog.style.position="absolute",this.playIfExists(this.dialogMainDivAnimationHide)||(this.dialogMainDivAnimationHide=window.doc.chooseFileMainDialog.animate([{marginTop:"20px",opacity:"1"},{marginTop:"100px",opacity:"0"}],{duration:240,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"})),this.dialogMainDivAnimationHide.onfinish=function(){c.onDialogMainDivAnimationHideEnd(d,e,a,b)}},(a.resetStyles=function(a,b){a.width=b.width+"px",a.height=b.height+"px",a.top=b.top+"px",a.left=b.left+"px"},a.chooseFileDialog=function(a){var b=this;return function(c,d,e){a.local=c,a.file=d,a.callback=e,b.editorManager=null,document.body.style.overflow="auto",window.doc.chooseFileMainDialog.style.position="static",window.doc.chooseFileMainDialog.style.display="block",window.doc.chooseFileMerger.destroy(),b.dialogStyleProperties&&b.resetStyles(a.style,b.dialogStyleProperties)}},a.ready=function(){return __awaiter(this,void 0,void 0,function(){var a,b=this;return __generator(this,function(c){switch(c.label){case 0:return window.externalEditor=this,window.onfocus=function(){b.connection.fileConnected&&b.postMessage({status:"connected",action:"refreshFromApp"})},[4,window.onExists("app")];case 1:return c.sent(),a=window.doc.externalEditorChooseFile,a.init=this.chooseFileDialog(a),window.doc.externalEditorTryAgainButton.addEventListener("click",function(){b.establishConnection(),window.doc.externalEditorErrorToast.hide()}),window.doc.chooseFileChooseCRM.addEventListener("click",function(){var c=b.editorManager.editor;b.editorManager.isDiff(c)&&a.callback(c.getModel().original.getValue())}),window.doc.chooseFileChooseDisk.addEventListener("click",function(){var c=b.editorManager.editor;b.editorManager.isDiff(c)&&a.callback(c.getModel().modified.getValue())}),$(".closeChooseFileDialog").click(function(){a.callback(!1)}),[2];}})})},a.is="use-external-editor",a.appPort=null,a.connection={status:"no connection",connected:!1},a.dialogMainDivAnimationHide=null,a.dialogComparisonDivAnimationShow=null,a.dialogExpansionAnimation=null,a.editorManager=null,a.EditingOverlay=function(){function a(){}return a.createToolsCont=function(){var a=window.app.util.createElement("div",{id:"externalEditingTools"});return a.appendChild(window.app.util.createElement("div",{id:"externalEditingToolsTitle"},["Using external editor"])),a},a.createDisconnect=function(){var a=this,b={fn:function(){}},c=window.app.util.createElement("div",{id:"externalEditingToolsDisconnect"},[window.app.util.createElement("div",{classes:["paper-material"],props:{elevation:"1"}},[window.app.util.createElement("paper-ripple",{}),window.app.util.createElement("svg",{props:{xmlns:"http://www.w3.org/2000/svg",height:"70",width:"70",viewBox:"0 0 24 24"}},[window.app.util.createElement("path",{props:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}),window.app.util.createElement("path",{props:{d:"M0 0h24v24H0z",fill:"none"}})]),window.app.util.createElement("div",{classes:["externalEditingToolText"]},["Stop"])])]);return c.addEventListener("click",function(){a.parent().cancelOpenFiles.apply(a,[]),b.fn&&b.fn()}),{el:c,onDc:b}},a.createShowLocation=function(){var a=this,b=window.app.util.createElement("div",{id:"externalEditingToolsShowLocation"},[window.app.util.createElement("div",{classes:["paper-material"],props:{elevation:"1"}},[window.app.util.createElement("paper-ripple",{}),window.app.util.createElement("svg",{props:{height:"70",viewBox:"0 0 24 24",width:"70",xmlns:"http://www.w3.org/2000/svg"}},[window.app.util.createElement("path",{props:{d:"M0 0h24v24H0z",fill:"none"}}),window.app.util.createElement("path",{props:{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"}})])]),window.app.util.createElement("div",{classes:["externalEditingToolText"]},["Location"])]);return b.addEventListener("click",function(){var b=a.parent().connection.filePath;b=b.replace(/\\/g,"/"),window.doc.externalEditoOpenLocationInBrowser.setAttribute("href","file:///"+b);var c=window.doc.externalEditorLocationToast;c.text="File is located at: "+b,c.show()}),b},a.createNewFile=function(){var a=this;window.app.util.createElement("div",{id:"externalEditingToolsCreateNewFile"},[window.app.util.createElement("div",{classes:["paper-material"],props:{elevation:"1"}},[window.app.util.createElement("paper-ripple",{}),window.app.util.createElement("svg",{props:{height:"70",width:"70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[window.app.util.createElement("path",{props:{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"}}),window.app.util.createElement("path",{props:{d:"M0 0h24v24H0z",fill:"none"}})])]),window.app.util.createElement("div",{classes:["externalEditingToolText"]},["Move"])]).addEventListener("click",function(){a.parent().postMessage({status:"connected",action:"createNewFile",isCss:!!window.scriptEdit,name:a.parent().editingCRMItem.name})})},a.createUpdate=function(){var a=this,b=window.app.util.createElement("div",{id:"externalEditingToolsUpdate"},[window.app.util.createElement("div",{classes:["paper-material"],props:{elevation:"1"}},[window.app.util.createElement("paper-ripple",{}),window.app.util.createElement("svg",{props:{height:"70",width:"70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[window.app.util.createElement("path",{props:{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}}),window.app.util.createElement("path",{props:{d:"M0 0h24v24H0z",fill:"none"}})])]),window.app.util.createElement("div",{classes:["externalEditingToolText"]},["Refresh"])]);return b.addEventListener("click",function(){a.parent().postMessage({status:"connected",action:"refreshFromApp"})}),b},a.createCont=function(a){var b=a.appendChild(window.app.util.createElement("div",{id:"externalEditingToolsButtonsCont"})),c=this.createDisconnect(),d=c.el,e=c.onDc;return b.appendChild(d),b.appendChild(this.createShowLocation()),this.createNewFile(),b.appendChild(this.createUpdate()),e},a.appendWrapper=function(a){var b=window.codeEditBehavior.getEditor(),c=b.editor;if(b.isDiff(c))return null;var d={getDomNode:function(){return a},getId:function(){return"external.editor.overlay"},getPosition:function(){return{preference:monaco.editor.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}}};return c.addOverlayWidget(d),{editor:c,widget:d}},a.linkDisconnect=function(a,b){var c=b.widget,d=b.editor;a.fn=function(){d.removeOverlayWidget(c)}},a.generateOverlay=function(){var a=this.createToolsCont(),b=this.createCont(a),c=this.appendWrapper(a);this.linkDisconnect(b,c)},a.parent=function(){return window.externalEditor},a}(),a)}();a.UEE=b,window.register?window.register(b):window.addEventListener("RegisterReady",function(){window.register(b)})})(UseExternalEditorElement||(UseExternalEditorElement={}));
var PaperArrayInputElement;(function(a){a.paperArrayInputProperties={values:{type:Array,value:[],notify:!0},max:{type:Number,value:-1},title:{type:String,value:'',notify:!0},type:{type:String,value:'string'},subtext:{type:String,value:''}};var b=function(){function b(){}return b._hasItems=function(a){return a&&0<a.length},b._stringIsSet=function(a){return a&&''!==a},b.saveSettings=function(){this.values=Array.prototype.slice.apply(this.shadowRoot.querySelectorAll('.arrayInputLine')).map(function(a){return a.querySelector('paper-input').value})},b.addLine=function(){var a=this;if(this.saveSettings(),-1!==this.max&&this.values&&this.values.length>=this.max){this.$.maxElementsReachedMessage.classList.add('visible');var b=window.setTimeout(function(){a._maxReachedTimeout===b&&a.$.maxElementsReachedMessage.classList.remove('visible')},5e3);return void(this._maxReachedTimeout=b)}this.values||(this.values=[]);var c=JSON.parse(JSON.stringify(this.values));c.push(''),this.values=c,this.notifyPath('values',this.values)},b.clearLine=function(a){var b=this,c=a.target;this.async(function(){b.saveSettings();var d=window.app.util.findElementWithTagname({path:a.path,Aa:a.Aa,target:c},'paper-icon-button');b.splice('values',Array.prototype.slice.apply(b.querySelectorAll('.arrayInputLine')).indexOf(d.parentElement.parentElement),1)},50)},b.ready=function(){this.values=this.values||[],void 0===this.max&&(this.max=-1)},b.is='paper-array-input',b.properties=a.paperArrayInputProperties,b._maxReachedTimeout=-1,b}();a.PAI=b,window.objectify?window.register(b):window.addEventListener('RegisterReady',function(){window.register(b)})})(PaperArrayInputElement||(PaperArrayInputElement={}));
var AnimatedButtonElement,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};(function(a){a.animatedButtonProperties={cooldown:{type:Boolean,notify:!1,value:!1},content:{type:String,notify:!0,value:""},tap:{type:String,notify:!1},raised:{type:Boolean,notify:!0,value:!1}};var b=function(){function b(){}return b._wait=function(a){return new Promise(function(b){window.setTimeout(function(){b(null)},a)})},b.doAnimation=function(){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(b){switch(b.label){case 0:return this._isAnimating=!0,a=++this._animationIndex,this.$.button.classList.add("clicked"),this.$.contentContainer.classList.add("animate"),[4,this._wait(100)];case 1:return b.sent(),this.$.contentContainer.classList.add("showcheckmark"),[4,this._wait(3e3)];case 2:return(b.sent(),this._animationIndex!==a)?[3,4]:(this.$.button.classList.remove("clicked"),this.$.contentContainer.classList.remove("showcheckmark"),[4,this._wait(100)]);case 3:b.sent(),this.$.contentContainer.classList.remove("animate"),this._isAnimating=!1,this._animationIndex=0,b.label=4;case 4:return[2];}})})},b.__click=function(a){if(!this.cooldown||!this._isAnimating){if(this.doAnimation(),!this.tap)return;var b=this.getRootNode().host;this.tap in b?b[this.tap](a):console.warn.apply(console,b._logf("_createEventHandler","listener method "+this.tap+" not defined"))}},b.ready=function(){var a=this;this.addEventListener("click",function(b){a.__click(b)})},(b.is="animated-button",b.properties=a.animatedButtonProperties,b._animationIndex=0,b._isAnimating=!1,b)}();a.AB=b,window.objectify?window.register(b):window.addEventListener("RegisterReady",function(){window.register(b)})})(AnimatedButtonElement||(AnimatedButtonElement={}));
var LangSelectorElement,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};(function(a){a.langSelectorProperties={langs:{type:Array,value:[],notify:!0}};var b=function(){function a(){}return a._getCurrentLang=function(){return __awaiter(this,void 0,void 0,function(){var a,b,c;return __generator(this,function(d){switch(d.label){case 0:return a=this,[4,window.__.getLang()];case 1:return a._lang=d.sent(),b=this.$.mainBubble,[4,this.__async("langs_selector_clickToChangeLanguage")];case 2:return c=d.sent()+" (",[4,this.__async("langs_selector_current")];case 3:return b.title=c+d.sent()+": "+this._lang+")",[2];}})})},a._updateAvailableLangs=function(){return __awaiter(this,void 0,void 0,function(){var a,b,c,d=this;return __generator(this,function(e){switch(e.label){case 0:return a=window.__.SUPPORTED_LANGS,b=this._lang,c=this,[4,Promise.all(a.map(function(a){return __awaiter(d,void 0,void 0,function(){var c,d,e,f;return __generator(this,function(g){switch(g.label){case 0:return[4,this.__async("langs_languages_"+a)];case 1:return(c=g.sent(),d={},a!==b)?[3,3]:(f=c+" ("+a+", ",[4,this.__async("langs_selector_current")]);case 2:return e=f+g.sent()+")",[3,4];case 3:e=c+" ("+a+")",g.label=4;case 4:return[2,(d.name=e,d.code=a,d.url="../../images/country_flags/"+a+".svg",d.selected=a===b,d)];}})})}))];case 1:return c.langs=e.sent(),[2];}})})},a.update=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(a){switch(a.label){case 0:return[4,this._getCurrentLang()];case 1:return a.sent(),this._updateAvailableLangs(),[2];}})})},a.ready=function(){return __awaiter(this,void 0,void 0,function(){var a=this;return __generator(this,function(){return window.__.addListener(function(){a.update()}),this.update(),[2]})})},(a.mainClick=function(){this.$.bubbles.classList.toggle("expanded")},a.langClick=function(a){for(var b=a.path,c=b[0];c&&!c.classList.contains("languageBubble");)c=c.parentElement;if(c){var d=c.getAttribute("data-code");window.__.setLang(d)}},a.is="lang-selector",a)}();a.LS=b,window.objectify?window.register(b):window.addEventListener("RegisterReady",function(){window.register(b)})})(LangSelectorElement||(LangSelectorElement={}));
var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t=1,a=arguments.length,n;t<a;t++)for(var s in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(s,o){function i(e){try{l(a.next(e))}catch(t){o(t)}}function r(e){try{l(a["throw"](e))}catch(t){o(t)}}function l(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(i,r)}l((a=a.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,n){function a(e){return function(t){return s([e,t])}}function s(a){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(l=2&a[0]?r["return"]:a[0]?r["throw"]||((l=r["return"])&&l.call(r),0):r.next)&&!(l=l.call(r,a[1])).done)return l;switch((r=0,l)&&(a=[2&a[0],l.value]),a[0]){case 0:case 1:l=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if((l=o.trys,!(l=0<l.length&&l[l.length-1]))&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!l||a[1]>l[0]&&a[1]<l[3])){o.label=a[1];break}if(6===a[0]&&o.label<l[1]){o.label=l[1],l=a;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(a);break}l[2]&&o.ops.pop(),o.trys.pop();continue;}a=n.call(e,o)}catch(t){a=[6,t],r=0}finally{i=l=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var o={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},i,r,l,d;return d={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d},_this=this;(function(){function e(e){return"undefined"===typeof e||null===e}function t(e){e.properties=e.properties||{},e.properties.lang={type:String,notify:!0,value:null},e.properties.langReady={type:Boolean,notify:!0,value:!1}}function n(e,t){var n=document.createElement("div");return n.style[e]=t,n.style[e]===t}function a(e,t,n){var a=null,s={onfinish:null,oncancel:null,cancel:function(){a&&a.cancel(),this.oncancel&&this.oncancel.apply(this,{currentTime:Date.now(),timelineTime:null})},play:function(){var s=this;a&&a.cancel(),a=n(e,t,function(){s.onfinish&&s.onfinish.apply(s,{currentTime:Date.now(),timelineTime:null})})},reverse:function(){var s=this;a&&a.cancel(),a=n(t,e,function(){s.onfinish&&s.onfinish.apply(s,{currentTime:Date.now(),timelineTime:null})})},pause:function(){},finish:function(){},currentTime:0,effect:{getTiming:function(){return{delay:0,direction:"normal",fill:"both"}},updateTiming:function(){},getComputedTiming:function(){return{endTime:0,activeDuration:0,currentIteration:0,localTime:0,progress:null}}},updatePlaybackRate:function(){},addEventListener:function(){},removeEventListener:function(){},dispatchEvent:function(){return!0},finished:Promise.resolve(s),pending:!1,startTime:Date.now(),id:"",ready:Promise.resolve(s),playState:"finished",playbackRate:1,timeline:{currentTime:Date.now()}};return n(e,t,function(){s.onfinish&&s.onfinish.apply(s,{currentTime:Date.now(),timelineTime:null})}),s}if(!window.onExists){var s=function(){function e(e){var t=this;this._val=null,this._state="pending",this._done=!1,this._resolveListeners=[],this._rejectListeners=[],e(function(e){t._done||(t._done=!0,t._val=e,t._state="resolved",t._resolveListeners.forEach(function(t){t(e)}))},function(e){t._done||(t._done=!0,t._val=e,t._state="rejected",t._rejectListeners.forEach(function(t){t(e)}))})}return e.prototype.then=function(e,t){return e?(this._done&&"resolved"===this._state?e(this._val):this._resolveListeners.push(e),!t)?this:(this._done&&"rejected"===this._state?t(this._val):this._rejectListeners.push(t),this):this},e.chain=function(t){return new e(function(n){return t[0]?void t[0]().then(function(a){t[1]?e.chain(t.slice(1)).then(function(e){n(e)}):n(a)}):void n(null)})},e}();window.onExists=function(t,n){n||(n=window);var a=window.Promise||s;return new a(function(a){if(t in n&&!e(n[t]))return void a(n[t]);var s=window.setInterval(function(){t in n&&!e(n[t])&&(window.clearInterval(s),a(n[t]))},50)})};var o=function(e){var t={};return Object.getOwnPropertyNames(e).forEach(function(n){t[n]=e[n]}),t},i=function(){var e=function(){function e(){var e=this,t;this._currentLangFile=null,this._lang=null,this._listeners=[],this._languageChangeListeners=[],this.ready=function(){return __awaiter(e,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return e=this,[4,this.fetchLang()];case 1:return e._lang=n.sent(),t=this,[4,this.Files.loadLang(this._lang)];case 2:return t._currentLangFile=n.sent(),this._listeners.forEach(function(e){e.langReady=!0}),[2];}})})}(),this.Files=(t=function(){function e(){}return e._isWebPageEnv=function(){return"http:"===location.protocol||"https:"===location.protocol},e._loadFile=function(e){var t=this;return new window.Promise(function(n,a){var s=new window.XMLHttpRequest,o=t._isWebPageEnv()?"../"+e:browserAPI.runtime.getURL(e);s.open("GET",o),s.onreadystatechange=function(){s.readyState===window.XMLHttpRequest.DONE&&(200===s.status?n(s.responseText):a(new Error("Failed XHR")))},s.send()})},e._parseLang=function(e){var t=JSON.parse(e),n={};for(var a in t)if("$schema"!==a&&"comments"!==a){var s=t[a],o=[];for(var i in s.placeholders||{}){var r=s.placeholders[i].content;o.push({index:o.length,content:r,expr:new RegExp("\\$"+i+"\\$","gi")})}n[a]={message:s.message||"{{"+a+"}}",placeholders:o}}return n},e.loadLang=function(e){return __awaiter(this,void 0,void 0,function(){var t,n,a;return __generator(this,function(s){switch(s.label){case 0:if(this._loadedLangs[e])return[2,this._loadedLangs[e]];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._loadFile("_locales/"+e+"/messages.json")];case 2:return t=s.sent(),n=this._parseLang(t),this._loadedLangs[e]=n,[2,n];case 3:throw a=s.sent(),a;case 4:return[2];}})})},e.getLangFile=function(e){return this._loadedLangs[e]},e}(),t._loadedLangs={},t)}return e.prototype._getDefaultLang=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(a){switch(a.label){case 0:return[4,browserAPI.i18n.getAcceptLanguages()];case 1:return(t=a.sent(),-1<t.indexOf(e.DEFAULT_LANG))?[2,e.DEFAULT_LANG]:(n=t.filter(function(t){return-1!==e.SUPPORTED_LANGS.indexOf(t)}),[2,n[0]||e.DEFAULT_LANG]);}})})},e.prototype.fetchLang=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return[4,window.onExists("browserAPI")];case 1:return n.sent(),[4,browserAPI.storage.local.get("lang")];case 2:return e=n.sent().lang,e?[3,4]:[4,this._getDefaultLang()];case 3:return t=n.sent(),browserAPI.storage.local.set({lang:t}),[2,t];case 4:return[2,e];}})})},e.prototype.getLang=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return this._lang?[2,this._lang]:[2,this.fetchLang()]})})},e.prototype.setLang=function(e){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(n){switch(n.label){case 0:return[4,browserAPI.storage.local.set({lang:e})];case 1:return n.sent(),this.ready=function(){return __awaiter(t,void 0,void 0,function(){var t=this,n;return __generator(this,function(a){switch(a.label){case 0:return n=this,[4,this.Files.loadLang(e)];case 1:return n._currentLangFile=a.sent(),this._listeners.forEach(function(n){t._lang=e,n.lang=e,n.langReady=!0,t._languageChangeListeners.forEach(function(e){return e()})}),[2];}})})}(),[2];}})})},e.prototype.langReady=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,void 0!==this.Files.getLangFile(e)]})})},e.prototype._getMessage=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var s=this._currentLangFile[t];if(!s)return"{{"+t+"}}";var o=s.message,r=s.placeholders,l=r.map(function(e){return e.content});if(!o)return"{{"+t+"}}";for(var d=function(t){var a=e.INDEX_REGEXPS[t];o=o.replace(a,n[t]),l=l.map(function(e){return e.replace(a,n[t])})},p=0;p<n.length;p++)d(p);for(var i=0,c=r;i<c.length;i++){var u=c[i],g=u.expr,m=u.index;o=o.replace(g,l[m])}return o},e.prototype.__sync=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this._lang&&this._currentLangFile?this._getMessage.apply(this,[e].concat(t.map(function(e){return e+""}))):"{{"+e+"}}"},e.prototype.__=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,this.ready];case 1:return n.sent(),[2,this._getMessage.apply(this,[e].concat(t.map(function(e){return e+""})))];}})})},e.prototype.addLoadListener=function(e){-1!==this._listeners.indexOf(e)||(this._listeners.push(e),this._lang&&(e.lang=this._lang,this.Files.getLangFile(this._lang)&&(e.langReady=!0)))},e.prototype.addLanguageChangeListener=function(e){this._languageChangeListeners.push(e)},e.DEFAULT_LANG="en",e.SUPPORTED_LANGS=["en"],e.INDEX_REGEXPS=[new RegExp(/\$1/g),new RegExp(/\$2/g),new RegExp(/\$3/g),new RegExp(/\$4/g),new RegExp(/\$5/g),new RegExp(/\$6/g),new RegExp(/\$7/g),new RegExp(/\$8/g),new RegExp(/\$9/g)],e}(),t=new e,n=t.__.bind(t),a=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.apply(void 0,[e].concat(t))};a.sync=t.__sync.bind(t),a.getLang=t.getLang.bind(t),a.setLang=t.setLang.bind(t),a.SUPPORTED_LANGS=e.SUPPORTED_LANGS,a.addListener=t.addLanguageChangeListener.bind(t),a.ready=function(){return t.ready},window.__=a;var s=function(){function e(){}return e.__=function(e,t,n){for(var a=[],s=3,o;s<arguments.length;s++)a[s-3]=arguments[s];return this.instance.addLoadListener(this),(o=this.instance).__sync.apply(o,[n].concat(a))},e.__exec=function(e,t,n){for(var a=[],s=3,o;s<arguments.length;s++)a[s-3]=arguments[s];for(var r=[],l=0,i;l<a.length;l++)if(i=a[l],"string"===typeof i)r.push(i);else if("function"===typeof i){var d=i.bind(this).apply(void 0,a.slice(l+1,l+1+i.length));r.push(d)}return this.instance.addLoadListener(this),(o=this.instance).__sync.apply(o,[n].concat(r))},e.__async=function(e){for(var t=[],n=1,a;n<arguments.length;n++)t[n-1]=arguments[n];return this.instance.addLoadListener(this),(a=this.instance).__.apply(a,[e].concat(t))},e.___=function(e){for(var t=[],n=1,a;n<arguments.length;n++)t[n-1]=arguments[n];return this.instance.addLoadListener(this),(a=this.instance).__sync.apply(a,[e].concat(t))},e.instance=t,e}();return s}(),r=function(e){var n=__assign({},e,i),a=n.ready;t(n),window.Polymer(__assign({},n,{ready:function(){this.classList.add("browser-"+BrowserAPI.getBrowser()),a&&"function"===typeof a&&a.apply(this,[])}}))};window.withAsync=function(e,t){return __awaiter(_this,void 0,void 0,function(){var n,a;return __generator(this,function(s){switch(s.label){case 0:return[4,e()];case 1:return n=s.sent(),[4,t()];case 2:return a=s.sent(),[4,n()];case 3:return s.sent(),[2,a];}})})},window["with"]=function(e,t){var n=e(),a=t();return n(),a};var l=null,d=window.getComputedStyle&&"transform"in window.getComputedStyle(document.documentElement,"");window.setDisplayFlex=function(e){null===l&&(l=n("display","flex")),e.style.display=l?"flex":"-webkit-flex"},window.setTransform=function(e,t){d?e.style.transform=t:e.style.webkitTransform=t},window.animateTransform=function(e,t,n){var s=t.from,o=t.propName,i=t.to,r=t.postfix;if(d&&!e.__isAnimationJqueryPolyfill)return e.animate([{transform:o+"("+s+r+")"},{transform:o+"("+i+r+")"}],n);e.style.webkitTransform=o+"("+s+r+")";var l=document.createElement("div");return a("0px","100px",function(t,a,d){return l.style.height=t,$(l).animate({height:a},{duration:n.duration||500,step:function(t){e.style.webkitTransform=o+"("+(s+(i-s)/100*t)+r+")"},complete:function(){e.style.webkitTransform=o+"("+a+r+")",d()}}),{cancel:function(){$(l).stop()}}})},"undefined"!==typeof Event&&-1===location.href.indexOf("background.html")&&window.onExists("Promise").then(function(){window.onExists("Polymer").then(function(){window.objectify=o,window.register=r;var e=new Event("RegisterReady");window.dispatchEvent(e)})}),window.onExistsChain=function(e,t,n,a,o,i){var r=window.Promise||s;return new r(function(l){var d=e;s.chain([t,n,a,o,i].filter(function(e){return!!e}).map(function(e){return function(){return new r(function(t){window.onExists(e,d).then(function(e){d=e,t(e)})})}})).then(function(e){l(e)})})}}})(),function(e,t){"use notstrict";"object"===("undefined"===typeof module?"undefined":babelHelpers["typeof"](module))&&"object"===babelHelpers["typeof"](module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"===typeof window?this:window,function(e,t){"use notstrict";function n(e,t,n){t=t||de;var a=t.createElement("script"),s;if(a.text=e,n)for(s in Te)n[s]&&(a[s]=n[s]);t.head.appendChild(a).parentNode.removeChild(a)}function a(e){return null==e?e+"":"object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))||"function"===typeof e?he[ye.call(e)]||"object":"undefined"===typeof e?"undefined":babelHelpers["typeof"](e)}function s(e){var t=!!e&&"length"in e&&e.length,n=a(e);return ve(e)||Ce(e)?!1:"array"===n||0===t||"number"===typeof t&&0<t&&t-1 in e}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function i(e,t,n){return ve(t)?we.grep(e,function(e,a){return!!t.call(e,a,e)!==n}):t.nodeType?we.grep(e,function(e){return e===t!==n}):"string"===typeof t?we.filter(t,e,n):we.grep(e,function(e){return-1<me.call(t,e)!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return we.each(e.match(Oe)||[],function(e,n){t[n]=!0}),t}function d(e){return e}function p(e){throw e}function c(e,t,n,a){var s;try{e&&ve(s=e.promise)?s.call(e).done(t).fail(n):e&&ve(s=e.then)?s.call(e,t,n):t.apply(void 0,[e].slice(a))}catch(e){n.apply(void 0,[e])}}function u(){de.removeEventListener("DOMContentLoaded",u),e.removeEventListener("load",u),we.ready()}function g(e,t){return t.toUpperCase()}function m(e){return e.replace(He,"ms-").replace($e,g)}function h(){this.expando=we.expando+h.uid++}function y(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:We.test(e)?JSON.parse(e):e)}function f(e,t,n){var a;if(void 0===n&&1===e.nodeType)if(a="data-"+t.replace(ze,"-$&").toLowerCase(),n=e.getAttribute(a),"string"===typeof n){try{n=y(n)}catch(t){}Ve.set(e,t,n)}else n=void 0;return n}function _(e,t,n,a){var s=20,o=a?function(){return a.cur()}:function(){return we.css(e,t,"")},i=o(),r=n&&n[3]||(we.cssNumber[t]?"":"px"),l=(we.cssNumber[t]||"px"!==r&&+i)&&Ke.exec(we.css(e,t)),d,p;if(l&&l[3]!==r){for(i/=2,r=r||l[3],l=+i||1;s--;)we.style(e,t,l+r),0>=(1-p)*(1-(p=o()/i||0.5))&&(s=0),l/=p;l*=2,we.style(e,t,l+r),n=n||[]}return n&&(l=+l||+i||0,d=n[1]?l+(n[1]+1)*n[2]:+n[2],a&&(a.unit=r,a.start=l,a.end=d)),d}function b(e){var t=e.ownerDocument,n=e.nodeName,a=Ze[n],s;return a?a:(s=t.body.appendChild(t.createElement(n)),a=we.css(s,"display"),s.parentNode.removeChild(s),"none"===a&&(a="block"),Ze[n]=a,a)}function x(e,t){for(var n=[],a=0,s=e.length,o,i;a<s;a++)(i=e[a],!!i.style)&&(o=i.style.display,t?("none"===o&&(n[a]=Ge.get(i,"display")||null,!n[a]&&(i.style.display="")),""===i.style.display&&Je(i)&&(n[a]=b(i))):"none"!==o&&(n[a]="none",Ge.set(i,"display",o)));for(a=0;a<s;a++)null!=n[a]&&(e[a].style.display=n[a]);return e}function v(e,t){var n;return n="undefined"===typeof e.getElementsByTagName?"undefined"===typeof e.querySelectorAll?[]:e.querySelectorAll(t||"*"):e.getElementsByTagName(t||"*"),void 0===t||t&&o(e,t)?we.merge([e],n):n}function C(e,t){for(var n=0,a=e.length;n<a;n++)Ge.set(e[n],"globalEval",!t||Ge.get(t[n],"globalEval"))}function T(e,t,n,s,o){for(var r=t.createDocumentFragment(),d=[],p=0,i=e.length,l,c,u,g,m,h;p<i;p++)if(l=e[p],l||0===l)if("object"===a(l))we.merge(d,l.nodeType?[l]:l);else if(!st.test(l))d.push(t.createTextNode(l));else{for(c=c||r.appendChild(t.createElement("div")),u=(tt.exec(l)||["",""])[1].toLowerCase(),g=at[u]||at._default,c.innerHTML=g[1]+we.htmlPrefilter(l)+g[2],h=g[0];h--;)c=c.lastChild;we.merge(d,c.childNodes),c=r.firstChild,c.textContent=""}for(r.textContent="",p=0;l=d[p++];){if(s&&-1<we.inArray(l,s)){o&&o.push(l);continue}if(m=we.contains(l.ownerDocument,l),c=v(r.appendChild(l),"script"),m&&C(c),n)for(h=0;l=c[h++];)nt.test(l.type||"")&&n.push(l)}return r}function S(){return!0}function w(){return!1}function E(){try{return de.activeElement}catch(e){}}function k(e,t,n,a,s,o){var i,r;if("object"===("undefined"===typeof t?"undefined":babelHelpers["typeof"](t))){for(r in"string"!==typeof n&&(a=a||n,n=void 0),t)k(e,r,n,a,t[r],o);return e}if(null==a&&null==s?(s=n,a=n=void 0):null==s&&("string"===typeof n?(s=a,a=void 0):(s=a,a=n,n=void 0)),!1===s)s=w;else if(!s)return e;return 1===o&&(i=s,s=function(e){return we().off(e),i.apply(this,arguments)},s.guid=i.guid||(i.guid=we.guid++)),e.each(function(){we.event.add(this,t,s,a,n)})}function L(e,t){return o(e,"table")&&o(11===t.nodeType?t.firstChild:t,"tr")?we(e).children("tbody")[0]||e:e}function R(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function D(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function N(e,t){var n,a,s,o,i,r,l,d;if(1===t.nodeType){if(Ge.hasData(e)&&(o=Ge.access(e),i=Ge.set(t,o),d=o.events,d))for(s in delete i.handle,i.events={},d)for(n=0,a=d[s].length;n<a;n++)we.event.add(t,s,d[s][n]);Ve.hasData(e)&&(r=Ve.access(e),l=we.extend({},r),Ve.set(t,l))}}function A(e,t){var n=t.nodeName.toLowerCase();"input"===n&&et.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function j(e,t,a,s){t=ue.apply([],t);var o=0,i=e.length,r=t[0],l=ve(r),d,p,c,u,g,m;if(l||1<i&&"string"===typeof r&&!xe.checkClone&&ct.test(r))return e.each(function(n){var o=e.eq(n);l&&(t[0]=r.call(this,n,o.html())),j(o,t,a,s)});if(i&&(d=T(t,e[0].ownerDocument,!1,e,s),p=d.firstChild,1===d.childNodes.length&&(d=p),p||s)){for(c=we.map(v(d,"script"),R),u=c.length;o<i;o++)g=d,o!==i-1&&(g=we.clone(g,!0,!0),u&&we.merge(c,v(g,"script"))),a.call(e[o],g,o);if(u)for(m=c[c.length-1].ownerDocument,we.map(c,D),o=0;o<u;o++)g=c[o],nt.test(g.type||"")&&!Ge.access(g,"globalEval")&&we.contains(m,g)&&(g.src&&"module"!==(g.type||"").toLowerCase()?we._evalUrl&&we._evalUrl(g.src):n(g.textContent.replace(ut,""),m,g))}return e}function M(e,t,n){for(var a=t?we.filter(t,e):e,s=0,o;null!=(o=a[s]);s++)n||1!==o.nodeType||we.cleanData(v(o)),o.parentNode&&(n&&we.contains(o.ownerDocument,o)&&C(v(o,"script")),o.parentNode.removeChild(o));return e}function P(e,t,n){var a=e.style,s,o,i,r;return n=n||mt(e),n&&(r=n.getPropertyValue(t)||n[t],""===r&&!we.contains(e.ownerDocument,e)&&(r=we.style(e,t)),!xe.pixelBoxStyles()&&gt.test(r)&&ht.test(t)&&(s=a.width,o=a.minWidth,i=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=s,a.minWidth=o,a.maxWidth=i)),void 0===r?r:r+""}function I(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function O(e){if(e in vt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=xt.length;n--;)if(e=xt[n]+t,e in vt)return e}function q(e){var t=we.cssProps[e];return t||(t=we.cssProps[e]=O(e)||e),t}function F(e,t,n){var a=Ke.exec(t);return a?ie(0,a[2]-(n||0))+(a[3]||"px"):t}function B(e,t,n,a,s,o){var r="width"===t?1:0,i=0,l=0;if(n===(a?"border":"content"))return 0;for(;4>r;r+=2)"margin"===n&&(l+=we.css(e,n+Ye[r],!0,s)),a?("content"===n&&(l-=we.css(e,"padding"+Ye[r],!0,s)),"margin"!==n&&(l-=we.css(e,"border"+Ye[r]+"Width",!0,s))):(l+=we.css(e,"padding"+Ye[r],!0,s),"padding"===n?i+=we.css(e,"border"+Ye[r]+"Width",!0,s):l+=we.css(e,"border"+Ye[r]+"Width",!0,s));return!a&&0<=o&&(l+=ie(0,oe(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-i-0.5))),l}function H(e,t,n){var a=mt(e),s=P(e,t,a),o="border-box"===we.css(e,"boxSizing",!1,a),i=o;if(gt.test(s)){if(!n)return s;s="auto"}return i=i&&(xe.boxSizingReliable()||s===e.style[t]),"auto"!==s&&(parseFloat(s)||"inline"!==we.css(e,"display",!1,a))||(s=e["offset"+t[0].toUpperCase()+t.slice(1)],i=!0),s=parseFloat(s)||0,s+B(e,t,n||(o?"border":"content"),i,a,s)+"px"}function U(e,t,n,a,s){return new U.prototype.init(e,t,n,a,s)}function G(){wt&&(!1===de.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(G):e.setTimeout(G,we.fx.interval),we.fx.tick())}function V(){return e.setTimeout(function(){St=void 0}),St=Date.now()}function W(e,t){var n=0,a={height:e},s;for(t=t?1:0;4>n;n+=2-t)s=Ye[n],a["margin"+s]=a["padding"+s]=e;return t&&(a.opacity=a.width=e),a}function z(e,t,n){for(var a=(K.tweeners[t]||[]).concat(K.tweeners["*"]),s=0,o=a.length,i;s<o;s++)if(i=a[s].call(n,t,e))return i}function X(e,t){var n,a,s,o,i;for(n in e)if(a=m(n),s=t[a],o=e[n],Array.isArray(o)&&(s=o[1],o=e[n]=o[0]),n!==a&&(e[a]=o,delete e[n]),i=we.cssHooks[a],i&&"expand"in i)for(n in o=i.expand(o),delete e[a],o)n in e||(e[n]=o[n],t[n]=s);else t[a]=s}function K(e,t,n){var a=0,s=K.prefilters.length,o=we.Deferred().always(function(){delete i.elem}),i=function(){if(p)return!1;for(var t=St||V(),n=ie(0,r.startTime+r.duration-t),a=n/r.duration||0,s=1-a,i=0,l=r.tweens.length;i<l;i++)r.tweens[i].run(s);return(o.notifyWith(e,[r,s,n]),1>s&&l)?n:(l||o.notifyWith(e,[r,1,0]),o.resolveWith(e,[r]),!1)},r=o.promise({elem:e,props:we.extend({},t),opts:we.extend(!0,{specialEasing:{},easing:we.easing._default},n),originalProperties:t,originalOptions:n,startTime:St||V(),duration:n.duration,tweens:[],createTween:function(t,n){var a=we.Tween(e,r.opts,t,n,r.opts.specialEasing[t]||r.opts.easing);return r.tweens.push(a),a},stop:function(t){var n=0,a=t?r.tweens.length:0;if(p)return this;for(p=!0;n<a;n++)r.tweens[n].run(1);return t?(o.notifyWith(e,[r,1,0]),o.resolveWith(e,[r,t])):o.rejectWith(e,[r,t]),this}}),l=r.props,d,p;for(X(l,r.opts.specialEasing);a<s;a++)if(d=K.prefilters[a].call(r,e,l,r.opts),d)return ve(d.stop)&&(we._queueHooks(r.elem,r.opts.queue).stop=d.stop.bind(d)),d;return we.map(l,z,r),ve(r.opts.start)&&r.opts.start.call(e,r),r.progress(r.opts.progress).done(r.opts.done,r.opts.complete).fail(r.opts.fail).always(r.opts.always),we.fx.timer(we.extend(i,{elem:e,anim:r,queue:r.opts.queue})),r}function Y(e){var t=e.match(Oe)||[];return t.join(" ")}function J(e){return e.getAttribute&&e.getAttribute("class")||""}function Q(e){return Array.isArray(e)?e:"string"===typeof e?e.match(Oe)||[]:[]}function Z(e,t,n,s){if(Array.isArray(t))we.each(t,function(t,a){n||It.test(e)?s(e,a):Z(e+"["+("object"===("undefined"===typeof a?"undefined":babelHelpers["typeof"](a))&&null!=a?t:"")+"]",a,n,s)});else if(!n&&"object"===a(t))for(var o in t)Z(e+"["+o+"]",t[o],n,s);else s(e,t)}function ee(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var a=0,s=t.toLowerCase().match(Oe)||[],o;if(ve(n))for(;o=s[a++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function te(e,t,n,a){function s(r){var l;return o[r]=!0,we.each(e[r]||[],function(e,r){var d=r(t,n,a);return"string"!==typeof d||i||o[d]?i?!(l=d):void 0:(t.dataTypes.unshift(d),s(d),!1)}),l}var o={},i=e===Xt;return s(t.dataTypes[0])||!o["*"]&&s("*")}function ne(e,t){var n=we.ajaxSettings.flatOptions||{},a,s;for(a in t)void 0!==t[a]&&((n[a]?e:s||(s={}))[a]=t[a]);return s&&we.extend(!0,e,s),e}function ae(e,t,n){for(var a=e.contents,s=e.dataTypes,o,i,r,l;"*"===s[0];)s.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(i in a)if(a[i]&&a[i].test(o)){s.unshift(i);break}if(s[0]in n)r=s[0];else{for(i in n){if(!s[0]||e.converters[i+" "+s[0]]){r=i;break}l||(l=i)}r=r||l}return r?(r!==s[0]&&s.unshift(r),n[r]):void 0}function se(e,t,n,a){var s={},o=e.dataTypes.slice(),i,r,l,d,p;if(o[1])for(l in e.converters)s[l.toLowerCase()]=e.converters[l];for(r=o.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!p&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),p=r,r=o.shift(),r)if("*"===r)r=p;else if("*"!==p&&p!==r){if(l=s[p+" "+r]||s["* "+r],!l)for(i in s)if(d=i.split(" "),d[1]===r&&(l=s[p+" "+d[0]]||s["* "+d[0]],l)){!0===l?l=s[i]:!0!==s[i]&&(r=d[0],o.unshift(d[1]));break}if(!0!==l)if(l&&e.throws)t=l(t);else try{t=l(t)}catch(t){return{state:"parsererror",error:l?t:"No conversion from "+p+" to "+r}}}return{state:"success",data:t}}var oe=Math.ceil,ie=Math.max,re=String.fromCharCode,le=[],de=e.document,pe=Object.getPrototypeOf,ce=le.slice,ue=le.concat,ge=le.push,me=le.indexOf,he={},ye=he.toString,fe=he.hasOwnProperty,_e=fe.toString,be=_e.call(Object),xe={},ve=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType},Ce=function(e){return null!=e&&e===e.window},Te={type:!0,src:!0,noModule:!0},Se="3.3.1",we=function e(t,n){return new e.fn.init(t,n)},Ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;we.fn=we.prototype={jquery:Se,constructor:we,length:0,toArray:function(){return ce.call(this)},get:function(e){return null==e?ce.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=we.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return we.each(this,e)},map:function(e){return this.pushStack(we.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ce.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ge,sort:le.sort,splice:le.splice},we.extend=we.fn.extend=function(){var e=arguments[0]||{},t=1,n=arguments.length,a=!1,s,o,i,r,l,d;for("boolean"===typeof e&&(a=e,e=arguments[t]||{},t++),"object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))||ve(e)||(e={}),t===n&&(e=this,t--);t<n;t++)if(null!=(s=arguments[t]))for(o in s)(i=e[o],r=s[o],e!==r)&&(a&&r&&(we.isPlainObject(r)||(l=Array.isArray(r)))?(l?(l=!1,d=i&&Array.isArray(i)?i:[]):d=i&&we.isPlainObject(i)?i:{},e[o]=we.extend(a,d,r)):void 0!==r&&(e[o]=r));return e},we.extend({expando:"jQuery"+(Se+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return e&&"[object Object]"===ye.call(e)&&((t=pe(e),!!!t)||(n=fe.call(t,"constructor")&&t.constructor,"function"===typeof n&&_e.call(n)===be))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e){n(e)},each:function(e,t){var n=0,a;if(s(e))for(a=e.length;n<a&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(Ee,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?we.merge(n,"string"===typeof e?[e]:e):ge.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:me.call(t,e,n)},merge:function(e,t){for(var n=+t.length,a=0,s=e.length;a<n;a++)e[s++]=t[a];return e.length=s,e},grep:function(e,t,n){for(var a=[],s=0,o=e.length,i;s<o;s++)i=!t(e[s],s),i!==!n&&a.push(e[s]);return a},map:function(e,t,n){var a=0,o=[],i,r;if(s(e))for(i=e.length;a<i;a++)r=t(e[a],a,n),null!=r&&o.push(r);else for(a in e)r=t(e[a],a,n),null!=r&&o.push(r);return ue.apply([],o)},guid:1,support:xe}),"function"===typeof Symbol&&(we.fn[Symbol.iterator]=le[Symbol.iterator]),we.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error","Symbol"],function(e,t){he["[object "+t+"]"]=t.toLowerCase()});var ke=function(e){function t(e,t,n,a){var s=t&&t.ownerDocument,o=t?t.nodeType:9,r,l,i,d,p,c,g;if(n=n||[],"string"!==typeof e||!e||1!==o&&9!==o&&11!==o)return n;if(!a&&((t?t.ownerDocument||t:T)!==_e&&fe(t),t=t||_e,xe)){if(11!==o&&(p=Q.exec(e)))if(!(r=p[1])){if(p[2])return M.apply(n,t.getElementsByTagName(e)),n;if((r=p[3])&&le.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(r)),n}else if(9===o){if(!(i=t.getElementById(r)))return n;if(i.id===r)return n.push(i),n}else if(s&&(i=s.getElementById(r))&&Se(t,i)&&i.id===r)return n.push(i),n;if(le.qsa&&!L[e+" "]&&(!ve||!ve.test(e))){if(1!==o)s=t,g=e;else if("object"!==t.nodeName.toLowerCase()){for((d=t.getAttribute("id"))?d=d.replace(ne,ae):t.setAttribute("id",d=C),c=ce(e),l=c.length;l--;)c[l]="#"+d+" "+m(c[l]);g=c.join(","),s=Z.test(e)&&u(t.parentNode)||t}if(g)try{return M.apply(n,s.querySelectorAll(g)),n}catch(e){}finally{d===C&&t.removeAttribute("id")}}}return ge(e.replace(H,"$1"),t,n,a)}function n(){function e(n,a){return t.push(n+" ")>de.cacheLength&&delete e[t.shift()],e[n+" "]=a}var t=[];return e}function a(e){return e[C]=!0,e}function s(e){var t=_e.createElement("fieldset");try{return!!e(t)}catch(t){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),a=n.length;a--;)de.attrHandle[n[a]]=t}function r(e,t){var n=t&&e,a=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(a)return a;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function d(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function p(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:!!("label"in t)&&t.disabled===e}}function c(e){return a(function(t){return t=+t,a(function(n,a){for(var s=e([],n.length,t),o=s.length,i;o--;)n[i=s[o]]&&(n[i]=!(a[i]=n[i]))})})}function u(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}function g(){}function m(e){for(var t=0,n=e.length,a="";t<n;t++)a+=e[t].value;return a}function h(e,t,n){var a=t.dir,s=t.next,o=s||a,i=n&&"parentNode"===o,r=w++;return t.first?function(t,n,s){for(;t=t[a];)if(1===t.nodeType||i)return e(t,n,s);return!1}:function(t,n,l){var d=[S,r],p,c,u;if(l){for(;t=t[a];)if((1===t.nodeType||i)&&e(t,n,l))return!0;}else for(;t=t[a];)if(1===t.nodeType||i)if(u=t[C]||(t[C]={}),c=u[t.uniqueID]||(u[t.uniqueID]={}),s&&s===t.nodeName.toLowerCase())t=t[a]||t;else{if((p=c[o])&&p[0]===S&&p[1]===r)return d[2]=p[2];if(c[o]=d,d[2]=e(t,n,l))return!0}return!1}}function y(e){return 1<e.length?function(t,n,a){for(var s=e.length;s--;)if(!e[s](t,n,a))return!1;return!0}:e[0]}function f(e,n,a){for(var s=0,o=n.length;s<o;s++)t(e,n[s],a);return a}function _(e,t,n,a,s){for(var o=[],r=0,i=e.length,l;r<i;r++)(l=e[r])&&(!n||n(l,a,s))&&(o.push(l),null!=t&&t.push(r));return o}function b(e,t,n,s,o,i){return s&&!s[C]&&(s=b(s)),o&&!o[C]&&(o=b(o,i)),a(function(a,r,l,d){var p=[],c=[],u=r.length,g=a||f(t||"*",l.nodeType?[l]:l,[]),m=e&&(a||!t)?_(g,p,e,l,d):g,h=n?o||(a?e:u||s)?[]:r:m,y,b,i;if(n&&n(m,h,l,d),s)for(y=_(h,c),s(y,[],l,d),b=y.length;b--;)(i=y[b])&&(h[c[b]]=!(m[c[b]]=i));if(!a)h=_(h===r?h.splice(u,h.length):h),o?o(null,r,h,d):M.apply(r,h);else if(o||e){if(o){for(y=[],b=h.length;b--;)(i=h[b])&&y.push(m[b]=i);o(null,h=[],y,d)}for(b=h.length;b--;)(i=h[b])&&-1<(y=o?I(a,i):p[b])&&(a[y]=!(r[y]=i))}})}function x(e){for(var t=e.length,n=de.relative[e[0].type],a=n||de.relative[" "],s=n?1:0,o=h(function(e){return e===l},a,!0),i=h(function(e){return-1<I(l,e)},a,!0),r=[function(e,t,a){var s=!n&&(a||t!==me)||((l=t).nodeType?o(e,t,a):i(e,t,a));return l=null,s}],l,d,p;s<t;s++)if(d=de.relative[e[s].type])r=[h(y(r),d)];else{if(d=de.filter[e[s].type].apply(null,e[s].matches),d[C]){for(p=++s;p<t&&!de.relative[e[p].type];p++);return b(1<s&&y(r),1<s&&m(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(H,"$1"),d,s<p&&x(e.slice(s,p)),p<t&&x(e=e.slice(p)),p<t&&m(e))}r.push(d)}return y(r)}function v(e,n){var s=0<n.length,o=0<e.length,i=function(a,r,l,d,p){var c=0,u="0",i=a&&[],g=[],m=me,h=a||o&&de.find.TAG("*",p),y=S+=null==m?1:Math.random()||0.1,f=h.length,b,x,v;for(p&&(me=r===_e||r||p);u!==f&&null!=(b=h[u]);u++){if(o&&b){for(x=0,r||b.ownerDocument===_e||(fe(b),l=!xe);v=e[x++];)if(v(b,r||_e,l)){d.push(b);break}p&&(S=y)}s&&((b=!v&&b)&&c--,a&&i.push(b))}if(c+=u,s&&u!==c){for(x=0;v=n[x++];)v(i,g,r,l);if(a){if(0<c)for(;u--;)i[u]||g[u]||(g[u]=A.call(d));g=_(g)}M.apply(d,g),p&&!a&&0<g.length&&1<c+n.length&&t.uniqueSort(d)}return p&&(S=y,me=m),i};return s?a(i):i}var C="sizzle"+1*new Date,T=e.document,S=0,w=0,E=n(),k=n(),L=n(),R=function(e,t){return e===t&&(ye=!0),0},D={}.hasOwnProperty,N=[],A=N.pop,j=N.push,M=N.push,P=N.slice,I=function(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",q="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\0-\\xa0])+",B=/[\x20\t\r\n\f]+/g,H=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,U=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,G=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,V=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,W=/:((?:\\.|[\w-]|[^\0-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,z=/^(?:\\.|[\w-]|[^\0-\xa0])+$/,X={ID:/^#((?:\\.|[\w-]|[^\0-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\0-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\0-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\0-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},K=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,te=function(e,t,n){var a="0x"+t-65536;return a!==a||n?t:0>a?re(a+65536):re(55296|a>>10,56320|1023&a)},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},se=function(){fe()},oe=h(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"}),ie,le,de,pe,i,ce,ue,ge,me,he,ye,fe,_e,be,xe,ve,Ce,Te,Se;try{M.apply(N=P.call(T.childNodes),T.childNodes),N[T.childNodes.length].nodeType}catch(t){M={apply:N.length?function(e,t){j.apply(e,P.call(t))}:function(e,t){for(var n=e.length,a=0;e[n++]=t[a++];);e.length=n-1}}}for(ie in le=t.support={},i=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},fe=t.setDocument=function(e){var t=e?e.ownerDocument||e:T,n,a;return t!==_e&&9===t.nodeType&&t.documentElement?(_e=t,be=_e.documentElement,xe=!i(_e),T!==_e&&(a=_e.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",se,!1):a.attachEvent&&a.attachEvent("onunload",se)),le.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),le.getElementsByTagName=s(function(e){return e.appendChild(_e.createComment("")),!e.getElementsByTagName("*").length}),le.getElementsByClassName=J.test(_e.getElementsByClassName),le.getById=s(function(e){return be.appendChild(e).id=C,!_e.getElementsByName||!_e.getElementsByName(C).length}),le.getById?(de.filter.ID=function(e){var t=e.replace(ee,te);return function(e){return e.getAttribute("id")===t}},de.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&xe){var n=t.getElementById(e);return n?[n]:[]}}):(de.filter.ID=function(e){var t=e.replace(ee,te);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},de.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&xe){var n=t.getElementById(e),a,s,o;if(n){if(a=n.getAttributeNode("id"),a&&a.value===e)return[n];for(o=t.getElementsByName(e),s=0;n=o[s++];)if(a=n.getAttributeNode("id"),a&&a.value===e)return[n]}return[]}}),de.find.TAG=le.getElementsByTagName?function(e,t){return"undefined"===typeof t.getElementsByTagName?le.qsa?t.querySelectorAll(e):void 0:t.getElementsByTagName(e)}:function(e,t){var n=[],a=0,s=t.getElementsByTagName(e),o;if("*"===e){for(;o=s[a++];)1===o.nodeType&&n.push(o);return n}return s},de.find.CLASS=le.getElementsByClassName&&function(e,t){if("undefined"!==typeof t.getElementsByClassName&&xe)return t.getElementsByClassName(e)},Ce=[],ve=[],(le.qsa=J.test(_e.querySelectorAll))&&(s(function(e){be.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&ve.push("[*^$]="+q+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||ve.push("\\["+q+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+C+"-]").length||ve.push("~="),e.querySelectorAll(":checked").length||ve.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||ve.push(".#.+[+~]")}),s(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=_e.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&ve.push("name"+q+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&ve.push(":enabled",":disabled"),be.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&ve.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),ve.push(",.*:")})),(le.matchesSelector=J.test(Te=be.matches||be.webkitMatchesSelector||be.mozMatchesSelector||be.oMatchesSelector||be.msMatchesSelector))&&s(function(e){le.disconnectedMatch=Te.call(e,"*"),Te.call(e,"[s!='']:x"),Ce.push("!=",":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+("\\["+q+"*("+F+")(?:"+q+"*([*^$|!~]?=)"+q+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+q+"*\\]")+")*)|.*)\\)|)")}),ve=ve.length&&new RegExp(ve.join("|")),Ce=Ce.length&&new RegExp(Ce.join("|")),n=J.test(be.compareDocumentPosition),Se=n||J.test(be.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||!!(a&&1===a.nodeType&&(n.contains?n.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},R=n?function(e,t){if(e===t)return ye=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!le.sortDetached&&t.compareDocumentPosition(e)===n?e===_e||e.ownerDocument===T&&Se(T,e)?-1:t===_e||t.ownerDocument===T&&Se(T,t)?1:he?I(he,e)-I(he,t):0:4&n?-1:1)}:function(e,t){if(e===t)return ye=!0,0;var n=0,a=e.parentNode,s=t.parentNode,o=[e],i=[t],l;if(!a||!s)return e===_e?-1:t===_e?1:a?-1:s?1:he?I(he,e)-I(he,t):0;if(a===s)return r(e,t);for(l=e;l=l.parentNode;)o.unshift(l);for(l=t;l=l.parentNode;)i.unshift(l);for(;o[n]===i[n];)n++;return n?r(o[n],i[n]):o[n]===T?-1:i[n]===T?1:0},_e):_e},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==_e&&fe(e),n=n.replace(V,"='$1']"),le.matchesSelector&&xe&&!L[n+" "]&&(!Ce||!Ce.test(n))&&(!ve||!ve.test(n)))try{var a=Te.call(e,n);if(a||le.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(t){}return 0<t(n,_e,null,[e]).length},t.contains=function(e,t){return(e.ownerDocument||e)!==_e&&fe(e),Se(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==_e&&fe(e);var n=de.attrHandle[t.toLowerCase()],a=n&&D.call(de.attrHandle,t.toLowerCase())?n(e,t,!xe):void 0;return void 0===a?le.attributes||!xe?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null:a},t.escape=function(e){return(e+"").replace(ne,ae)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t=[],n=0,a=0,s;if(ye=!le.detectDuplicates,he=!le.sortStable&&e.slice(0),e.sort(R),ye){for(;s=e[a++];)s===e[a]&&(n=t.push(a));for(;n--;)e.splice(t[n],1)}return he=null,e},pe=t.getText=function(e){var t="",n=0,a=e.nodeType,s;if(!a)for(;s=e[n++];)t+=pe(s);else if(1===a||9===a||11===a){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=pe(e)}else if(3===a||4===a)return e.nodeValue;return t},de=t.selectors={cacheLength:50,createPseudo:a,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ee,te),e[3]=(e[3]||e[4]||e[5]||"").replace(ee,te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(!e[3]&&t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t=!e[6]&&e[2],n;return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":t&&W.test(t)&&(n=ce(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(e[0]=e[0].slice(0,n),e[2]=t.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ee,te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+q+")"+e+"("+q+"|$)"))&&E(e,function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(s){var o=t.attr(s,e);return null==o?"!="===n:!n||(o+="","="===n?o===a:"!="===n?o!==a:"^="===n?a&&0===o.indexOf(a):"*="===n?a&&-1<o.indexOf(a):"$="===n?a&&o.slice(-a.length)===a:"~="===n?-1<(" "+o.replace(B," ")+" ").indexOf(a):"|="===n&&(o===a||o.slice(0,a.length+1)===a+"-"))}},CHILD:function(e,t,n,a,s){var o="nth"!==e.slice(0,3),i="last"!==e.slice(-4),r="of-type"===t;return 1===a&&0===s?function(e){return!!e.parentNode}:function(t,n,l){var d=o===i?"previousSibling":"nextSibling",p=t.parentNode,c=r&&t.nodeName.toLowerCase(),u=!l&&!r,g=!1,m,h,y,f,_,b;if(p){if(o){for(;d;){for(f=t;f=f[d];)if(r?f.nodeName.toLowerCase()===c:1===f.nodeType)return!1;b=d="only"===e&&!b&&"nextSibling"}return!0}if(b=[i?p.firstChild:p.lastChild],i&&u){for(f=p,y=f[C]||(f[C]={}),h=y[f.uniqueID]||(y[f.uniqueID]={}),m=h[e]||[],_=m[0]===S&&m[1],g=_&&m[2],f=_&&p.childNodes[_];f=++_&&f&&f[d]||(g=_=0)||b.pop();)if(1===f.nodeType&&++g&&f===t){h[e]=[S,_,g];break}}else if(u&&(f=t,y=f[C]||(f[C]={}),h=y[f.uniqueID]||(y[f.uniqueID]={}),m=h[e]||[],_=m[0]===S&&m[1],g=_),!1===g)for(;(f=++_&&f&&f[d]||(g=_=0)||b.pop())&&!((r?f.nodeName.toLowerCase()===c:1===f.nodeType)&&++g&&(u&&(y=f[C]||(f[C]={}),h=y[f.uniqueID]||(y[f.uniqueID]={}),h[e]=[S,g]),f===t)););return g-=s,g===a||0===g%a&&0<=g/a}}},PSEUDO:function(e,n){var s=de.pseudos[e]||de.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e),o;return s[C]?s(n):1<s.length?(o=[e,e,"",n],de.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,t){for(var a=s(e,n),o=a.length,i;o--;)i=I(e,a[o]),e[i]=!(t[i]=a[o])}):function(e){return s(e,0,o)}):s}},pseudos:{not:a(function(e){var t=[],n=[],s=ue(e.replace(H,"$1"));return s[C]?a(function(e,t,n,a){for(var o=s(e,null,a,[]),r=e.length,i;r--;)(i=o[r])&&(e[r]=!(t[r]=i))}):function(e,a,o){return t[0]=e,s(t,null,o,n),t[0]=null,!n.pop()}}),has:a(function(e){return function(n){return 0<t(e,n).length}}),contains:a(function(e){return e=e.replace(ee,te),function(t){return-1<(t.textContent||t.innerText||pe(t)).indexOf(e)}}),lang:a(function(e){return z.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ee,te).toLowerCase(),function(t){var n;do if(n=xe?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===be},focus:function(e){return e===_e.activeElement&&(!_e.hasFocus||_e.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:p(!1),disabled:p(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!de.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var a=0>n?n+t:n;0<=--a;)e.push(a);return e}),gt:c(function(e,t,n){for(var a=0>n?n+t:n;++a<t;)e.push(a);return e})}},de.pseudos.nth=de.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})de.pseudos[ie]=l(ie);for(ie in{submit:!0,reset:!0})de.pseudos[ie]=d(ie);return g.prototype=de.filters=de.pseudos,de.setFilters=new g,ce=t.tokenize=function(e,n){var a=k[e+" "],s,o,i,r,l,d,p;if(a)return n?0:a.slice(0);for(l=e,d=[],p=de.preFilter;l;){for(r in(!s||(o=U.exec(l)))&&(o&&(l=l.slice(o[0].length)||l),d.push(i=[])),s=!1,(o=G.exec(l))&&(s=o.shift(),i.push({value:s,type:o[0].replace(H," ")}),l=l.slice(s.length)),de.filter)(o=X[r].exec(l))&&(!p[r]||(o=p[r](o)))&&(s=o.shift(),i.push({value:s,type:r,matches:o}),l=l.slice(s.length));if(!s)break}return n?l.length:l?t.error(e):k(e,d).slice(0)},ue=t.compile=function(e,t){var n=[],a=[],s=L[e+" "],o;if(!s){for(t||(t=ce(e)),o=t.length;o--;)s=x(t[o]),s[C]?n.push(s):a.push(s);s=L(e,v(a,n)),s.selector=e}return s},ge=t.select=function(e,t,n,a){var s="function"===typeof e&&e,o=!a&&ce(e=s.selector||e),r,i,l,d,p;if(n=n||[],1===o.length){if(i=o[0]=o[0].slice(0),2<i.length&&"ID"===(l=i[0]).type&&9===t.nodeType&&xe&&de.relative[i[1].type]){if(t=(de.find.ID(l.matches[0].replace(ee,te),t)||[])[0],!t)return n;s&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(r=X.needsContext.test(e)?0:i.length;r--&&(l=i[r],!de.relative[d=l.type]);)if((p=de.find[d])&&(a=p(l.matches[0].replace(ee,te),Z.test(i[0].type)&&u(t.parentNode)||t))){if(i.splice(r,1),e=a.length&&m(i),!e)return M.apply(n,a),n;break}}return(s||ue(e,o))(a,t,!xe,n,!t||Z.test(e)&&u(t.parentNode)||t),n},le.sortStable=C.split("").sort(R).join("")===C,le.detectDuplicates=!!ye,fe(),le.sortDetached=s(function(e){return 1&e.compareDocumentPosition(_e.createElement("fieldset"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),le.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||o(O,function(e,t,n){var a;if(!n)return!0===e[t]?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null}),t}(e);we.find=ke,we.expr=ke.selectors,we.expr[":"]=we.expr.pseudos,we.uniqueSort=we.unique=ke.uniqueSort,we.text=ke.getText,we.isXMLDoc=ke.isXML,we.contains=ke.contains,we.escapeSelector=ke.escape;var Le=function(e,t,n){for(var a=[];(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(void 0!==n&&we(e).is(n))break;a.push(e)}return a},Re=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},De=we.expr.match.needsContext,Ne=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;we.filter=function(e,t,n){var a=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?we.find.matchesSelector(a,e)?[a]:[]:we.find.matches(e,we.grep(t,function(e){return 1===e.nodeType}))},we.fn.extend({find:function(e){var t=this.length,n=this,a,s;if("string"!==typeof e)return this.pushStack(we(e).filter(function(){for(a=0;a<t;a++)if(we.contains(n[a],this))return!0}));for(s=this.pushStack([]),a=0;a<t;a++)we.find(e,n[a],s);return 1<t?we.uniqueSort(s):s},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"===typeof e&&De.test(e)?we(e):e||[],!1).length}});var Ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,je=we.fn.init=function(e,t,n){var a,s;if(!e)return this;if(n=n||Me,"string"===typeof e){if(a="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:Ae.exec(e),a&&(a[1]||!t)){if(a[1]){if(t=t instanceof we?t[0]:t,we.merge(this,we.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:de,!0)),Ne.test(a[1])&&we.isPlainObject(t))for(a in t)ve(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}return s=de.getElementById(a[2]),s&&(this[0]=s,this.length=1),this}return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}return e.nodeType?(this[0]=e,this.length=1,this):ve(e)?void 0===n.ready?e(we):n.ready(e):we.makeArray(e,this)},Me;je.prototype=we.fn,Me=we(de);var Pe=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};we.fn.extend({has:function(e){var t=we(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(we.contains(this,t[e]))return!0})},closest:function(e,t){var n=0,a=this.length,s=[],o="string"!==typeof e&&we(e),i;if(!De.test(e))for(;n<a;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(11>i.nodeType&&(o?-1<o.index(i):1===i.nodeType&&we.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(1<s.length?we.uniqueSort(s):s)},index:function(e){return e?"string"===typeof e?me.call(we(e),this[0]):me.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(we.uniqueSort(we.merge(this.get(),we(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),we.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Le(e,"parentNode")},parentsUntil:function(e,t,n){return Le(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return Le(e,"nextSibling")},prevAll:function(e){return Le(e,"previousSibling")},nextUntil:function(e,t,n){return Le(e,"nextSibling",n)},prevUntil:function(e,t,n){return Le(e,"previousSibling",n)},siblings:function(e){return Re((e.parentNode||{}).firstChild,e)},children:function(e){return Re(e.firstChild)},contents:function(e){return o(e,"iframe")?e.contentDocument:(o(e,"template")&&(e=e.content||e),we.merge([],e.childNodes))}},function(e,t){we.fn[e]=function(n,a){var s=we.map(this,t,n);return"Until"!==e.slice(-5)&&(a=n),a&&"string"===typeof a&&(s=we.filter(a,s)),1<this.length&&(!Ie[e]&&we.uniqueSort(s),Pe.test(e)&&s.reverse()),this.pushStack(s)}});var Oe=/[^\x20\t\r\n\f]+/g;we.Callbacks=function(e){e="string"===typeof e?l(e):we.extend({},e);var t=[],n=[],s=-1,o=function(){for(c=c||e.once,p=r=!0;n.length;s=-1)for(d=n.shift();++s<t.length;)!1===t[s].apply(d[0],d[1])&&e.stopOnFalse&&(s=t.length,d=!1);e.memory||(d=!1),r=!1,c&&(d?t=[]:t="")},i={add:function(){return t&&(d&&!r&&(s=t.length-1,n.push(d)),function n(s){we.each(s,function(s,o){ve(o)?(!e.unique||!i.has(o))&&t.push(o):o&&o.length&&"string"!==a(o)&&n(o)})}(arguments),d&&!r&&o()),this},remove:function(){return we.each(arguments,function(e,n){for(var a;-1<(a=we.inArray(n,t,a));)t.splice(a,1),a<=s&&s--}),this},has:function(e){return e?-1<we.inArray(e,t):0<t.length},empty:function(){return t&&(t=[]),this},disable:function(){return c=n=[],t=d="",this},disabled:function(){return!t},lock:function(){return c=n=[],d||r||(t=d=""),this},locked:function(){return!!c},fireWith:function(e,t){return c||(t=t||[],t=[e,t.slice?t.slice():t],n.push(t),!r&&o()),this},fire:function(){return i.fireWith(this,arguments),this},fired:function(){return!!p}},r,d,p,c;return i},we.extend({Deferred:function(t){var n=[["notify","progress",we.Callbacks("memory"),we.Callbacks("memory"),2],["resolve","done",we.Callbacks("once memory"),we.Callbacks("once memory"),0,"resolved"],["reject","fail",we.Callbacks("once memory"),we.Callbacks("once memory"),1,"rejected"]],a="pending",s={state:function(){return a},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var e=arguments;return we.Deferred(function(t){we.each(n,function(n,a){var s=ve(e[a[4]])&&e[a[4]];o[a[1]](function(){var e=s&&s.apply(this,arguments);e&&ve(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[a[0]+"With"](this,s?[e]:arguments)})}),e=null}).promise()},then:function(t,a,s){function o(t,n,a,s){return function(){var r=this,l=arguments,c=function(){var e,c;if(!(t<i)){if(e=a.apply(r,l),e===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))||"function"===typeof e)&&e.then,ve(c)?s?c.call(e,o(i,n,d,s),o(i,n,p,s)):(i++,c.call(e,o(i,n,d,s),o(i,n,p,s),o(i,n,d,n.notifyWith))):(a!==d&&(r=void 0,l=[e]),(s||n.resolveWith)(r,l))}},u=s?c:function(){try{c()}catch(s){we.Deferred.exceptionHook&&we.Deferred.exceptionHook(s,u.stackTrace),t+1>=i&&(a!==p&&(r=void 0,l=[s]),n.rejectWith(r,l))}};t?u():(we.Deferred.getStackHook&&(u.stackTrace=we.Deferred.getStackHook()),e.setTimeout(u))}}var i=0;return we.Deferred(function(e){n[0][3].add(o(0,e,ve(s)?s:d,e.notifyWith)),n[1][3].add(o(0,e,ve(t)?t:d)),n[2][3].add(o(0,e,ve(a)?a:p))}).promise()},promise:function(e){return null==e?s:we.extend(e,s)}},o={};return we.each(n,function(e,t){var i=t[2],r=t[5];s[t[1]]=i.add,r&&i.add(function(){a=r},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),i.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=i.fireWith}),s.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,a=Array(n),s=ce.call(arguments),o=we.Deferred(),i=function(e){return function(n){a[e]=this,s[e]=1<arguments.length?ce.call(arguments):n,--t||o.resolveWith(a,s)}};if(1>=t&&(c(e,o.done(i(n)).resolve,o.reject,!t),"pending"===o.state()||ve(s[n]&&s[n].then)))return o.then();for(;n--;)c(s[n],i(n),o.reject);return o.promise()}});var qe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;we.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&qe.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},we.readyException=function(t){e.setTimeout(function(){throw t})};var Fe=we.Deferred();we.fn.ready=function(e){return Fe.then(e)["catch"](function(e){we.readyException(e)}),this},we.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?! --we.readyWait:!we.isReady)&&(we.isReady=!0,!0!==e&&0<--we.readyWait||Fe.resolveWith(de,[we]))}}),we.ready.then=Fe.then,"complete"!==de.readyState&&("loading"===de.readyState||de.documentElement.doScroll)?(de.addEventListener("DOMContentLoaded",u),e.addEventListener("load",u)):e.setTimeout(we.ready);var Be=function e(t,n,s,o,r,l,d){var p=0,i=t.length,c=null==s;if("object"===a(s))for(p in r=!0,s)e(t,n,p,s[p],!0,l,d);else if(void 0!==o&&(r=!0,ve(o)||(d=!0),c&&(d?(n.call(t,o),n=null):(c=n,n=function(e,t,n){return c.call(we(e),n)})),n))for(;p<i;p++)n(t[p],s,d?o:o.call(t[p],p,n(t[p],s)));return r?t:c?n.call(t):i?n(t[0],s):l},He=/^-ms-/,$e=/-([a-z])/g,Ue=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};h.uid=1,h.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ue(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var a=this.cache(e),s;if("string"===typeof t)a[m(t)]=n;else for(s in t)a[m(s)]=t[s];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][m(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0===n?t:n)},remove:function(e,t){var n=e[this.expando],a;if(void 0!==n){if(void 0!==t)for(Array.isArray(t)?t=t.map(m):(t=m(t),t=(t in n)?[t]:t.match(Oe)||[]),a=t.length;a--;)delete n[t[a]];(void 0===t||we.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!we.isEmptyObject(t)}};var Ge=new h,Ve=new h,We=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ze=/[A-Z]/g;we.extend({hasData:function(e){return Ve.hasData(e)||Ge.hasData(e)},data:function(e,t,n){return Ve.access(e,t,n)},removeData:function(e,t){Ve.remove(e,t)},_data:function(e,t,n){return Ge.access(e,t,n)},_removeData:function(e,t){Ge.remove(e,t)}}),we.fn.extend({data:function(e,t){var n=this[0],a=n&&n.attributes,s,o,i;if(void 0===e){if(this.length&&(i=Ve.get(n),1===n.nodeType&&!Ge.get(n,"hasDataAttrs"))){for(s=a.length;s--;)a[s]&&(o=a[s].name,0===o.indexOf("data-")&&(o=m(o.slice(5)),f(n,o,i[o])));Ge.set(n,"hasDataAttrs",!0)}return i}return"object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))?this.each(function(){Ve.set(this,e)}):Be(this,function(t){var a;return n&&void 0===t?(a=Ve.get(n,e),void 0!==a)?a:(a=f(n,e),void 0===a?void 0:a):void this.each(function(){Ve.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Ve.remove(this,e)})}}),we.extend({queue:function(e,t,n){var a;if(e)return t=(t||"fx")+"queue",a=Ge.get(e,t),n&&(!a||Array.isArray(n)?a=Ge.access(e,t,we.makeArray(n)):a.push(n)),a||[]},dequeue:function(e,t){t=t||"fx";var n=we.queue(e,t),a=n.length,s=n.shift(),o=we._queueHooks(e,t);"inprogress"===s&&(s=n.shift(),a--),s&&("fx"===t&&n.unshift("inprogress"),delete o.stop,s.call(e,function(){we.dequeue(e,t)},o)),!a&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ge.get(e,n)||Ge.access(e,n,{empty:we.Callbacks("once memory").add(function(){Ge.remove(e,[t+"queue",n])})})}}),we.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?we.queue(this[0],e):void 0===t?this:this.each(function(){var n=we.queue(this,e,t);we._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&we.dequeue(this,e)})},dequeue:function(e){return this.each(function(){we.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n=1,a=we.Deferred(),s=this,o=this.length,i=function(){--n||a.resolveWith(s,[s])},r;for("string"!==typeof e&&(t=e,e=void 0),e=e||"fx";o--;)r=Ge.get(s[o],e+"queueHooks"),r&&r.empty&&(n++,r.empty.add(i));return i(),a.promise(t)}});var Xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ke=new RegExp("^(?:([+-])=|)("+Xe+")([a-z%]*)$","i"),Ye=["Top","Right","Bottom","Left"],Je=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&we.contains(e.ownerDocument,e)&&"none"===we.css(e,"display")},Qe=function(e,t,n,a){var s={},o,i;for(i in t)s[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,a||[]),t)e.style[i]=s[i];return o},Ze={};we.fn.extend({show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each(function(){Je(this)?we(this).show():we(this).hide()})}});var et=/^(?:checkbox|radio)$/i,tt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,nt=/^$|^module$|\/(?:java|ecma)script/i,at={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};at.optgroup=at.option,at.tbody=at.tfoot=at.colgroup=at.caption=at.thead,at.th=at.td;var st=/<|&#?\w+;/;(function(){var e=de.createDocumentFragment(),t=e.appendChild(de.createElement("div")),n=de.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),xe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",xe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var ot=de.documentElement,it=/^key/,rt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,lt=/^([^.]*)(?:\.(.+)|)/;we.event={global:{},add:function(n,e,a,s,o){var i=Ge.get(n),r,l,d,p,c,t,u,g,m,h,y;if(i)for(a.handler&&(r=a,a=r.handler,o=r.selector),o&&we.find.matchesSelector(ot,o),a.guid||(a.guid=we.guid++),(p=i.events)||(p=i.events={}),(l=i.handle)||(l=i.handle=function(t){return"undefined"!==typeof we&&we.event.triggered!==t.type?we.event.dispatch.apply(n,arguments):void 0}),e=(e||"").match(Oe)||[""],c=e.length;c--;)(d=lt.exec(e[c])||[],m=y=d[1],h=(d[2]||"").split(".").sort(),!!m)&&(u=we.event.special[m]||{},m=(o?u.delegateType:u.bindType)||m,u=we.event.special[m]||{},t=we.extend({type:m,origType:y,data:s,handler:a,guid:a.guid,selector:o,needsContext:o&&we.expr.match.needsContext.test(o),namespace:h.join(".")},r),(g=p[m])||(g=p[m]=[],g.delegateCount=0,(!u.setup||!1===u.setup.call(n,s,h,l))&&n.addEventListener&&n.addEventListener(m,l)),u.add&&(u.add.call(n,t),!t.handler.guid&&(t.handler.guid=a.guid)),o?g.splice(g.delegateCount++,0,t):g.push(t),we.event.global[m]=!0)},remove:function(e,n,a,s,o){var i=Ge.hasData(e)&&Ge.get(e),r,l,d,p,c,t,u,g,m,h,y;if(i&&(p=i.events)){for(n=(n||"").match(Oe)||[""],c=n.length;c--;){if(d=lt.exec(n[c])||[],m=y=d[1],h=(d[2]||"").split(".").sort(),!m){for(m in p)we.event.remove(e,m+n[c],a,s,!0);continue}for(u=we.event.special[m]||{},m=(s?u.delegateType:u.bindType)||m,g=p[m]||[],d=d[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=g.length;r--;)t=g[r],(o||y===t.origType)&&(!a||a.guid===t.guid)&&(!d||d.test(t.namespace))&&(!s||s===t.selector||"**"===s&&t.selector)&&(g.splice(r,1),t.selector&&g.delegateCount--,u.remove&&u.remove.call(e,t));l&&!g.length&&((!u.teardown||!1===u.teardown.call(e,h,i.handle))&&we.removeEvent(e,m,i.handle),delete p[m])}we.isEmptyObject(p)&&Ge.remove(e,"handle events")}},dispatch:function(e){var t=we.event.fix(e),n=Array(arguments.length),a=(Ge.get(this,"events")||{})[t.type]||[],s=we.event.special[t.type]||{},o,i,r,l,d,p;for(n[0]=t,o=1;o<arguments.length;o++)n[o]=arguments[o];if(t.delegateTarget=this,!(s.preDispatch&&!1===s.preDispatch.call(this,t))){for(p=we.event.handlers.call(this,t,a),o=0;(l=p[o++])&&!t.isPropagationStopped();)for(t.currentTarget=l.elem,i=0;(d=l.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(d.namespace))&&(t.handleObj=d,t.data=d.data,r=((we.event.special[d.origType]||{}).handle||d.handler).apply(l.elem,n),void 0!==r&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return s.postDispatch&&s.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n=[],a=t.delegateCount,s=e.target,o,i,r,l,d;if(a&&s.nodeType&&!("click"===e.type&&1<=e.button))for(;s!==this;s=s.parentNode||this)if(1===s.nodeType&&("click"!==e.type||!0!==s.disabled)){for(l=[],d={},o=0;o<a;o++)i=t[o],r=i.selector+" ",void 0===d[r]&&(d[r]=i.needsContext?-1<we(r,this).index(s):we.find(r,this,null,[s]).length),d[r]&&l.push(i);l.length&&n.push({elem:s,handlers:l})}return s=this,a<t.length&&n.push({elem:s,handlers:t.slice(a)}),n},addProp:function(e,t){Object.defineProperty(we.Event.prototype,e,{enumerable:!0,configurable:!0,get:ve(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[we.expando]?e:new we.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&o(this,"input"))return this.click(),!1},_default:function(e){return o(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},we.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},we.Event=function(e,t){return this instanceof we.Event?void(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?S:w,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&we.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[we.expando]=!0):new we.Event(e,t)},we.Event.prototype={constructor:we.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=S,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=S,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=S,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},we.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&it.test(e.type)?null==e.charCode?e.keyCode:e.charCode:!e.which&&void 0!==t&&rt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},we.event.addProp),we.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){we.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n=this,a=e.relatedTarget,s=e.handleObj,o;return a&&(a===n||we.contains(n,a))||(e.type=s.origType,o=s.handler.apply(this,arguments),e.type=t),o}}}),we.fn.extend({on:function(e,t,n,a){return k(this,e,t,n,a)},one:function(e,t,n,a){return k(this,e,t,n,a,1)},off:function(e,t,n){var a,s;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,we(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))){for(s in e)this.off(s,t,e[s]);return this}return(!1===t||"function"===typeof t)&&(n=t,t=void 0),!1===n&&(n=w),this.each(function(){we.event.remove(this,e,n,t)})}});var dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,pt=/<script|<style|<link/i,ct=/checked\s*(?:[^=]|=\s*.checked.)/i,ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;we.extend({htmlPrefilter:function(e){return e.replace(dt,"<$1></$2>")},clone:function(e,t,n){var a=e.cloneNode(!0),s=we.contains(e.ownerDocument,e),o,i,r,l;if(!xe.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!we.isXMLDoc(e))for(l=v(a),r=v(e),(o=0,i=r.length);o<i;o++)A(r[o],l[o]);if(t)if(n)for(r=r||v(e),l=l||v(a),(o=0,i=r.length);o<i;o++)N(r[o],l[o]);else N(e,a);return l=v(a,"script"),0<l.length&&C(l,!s&&v(e,"script")),a},cleanData:function(e){for(var t=we.event.special,n=0,a,s,o;void 0!==(s=e[n]);n++)if(Ue(s)){if(a=s[Ge.expando]){if(a.events)for(o in a.events)t[o]?we.event.remove(s,o):we.removeEvent(s,o,a.handle);s[Ge.expando]=void 0}s[Ve.expando]&&(s[Ve.expando]=void 0)}}}),we.fn.extend({detach:function(e){return M(this,e,!0)},remove:function(e){return M(this,e)},text:function(e){return Be(this,function(e){return void 0===e?we.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return j(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=L(this,e);t.appendChild(e)}})},prepend:function(){return j(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=L(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e=0,t;null!=(t=this[e]);e++)1===t.nodeType&&(we.cleanData(v(t,!1)),t.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return we.clone(this,e,t)})},html:function(e){return Be(this,function(e){var t=this[0]||{},n=0,a=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!pt.test(e)&&!at[(tt.exec(e)||["",""])[1].toLowerCase()]){e=we.htmlPrefilter(e);try{for(;n<a;n++)t=this[n]||{},1===t.nodeType&&(we.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(t){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return j(this,arguments,function(t){var n=this.parentNode;0>we.inArray(this,e)&&(we.cleanData(v(this)),n&&n.replaceChild(t,this))},e)}}),we.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){we.fn[e]=function(e){for(var n=[],a=we(e),s=a.length-1,o=0,i;o<=s;o++)i=o===s?this:this.clone(!0),we(a[o])[t](i),ge.apply(n,i.get());return this.pushStack(n)}});var gt=new RegExp("^("+Xe+")(?!px)[a-z%]+$","i"),mt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ht=new RegExp(Ye.join("|"),"i");(function(){function t(){if(s){a.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",s.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(a).appendChild(s);var t=e.getComputedStyle(s);o="1%"!==t.top,d=12===n(t.marginLeft),s.style.right="60%",l=36===n(t.right),i=36===n(t.width),s.style.position="absolute",r=36===s.offsetWidth||"absolute",ot.removeChild(a),s=null}}function n(e){return Math.round(parseFloat(e))}var a=de.createElement("div"),s=de.createElement("div"),o,i,r,l,d;s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",xe.clearCloneStyle="content-box"===s.style.backgroundClip,we.extend(xe,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),l},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),d},scrollboxSize:function(){return t(),r}}))})();var yt=/^(none|table(?!-c[ea]).+)/,ft=/^--/,_t={position:"absolute",visibility:"hidden",display:"block"},bt={letterSpacing:"0",fontWeight:"400"},xt=["Webkit","Moz","ms"],vt=de.createElement("div").style;we.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=P(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s=m(t),o=ft.test(t),i=e.style,r,l,d;if(o||(t=q(s)),d=we.cssHooks[t]||we.cssHooks[s],void 0!==n){if(l="undefined"===typeof n?"undefined":babelHelpers["typeof"](n),"string"===l&&(r=Ke.exec(n))&&r[1]&&(n=_(e,t,r),l="number"),null==n||n!==n)return;"number"===l&&(n+=r&&r[3]||(we.cssNumber[s]?"":"px")),xe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(i[t]="inherit"),d&&"set"in d&&void 0===(n=d.set(e,n,a))||(o?i.setProperty(t,n):i[t]=n)}else return d&&"get"in d&&void 0!==(r=d.get(e,!1,a))?r:i[t]}},css:function(e,t,n,a){var s=m(t),o=ft.test(t),i,r,l;return o||(t=q(s)),l=we.cssHooks[t]||we.cssHooks[s],l&&"get"in l&&(i=l.get(e,!0,n)),void 0===i&&(i=P(e,t,a)),"normal"===i&&t in bt&&(i=bt[t]),""===n||n?(r=parseFloat(i),!0===n||isFinite(r)?r||0:i):i}}),we.each(["height","width"],function(e,t){we.cssHooks[t]={get:function(e,n,a){if(n)return!yt.test(we.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?H(e,t,a):Qe(e,_t,function(){return H(e,t,a)})},set:function(e,n,a){var s=mt(e),o="border-box"===we.css(e,"boxSizing",!1,s),i=a&&B(e,t,a,o,s),r;return o&&xe.scrollboxSize()===s.position&&(i-=oe(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-B(e,t,"border",!1,s)-0.5)),i&&(r=Ke.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=we.css(e,t)),F(e,n,i)}}}),we.cssHooks.marginLeft=I(xe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),we.each({margin:"",padding:"",border:"Width"},function(e,t){we.cssHooks[e+t]={expand:function(n){for(var a=0,s={},o="string"===typeof n?n.split(" "):[n];4>a;a++)s[e+Ye[a]+t]=o[a]||o[a-2]||o[0];return s}},"margin"!==e&&(we.cssHooks[e+t].set=F)}),we.fn.extend({css:function(e,t){return Be(this,function(e,t,n){var a={},s=0,o,i;if(Array.isArray(t)){for(o=mt(e),i=t.length;s<i;s++)a[t[s]]=we.css(e,t[s],!1,o);return a}return void 0===n?we.css(e,t):we.style(e,t,n)},e,t,1<arguments.length)}}),we.Tween=U,U.prototype={constructor:U,init:function(e,t,n,a,s,o){this.elem=e,this.prop=n,this.easing=s||we.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=o||(we.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t=U.propHooks[this.prop],n;return this.pos=this.options.duration?n=we.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):n=e,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=we.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){we.fx.step[e.prop]?we.fx.step[e.prop](e):1===e.elem.nodeType&&(null!=e.elem.style[we.cssProps[e.prop]]||we.cssHooks[e.prop])?we.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},we.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2},_default:"swing"},we.fx=U.prototype.init,we.fx.step={};var Ct=/^(?:toggle|show|hide)$/,Tt=/queueHooks$/,St,wt;we.Animation=we.extend(K,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return _(n.elem,e,Ke.exec(t),n),n}]},tweener:function(e,t){ve(e)?(t=e,e=["*"]):e=e.match(Oe);for(var n=0,a=e.length,s;n<a;n++)s=e[n],K.tweeners[s]=K.tweeners[s]||[],K.tweeners[s].unshift(t)},prefilters:[function(e,t,n){var a=this,s={},o=e.style,i=e.nodeType&&Je(e),r=Ge.get(e,"fxshow"),l,d,p,c,u,g,m,h;for(l in n.queue||(c=we._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,u=c.empty.fire,c.empty.fire=function(){c.unqueued||u()}),c.unqueued++,a.always(function(){a.always(function(){c.unqueued--,we.queue(e,"fx").length||c.empty.fire()})})),t)if(d=t[l],Ct.test(d)){if(delete t[l],p=p||"toggle"===d,d===(i?"hide":"show"))if("show"===d&&r&&void 0!==r[l])i=!0;else continue;s[l]=r&&r[l]||we.style(e,l)}if(g=!we.isEmptyObject(t),g||!we.isEmptyObject(s))for(l in("width"in t||"height"in t)&&1===e.nodeType&&(n.overflow=[o.overflow,o.overflowX,o.overflowY],m=r&&r.display,null==m&&(m=Ge.get(e,"display")),h=we.css(e,"display"),"none"===h&&(m?h=m:(x([e],!0),m=e.style.display||m,h=we.css(e,"display"),x([e]))),("inline"===h||"inline-block"===h&&null!=m)&&"none"===we.css(e,"float")&&(!g&&(a.done(function(){o.display=m}),null==m&&(h=o.display,m="none"===h?"":h)),o.display="inline-block")),n.overflow&&(o.overflow="hidden",a.always(function(){o.overflow=n.overflow[0],o.overflowX=n.overflow[1],o.overflowY=n.overflow[2]})),g=!1,s)g||(r?"hidden"in r&&(i=r.hidden):r=Ge.access(e,"fxshow",{display:m}),p&&(r.hidden=!i),i&&x([e],!0),a.done(function(){for(l in i||x([e]),Ge.remove(e,"fxshow"),s)we.style(e,l,s[l])})),g=z(i?r[l]:0,l,a),l in r||(r[l]=g.start,i&&(g.end=g.start,g.start=0))}],prefilter:function(e,t){t?K.prefilters.unshift(e):K.prefilters.push(e)}}),we.speed=function(e,t,n){var a=e&&"object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))?we.extend({},e):{complete:n||!n&&t||ve(e)&&e,duration:e,easing:n&&t||t&&!ve(t)&&t};return we.fx.off?a.duration=0:"number"!==typeof a.duration&&(a.duration in we.fx.speeds?a.duration=we.fx.speeds[a.duration]:a.duration=we.fx.speeds._default),(null==a.queue||!0===a.queue)&&(a.queue="fx"),a.old=a.complete,a.complete=function(){ve(a.old)&&a.old.call(this),a.queue&&we.dequeue(this,a.queue)},a},we.fn.extend({fadeTo:function(e,t,n,a){return this.filter(Je).css("opacity",0).show().end().animate({opacity:t},e,n,a)},animate:function(e,t,n,a){var s=we.isEmptyObject(e),o=we.speed(t,n,a),i=function(){var t=K(this,we.extend({},e),o);(s||Ge.get(this,"finish"))&&t.stop(!0)};return i.finish=i,s||!1===o.queue?this.each(i):this.queue(o.queue,i)},stop:function(e,t,n){var a=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",o=we.timers,i=Ge.get(this);if(s)i[s]&&i[s].stop&&a(i[s]);else for(s in i)i[s]&&i[s].stop&&Tt.test(s)&&a(i[s]);for(s=o.length;s--;)o[s].elem===this&&(null==e||o[s].queue===e)&&(o[s].anim.stop(n),t=!1,o.splice(s,1));(t||!n)&&we.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t=Ge.get(this),n=t[e+"queue"],a=t[e+"queueHooks"],s=we.timers,o=n?n.length:0,i;for(t.finish=!0,we.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),i=s.length;i--;)s[i].elem===this&&s[i].queue===e&&(s[i].anim.stop(!0),s.splice(i,1));for(i=0;i<o;i++)n[i]&&n[i].finish&&n[i].finish.call(this);delete t.finish})}}),we.each(["toggle","show","hide"],function(e,t){var n=we.fn[t];we.fn[t]=function(e,a,s){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,a,s)}}),we.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){we.fn[e]=function(e,n,a){return this.animate(t,e,n,a)}}),we.timers=[],we.fx.tick=function(){var e=0,t=we.timers,n;for(St=Date.now();e<t.length;e++)n=t[e],n()||t[e]!==n||t.splice(e--,1);t.length||we.fx.stop(),St=void 0},we.fx.timer=function(e){we.timers.push(e),we.fx.start()},we.fx.interval=13,we.fx.start=function(){wt||(wt=!0,G())},we.fx.stop=function(){wt=null},we.fx.speeds={slow:600,fast:200,_default:400},we.fn.delay=function(t,n){return t=we.fx?we.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,a){var s=e.setTimeout(n,t);a.stop=function(){e.clearTimeout(s)}})},function(){var e=de.createElement("input"),t=de.createElement("select"),n=t.appendChild(de.createElement("option"));e.type="checkbox",xe.checkOn=""!==e.value,xe.optSelected=n.selected,e=de.createElement("input"),e.value="t",e.type="radio",xe.radioValue="t"===e.value}();var Et=we.expr.attrHandle,kt;we.fn.extend({attr:function(e,t){return Be(this,we.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){we.removeAttr(this,e)})}}),we.extend({attr:function(e,t,n){var a=e.nodeType,s,o;if(3!==a&&8!==a&&2!==a)return"undefined"===typeof e.getAttribute?we.prop(e,t,n):(1===a&&we.isXMLDoc(e)||(o=we.attrHooks[t.toLowerCase()]||(we.expr.match.bool.test(t)?kt:void 0)),void 0!==n)?null===n?void we.removeAttr(e,t):o&&"set"in o&&void 0!==(s=o.set(e,n,t))?s:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(s=o.get(e,t))?s:(s=we.find.attr(e,t),null==s?void 0:s)},attrHooks:{type:{set:function(e,t){if(!xe.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n=0,a=t&&t.match(Oe),s;if(a&&1===e.nodeType)for(;s=a[n++];)e.removeAttribute(s)}}),kt={set:function(e,t,n){return!1===t?we.removeAttr(e,n):e.setAttribute(n,n),n}},we.each(we.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Et[t]||we.find.attr;Et[t]=function(e,t,a){var s=t.toLowerCase(),o,i;return a||(i=Et[s],Et[s]=o,o=null==n(e,t,a)?null:s,Et[s]=i),o}});var Lt=/^(?:input|select|textarea|button)$/i,Rt=/^(?:a|area)$/i;we.fn.extend({prop:function(e,t){return Be(this,we.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[we.propFix[e]||e]})}}),we.extend({prop:function(e,t,n){var a=e.nodeType,s,o;if(3!==a&&8!==a&&2!==a)return 1===a&&we.isXMLDoc(e)||(t=we.propFix[t]||t,o=we.propHooks[t]),void 0===n?o&&"get"in o&&null!==(s=o.get(e,t))?s:e[t]:o&&"set"in o&&void 0!==(s=o.set(e,n,t))?s:e[t]=n},propHooks:{tabIndex:{get:function(e){var t=we.find.attr(e,"tabindex");return t?parseInt(t,10):Lt.test(e.nodeName)||Rt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),xe.optSelected||(we.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),we.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){we.propFix[this.toLowerCase()]=this}),we.fn.extend({addClass:function(e){var t=0,n,a,s,o,i,r,l;if(ve(e))return this.each(function(t){we(this).addClass(e.call(this,t,J(this)))});if(n=Q(e),n.length)for(;a=this[t++];)if(o=J(a),s=1===a.nodeType&&" "+Y(o)+" ",s){for(r=0;i=n[r++];)0>s.indexOf(" "+i+" ")&&(s+=i+" ");l=Y(s),o!==l&&a.setAttribute("class",l)}return this},removeClass:function(e){var t=0,n,a,s,o,i,r,l;if(ve(e))return this.each(function(t){we(this).removeClass(e.call(this,t,J(this)))});if(!arguments.length)return this.attr("class","");if(n=Q(e),n.length)for(;a=this[t++];)if(o=J(a),s=1===a.nodeType&&" "+Y(o)+" ",s){for(r=0;i=n[r++];)for(;-1<s.indexOf(" "+i+" ");)s=s.replace(" "+i+" "," ");l=Y(s),o!==l&&a.setAttribute("class",l)}return this},toggleClass:function(e,t){var n="undefined"===typeof e?"undefined":babelHelpers["typeof"](e),a="string"===n||Array.isArray(e);return"boolean"===typeof t&&a?t?this.addClass(e):this.removeClass(e):ve(e)?this.each(function(n){we(this).toggleClass(e.call(this,n,J(this),t),t)}):this.each(function(){var t,s,o,i;if(a)for(s=0,o=we(this),i=Q(e);t=i[s++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(void 0===e||"boolean"===n)&&(t=J(this),t&&Ge.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ge.get(this,"__className__")||""))})},hasClass:function(e){var t=0,n,a;for(n=" "+e+" ";a=this[t++];)if(1===a.nodeType&&-1<(" "+Y(J(a))+" ").indexOf(n))return!0;return!1}});var Dt=/\r/g;we.fn.extend({val:function(e){var t=this[0],n,a,s;return arguments.length?(s=ve(e),this.each(function(t){var a;1!==this.nodeType||(a=s?e.call(this,t,we(this).val()):e,null==a?a="":"number"===typeof a?a+="":Array.isArray(a)&&(a=we.map(a,function(e){return null==e?"":e+""})),n=we.valHooks[this.type]||we.valHooks[this.nodeName.toLowerCase()],(!n||!("set"in n)||void 0===n.set(this,a,"value"))&&(this.value=a))})):t?(n=we.valHooks[t.type]||we.valHooks[t.nodeName.toLowerCase()],n&&"get"in n&&void 0!==(a=n.get(t,"value")))?a:(a=t.value,"string"===typeof a?a.replace(Dt,""):null==a?"":a):void 0}}),we.extend({valHooks:{option:{get:function(e){var t=we.find.attr(e,"value");return null==t?Y(we.text(e)):t}},select:{get:function(e){var t=e.options,n=e.selectedIndex,a="select-one"===e.type,s=a?null:[],r=a?n+1:t.length,l,d,p;for(p=0>n?r:a?n:0;p<r;p++)if(d=t[p],(d.selected||p===n)&&!d.disabled&&(!d.parentNode.disabled||!o(d.parentNode,"optgroup"))){if(l=we(d).val(),a)return l;s.push(l)}return s},set:function(e,t){for(var n=e.options,a=we.makeArray(t),s=n.length,o,i;s--;)i=n[s],(i.selected=-1<we.inArray(we.valHooks.option.get(i),a))&&(o=!0);return o||(e.selectedIndex=-1),a}}}}),we.each(["radio","checkbox"],function(){we.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<we.inArray(we(e).val(),t)}},xe.checkOn||(we.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),xe.focusin="onfocusin"in e;var Nt=/^(?:focusinfocus|focusoutblur)$/,At=function(t){t.stopPropagation()};we.extend(we.event,{trigger:function(t,n,a,s){var o=[a||de],r=fe.call(t,"type")?t.type:t,l=fe.call(t,"namespace")?t.namespace.split("."):[],d,i,p,c,u,g,m,h;if((i=h=p=a=a||de,3!==a.nodeType&&8!==a.nodeType)&&!Nt.test(r+we.event.triggered)&&(-1<r.indexOf(".")&&(l=r.split("."),r=l.shift(),l.sort()),u=0>r.indexOf(":")&&"on"+r,t=t[we.expando]?t:new we.Event(r,"object"===("undefined"===typeof t?"undefined":babelHelpers["typeof"](t))&&t),t.isTrigger=s?2:3,t.namespace=l.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+l.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),n=null==n?[t]:we.makeArray(n,[t]),m=we.event.special[r]||{},s||!m.trigger||!1!==m.trigger.apply(a,n))){if(!s&&!m.noBubble&&!Ce(a)){for(c=m.delegateType||r,Nt.test(c+r)||(i=i.parentNode);i;i=i.parentNode)o.push(i),p=i;p===(a.ownerDocument||de)&&o.push(p.defaultView||p.parentWindow||e)}for(d=0;(i=o[d++])&&!t.isPropagationStopped();)h=i,t.type=1<d?c:m.bindType||r,g=(Ge.get(i,"events")||{})[t.type]&&Ge.get(i,"handle"),g&&g.apply(i,n),g=u&&i[u],g&&g.apply&&Ue(i)&&(t.result=g.apply(i,n),!1===t.result&&t.preventDefault());return t.type=r,s||t.isDefaultPrevented()||m._default&&!1!==m._default.apply(o.pop(),n)||!Ue(a)||!u||!ve(a[r])||Ce(a)||(p=a[u],p&&(a[u]=null),we.event.triggered=r,t.isPropagationStopped()&&h.addEventListener(r,At),a[r](),t.isPropagationStopped()&&h.removeEventListener(r,At),we.event.triggered=void 0,p&&(a[u]=p)),t.result}},simulate:function(t,n,a){var s=we.extend(new we.Event,a,{type:t,isSimulated:!0});we.event.trigger(s,null,n)}}),we.fn.extend({trigger:function(e,t){return this.each(function(){we.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return we.event.trigger(e,t,n,!0)}}),xe.focusin||we.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){we.event.simulate(t,e.target,we.event.fix(e))};we.event.special[t]={setup:function(){var a=this.ownerDocument||this,s=Ge.access(a,t);s||a.addEventListener(e,n,!0),Ge.access(a,t,(s||0)+1)},teardown:function(){var a=this.ownerDocument||this,s=Ge.access(a,t)-1;s?Ge.access(a,t,s):(a.removeEventListener(e,n,!0),Ge.remove(a,t))}}});var jt=e.location,Mt=Date.now(),Pt=/\?/;we.parseXML=function(t){var n;if(!t||"string"!==typeof t)return null;try{n=new e.DOMParser().parseFromString(t,"text/xml")}catch(t){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&we.error("Invalid XML: "+t),n};var It=/\[\]$/,Ot=/\r?\n/g,qt=/^(?:submit|button|image|reset|file)$/i,Ft=/^(?:input|select|textarea|keygen)/i;we.param=function(e,t){var n=[],a=function(e,t){var a=ve(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==a?"":a)},s;if(Array.isArray(e)||e.jquery&&!we.isPlainObject(e))we.each(e,function(){a(this.name,this.value)});else for(s in e)Z(s,e[s],t,a);return n.join("&")},we.fn.extend({serialize:function(){return we.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=we.prop(this,"elements");return e?we.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!we(this).is(":disabled")&&Ft.test(this.nodeName)&&!qt.test(e)&&(this.checked||!et.test(e))}).map(function(e,t){var n=we(this).val();return null==n?null:Array.isArray(n)?we.map(n,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:n.replace(Ot,"\r\n")}}).get()}});var Bt=/%20/g,Ht=/#.*$/,$t=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/mg,Gt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vt=/^(?:GET|HEAD)$/,Wt=/^\/\//,zt={},Xt={},Kt="*/".concat("*"),Yt=de.createElement("a");Yt.href=jt.href,we.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jt.href,type:"GET",isLocal:Gt.test(jt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":we.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ne(ne(e,we.ajaxSettings),t):ne(we.ajaxSettings,e)},ajaxPrefilter:ee(zt),ajaxTransport:ee(Xt),ajax:function(t,n){function a(t,n,a,i){var c=n,u,g,_,x,T;v||(v=!0,b&&e.clearTimeout(b),h=void 0,f=i||"",m.readyState=0<t?4:0,u=200<=t&&300>t||304===t,a&&(x=ae(o,m,a)),x=se(o,x,m,u),u?(o.ifModified&&(T=m.getResponseHeader("Last-Modified"),T&&(we.lastModified[y]=T),T=m.getResponseHeader("etag"),T&&(we.etag[y]=T)),204===t||"HEAD"===o.type?c="nocontent":304===t?c="notmodified":(c=x.state,g=x.data,_=x.error,u=!_)):(_=c,(t||!c)&&(c="error",0>t&&(t=0))),m.status=t,m.statusText=(n||c)+"",u?l.resolveWith(s,[g,c,m]):l.rejectWith(s,[m,c,_]),m.statusCode(p),p=void 0,C&&r.trigger(u?"ajaxSuccess":"ajaxError",[m,o,u?g:_]),d.fireWith(s,[m,c]),C&&(r.trigger("ajaxComplete",[m,o]),! --we.active&&we.event.trigger("ajaxStop")))}"object"===("undefined"===typeof t?"undefined":babelHelpers["typeof"](t))&&(n=t,t=void 0),n=n||{};var o=we.ajaxSetup({},n),s=o.context||o,r=o.context&&(s.nodeType||s.jquery)?we(s):we.event,l=we.Deferred(),d=we.Callbacks("once memory"),p=o.statusCode||{},c={},u={},g="canceled",m={readyState:0,getResponseHeader:function(e){var t;if(v){if(!_)for(_={};t=Ut.exec(f);)_[t[1].toLowerCase()]=t[2];t=_[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return v?f:null},setRequestHeader:function(e,t){return null==v&&(e=u[e.toLowerCase()]=u[e.toLowerCase()]||e,c[e]=t),this},overrideMimeType:function(e){return null==v&&(o.mimeType=e),this},statusCode:function(e){if(e)if(v)m.always(e[m.status]);else for(var t in e)p[t]=[p[t],e[t]];return this},abort:function(e){var t=e||g;return h&&h.abort(t),a(0,t),this}},h,y,f,_,b,x,v,C,T,i;if(l.promise(m),o.url=((t||o.url||jt.href)+"").replace(Wt,jt.protocol+"//"),o.type=n.method||n.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(Oe)||[""],null==o.crossDomain){x=de.createElement("a");try{x.href=o.url,x.href=x.href,o.crossDomain=Yt.protocol+"//"+Yt.host!==x.protocol+"//"+x.host}catch(t){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!==typeof o.data&&(o.data=we.param(o.data,o.traditional)),te(zt,o,n,m),v)return m;for(T in C=we.event&&o.global,C&&0===we.active++&&we.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Vt.test(o.type),y=o.url.replace(Ht,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Bt,"+")):(i=o.url.slice(y.length),o.data&&(o.processData||"string"===typeof o.data)&&(y+=(Pt.test(y)?"&":"?")+o.data,delete o.data),!1===o.cache&&(y=y.replace($t,"$1"),i=(Pt.test(y)?"&":"?")+"_="+Mt++ +i),o.url=y+i),o.ifModified&&(we.lastModified[y]&&m.setRequestHeader("If-Modified-Since",we.lastModified[y]),we.etag[y]&&m.setRequestHeader("If-None-Match",we.etag[y])),(o.data&&o.hasContent&&!1!==o.contentType||n.contentType)&&m.setRequestHeader("Content-Type",o.contentType),m.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"===o.dataTypes[0]?"":", "+Kt+"; q=0.01"):o.accepts["*"]),o.headers)m.setRequestHeader(T,o.headers[T]);if(o.beforeSend&&(!1===o.beforeSend.call(s,m,o)||v))return m.abort();if(g="abort",d.add(o.complete),m.done(o.success),m.fail(o.error),h=te(Xt,o,n,m),!h)a(-1,"No Transport");else{if(m.readyState=1,C&&r.trigger("ajaxSend",[m,o]),v)return m;o.async&&0<o.timeout&&(b=e.setTimeout(function(){m.abort("timeout")},o.timeout));try{v=!1,h.send(c,a)}catch(t){if(v)throw t;a(-1,t)}}return m},getJSON:function(e,t,n){return we.get(e,t,n,"json")},getScript:function(e,t){return we.get(e,void 0,t,"script")}}),we.each(["get","post"],function(e,t){we[t]=function(e,n,a,s){return ve(n)&&(s=s||a,a=n,n=void 0),we.ajax(we.extend({url:e,type:t,dataType:s,data:n,success:a},we.isPlainObject(e)&&e))}}),we._evalUrl=function(e){return we.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},we.fn.extend({wrapAll:function(e){var t;return this[0]&&(ve(e)&&(e=e.call(this[0])),t=we(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ve(e)?this.each(function(t){we(this).wrapInner(e.call(this,t))}):this.each(function(){var t=we(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ve(e);return this.each(function(n){we(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){we(this).replaceWith(this.childNodes)}),this}}),we.expr.pseudos.hidden=function(e){return!we.expr.pseudos.visible(e)},we.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},we.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Jt={0:200,1223:204},Qt=we.ajaxSettings.xhr();xe.cors=!!Qt&&"withCredentials"in Qt,xe.ajax=Qt=!!Qt,we.ajaxTransport(function(t){var n,a;if(xe.cors||Qt&&!t.crossDomain)return{send:function(s,o){var r=t.xhr(),l;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(l in t.xhrFields)r[l]=t.xhrFields[l];for(l in t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),s)r.setRequestHeader(l,s[l]);n=function(e){return function(){n&&(n=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"===typeof r.status?o(r.status,r.statusText):o(0,"error"):o(Jt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!==typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=n(),a=r.onerror=r.ontimeout=n("error"),void 0===r.onabort?r.onreadystatechange=function(){4===r.readyState&&e.setTimeout(function(){n&&a()})}:r.onabort=a,n=n("abort");try{r.send(t.hasContent&&t.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),we.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),we.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return we.globalEval(e),e}}}),we.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),we.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(a,s){t=we("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&s("error"===e.type?404:200,e.type)}),de.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Zt=[],en=/(=)\?(?=&|$)|\?\?/;we.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||we.expando+"_"+Mt++;return this[e]=!0,e}}),we.ajaxPrefilter("json jsonp",function(t,n,a){var s=!1!==t.jsonp&&(en.test(t.url)?"url":"string"===typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data"),o,i,r;if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=ve(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(en,"$1"+o):!1!==t.jsonp&&(t.url+=(Pt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return r||we.error(o+" was not called"),r[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){r=arguments},a.always(function(){void 0===i?we(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,Zt.push(o)),r&&ve(i)&&i(r[0]),r=i=void 0}),"script"}),xe.createHTMLDocument=function(){var e=de.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),we.parseHTML=function(e,t,n){if("string"!==typeof e)return[];"boolean"===typeof t&&(n=t,t=!1);var a,s,o;return(t||(xe.createHTMLDocument?(t=de.implementation.createHTMLDocument(""),a=t.createElement("base"),a.href=de.location.href,t.head.appendChild(a)):t=de),s=Ne.exec(e),o=!n&&[],s)?[t.createElement(s[1])]:(s=T([e],t,o),o&&o.length&&we(o).remove(),we.merge([],s.childNodes))},we.fn.load=function(e,t,n){var a=this,s=e.indexOf(" "),o,i,r;return-1<s&&(o=Y(e.slice(s)),e=e.slice(0,s)),ve(t)?(n=t,t=void 0):t&&"object"===("undefined"===typeof t?"undefined":babelHelpers["typeof"](t))&&(i="POST"),0<a.length&&we.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){r=arguments,a.html(o?we("<div>").append(we.parseHTML(e)).find(o):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},we.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){we.fn[t]=function(e){return this.on(t,e)}}),we.expr.pseudos.animated=function(e){return we.grep(we.timers,function(t){return e===t.elem}).length},we.offset={setOffset:function(e,t,n){var a=we.css(e,"position"),s=we(e),o={},i,r,l,d,p,c,u;"static"===a&&(e.style.position="relative"),p=s.offset(),l=we.css(e,"top"),c=we.css(e,"left"),u=("absolute"===a||"fixed"===a)&&-1<(l+c).indexOf("auto"),u?(i=s.position(),d=i.top,r=i.left):(d=parseFloat(l)||0,r=parseFloat(c)||0),ve(t)&&(t=t.call(e,n,we.extend({},p))),null!=t.top&&(o.top=t.top-p.top+d),null!=t.left&&(o.left=t.left-p.left+r),"using"in t?t.using.call(e,o):s.css(o)}},we.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){we.offset.setOffset(this,e,t)});var t=this[0],n,a;if(t)return t.getClientRects().length?(n=t.getBoundingClientRect(),a=t.ownerDocument.defaultView,{top:n.top+a.pageYOffset,left:n.left+a.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e=this[0],t={top:0,left:0},n,a,s;if("fixed"===we.css(e,"position"))a=e.getBoundingClientRect();else{for(a=this.offset(),s=e.ownerDocument,n=e.offsetParent||s.documentElement;n&&(n===s.body||n===s.documentElement)&&"static"===we.css(n,"position");)n=n.parentNode;n&&n!==e&&1===n.nodeType&&(t=we(n).offset(),t.top+=we.css(n,"borderTopWidth",!0),t.left+=we.css(n,"borderLeftWidth",!0))}return{top:a.top-t.top-we.css(e,"marginTop",!0),left:a.left-t.left-we.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===we.css(e,"position");)e=e.offsetParent;return e||ot})}}),we.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;we.fn[e]=function(a){return Be(this,function(e,a,s){var o;return Ce(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===s?o?o[t]:e[a]:void(o?o.scrollTo(n?o.pageXOffset:s,n?s:o.pageYOffset):e[a]=s)},e,a,arguments.length)}}),we.each(["top","left"],function(e,t){we.cssHooks[t]=I(xe.pixelPosition,function(e,n){if(n)return n=P(e,t),gt.test(n)?we(e).position()[t]+"px":n})}),we.each({Height:"height",Width:"width"},function(e,t){we.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,a){we.fn[a]=function(s,o){var i=arguments.length&&(n||"boolean"!==typeof s),r=n||(!0===s||!0===o?"margin":"border");return Be(this,function(t,n,s){var o;return Ce(t)?0===a.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,ie(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===s?we.css(t,n,r):we.style(t,n,s,r)},t,i?s:void 0,i)}})}),we.each(["blur","focus","focusin","focusout","resize","scroll","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","change","select","submit","keydown","keypress","keyup","contextmenu"],function(e,t){we.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}),we.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),we.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,a){return this.on(t,e,n,a)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),we.proxy=function(e,t){var n,a,s;if("string"===typeof t&&(n=e[t],t=e,e=n),!!ve(e))return a=ce.call(arguments,2),s=function(){return e.apply(t||this,a.concat(ce.call(arguments)))},s.guid=e.guid=e.guid||we.guid++,s},we.holdReady=function(e){e?we.readyWait++:we.ready(!0)},we.isArray=Array.isArray,we.parseJSON=JSON.parse,we.nodeName=o,we.isFunction=ve,we.isWindow=Ce,we.camelCase=m,we.type=a,we.now=Date.now,we.isNumeric=function(e){var t=we.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"===typeof define&&define.amd&&define("jquery",[],function(){return we});var tn=e.jQuery,nn=e.$;return we.noConflict=function(t){return e.$===we&&(e.$=nn),t&&e.jQuery===we&&(e.jQuery=tn),we},t||(e.jQuery=e.$=we),we}),function(t){t(jQuery)}(function(d){var n=Math.PI,p=Math.round,a="ui-effects-",t=d;d.effects={effect:{}},function(g,m){function y(n,a,t){var o=C[a.type]||{};return null==n?t||!a.def?null:a.def:(n=o.floor?~~n:parseFloat(n),isNaN(n)?a.def:o.mod?(n+o.mod)%o.mod:0>n?0:n>o.max?o.max:n)}function e(d){var i=x(),p=i._rgba=[];return d=d.toLowerCase(),l(t,function(t,e){var n=e.re.exec(d),a=n&&e.parse(n),s=e.space||"rgba",r;return a?(r=i[s](a),i[v[s].cache]=r[v[s].cache],p=i._rgba=r._rgba,!1):m}),p.length?("0,0,0,0"===p.join()&&g.extend(p,u.transparent),i):u[d]}function _(n,e,t){return t=(t+1)%1,1>6*t?n+6*(e-n)*t:1>2*t?e:2>3*t?n+6*(e-n)*(2/3-t):n}var b=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],x=g.Color=function(e,t,a,s){return new g.Color.fn.parse(e,t,a,s)},v={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},C={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},s=x.support={},n=g("<p>")[0],l=g.each,u;n.style.cssText="background-color:rgba(1,1,1,.5)",s.rgba=-1<n.style.backgroundColor.indexOf("rgba"),l(v,function(n,e){e.cache="_"+n,e.props.alpha={idx:3,type:"percent",def:1}}),x.fn=g.extend(x.prototype,{parse:function(i,t,n,a){if(i===m)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=g(i).css(t),t=m);var o=this,s=g.type(i),r=this._rgba=[];return t!==m&&(i=[i,t,n,a],s="array"),"string"===s?this.parse(e(i)||u._default):"array"===s?(l(v.rgba.props,function(n,e){r[e.idx]=y(i[e.idx],e)}),this):"object"===s?(i instanceof x?l(v,function(n,e){i[e.cache]&&(o[e.cache]=i[e.cache].slice())}):l(v,function(e,n){var s=n.cache;l(n.props,function(a,e){if(!o[s]&&n.to){if("alpha"===a||null==i[a])return;o[s]=n.to(o._rgba)}o[s][e.idx]=y(i[a],e,!0)}),o[s]&&0>g.inArray(null,o[s].slice(0,3))&&(o[s][3]=1,n.from&&(o._rgba=n.from(o[s])))}),this):m},is:function(t){var d=x(t),p=!0,s=this;return l(v,function(t,e){var n=d[e.cache],a;return n&&(a=s[e.cache]||e.to&&e.to(s._rgba)||[],l(e.props,function(t,e){return null==n[e.idx]?m:p=n[e.idx]===a[e.idx]})),p}),p},_space:function(){var n=[],e=this;return l(v,function(t,a){e[a.cache]&&n.push(t)}),n.pop()},transition:function(i,d){var t=x(i),e=t._space(),n=v[e],a=0===this.alpha()?x("transparent"):this,s=a[n.cache]||n.to(a._rgba),r=s.slice();return t=t[n.cache],l(n.props,function(i,e){var n=e.idx,a=s[n],o=t[n],l=C[e.type]||{};null!==o&&(null===a?r[n]=o:(l.mod&&(o-a>l.mod/2?a+=l.mod:a-o>l.mod/2&&(a-=l.mod)),r[n]=y((o-a)*d+a,e)))}),this[e](r)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),a=t.pop(),s=x(e)._rgba;return x(g.map(t,function(n,e){return(1-a)*s[e]+a*n}))},toRgbaString:function(){var e="rgba(",t=g.map(this._rgba,function(n,e){return null==n?2<e?1:0:n});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=g.map(this.hsla(),function(n,e){return null==n&&(n=2<e?1:0),e&&3>e&&(n=p(100*n)+"%"),n});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+g.map(t,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),x.fn.parse.prototype=x.fn,v.hsla.to=function(c){if(null==c[0]||null==c[1]||null==c[2])return[null,null,null,c[3]];var e=c[0]/255,s=c[1]/255,n=c[2]/255,a=c[3],o=Math.max(e,s,n),r=Math.min(e,s,n),g=o-r,l=o+r,u=.5*l,d,t;return d=r===o?0:e===o?60*(s-n)/g+360:s===o?60*(n-e)/g+120:60*(e-s)/g+240,t=0===g?0:.5>=u?g/l:g/(2-l),[p(d)%360,t,u,null==a?1:a]},v.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var e=n[0]/360,t=n[1],i=n[2],s=n[3],a=.5>=i?i*(1+t):i+t-i*t,o=2*i-a;return[p(255*_(o,a,e+1/3)),p(255*_(o,a,e)),p(255*_(o,a,e-1/3)),s]},l(v,function(e,t){var i=t.props,a=t.cache,o=t.to,p=t.from;x.fn[e]=function(e){if(o&&!this[a]&&(this[a]=o(this._rgba)),e===m)return this[a].slice();var u=g.type(e),r="array"===u||"object"===u?e:arguments,d=this[a].slice(),t;return l(i,function(n,e){var t=r["object"===u?n:e.idx];null==t&&(t=d[e.idx]),d[e.idx]=y(t,e)}),p?(t=x(p(d)),t[a]=d,t):x(d)},l(i,function(s,t){x.fn[s]||(x.fn[s]=function(i){var n=g.type(i),o="alpha"===s?this._hsla?"hsla":"rgba":e,r=this[o](),l=r[t.idx],d;return"undefined"===n?l:("function"===n&&(i=i.call(this,l),n=g.type(i)),null==i&&t.empty?this:("string"===n&&(d=b.exec(i),d&&(i=l+parseFloat(d[2])*("+"===d[1]?1:-1))),r[t.idx]=i,this[o](r)))})})}),x.hook=function(n){var t=n.split(" ");l(t,function(n,a){g.cssHooks[a]={set:function(i,t){var n="",r,l;if("transparent"!==t&&("string"!==g.type(t)||(r=e(t)))){if(t=x(r||t),!s.rgba&&1!==t._rgba[3]){for(l="backgroundColor"===a?i.parentNode:i;(""===n||"transparent"===n)&&l&&l.style;)try{n=g.css(l,"backgroundColor"),l=l.parentNode}catch(e){}t=t.blend(n&&"transparent"!==n?n:"_default")}t=t.toRgbaString()}try{i.style[a]=t}catch(e){}}},g.fx.step[a]=function(e){e.colorInit||(e.start=x(e.elem,a),e.end=x(e.end),e.colorInit=!0),g.cssHooks[a].set(e.elem,e.start.transition(e.end,e.pos))}})},x.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),g.cssHooks.borderColor={expand:function(n){var e={};return l(["Top","Right","Bottom","Left"],function(t,a){e["border"+a+"Color"]=n}),e}},u=g.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(t),function(){function e(e){var o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,n={},a,i;if(o&&o.length&&o[0]&&o[o[0]])for(i=o.length;i--;)a=o[i],"string"==typeof o[a]&&(n[d.camelCase(a)]=o[a]);else for(a in o)"string"==typeof o[a]&&(n[a]=o[a]);return n}function o(e,t){var a={},o,s;for(o in t)s=t[o],e[o]!==s&&(r[o]||(d.fx.step[o]||!isNaN(parseFloat(s)))&&(a[o]=s));return a}var s=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};d.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){d.fx.step[n]=function(a){("none"===a.end||a.setAttr)&&(1!==a.pos||a.setAttr)||(t.style(a.elem,n,a.end),a.setAttr=!0)}}),d.fn.addBack||(d.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),d.effects.animateClass=function(n,t,a,i){var p=d.speed(t,a,i);return this.queue(function(){var i=d(this),t=i.attr("class")||"",r=p.children?i.find("*").addBack():i,l;r=r.map(function(){var t=d(this);return{el:t,start:e(this)}}),l=function(){d.each(s,function(a,e){n[e]&&i[e+"Class"](n[e])})},l(),r=r.map(function(){return this.end=e(this.el[0]),this.diff=o(this.start,this.end),this}),i.attr("class",t),r=r.map(function(){var e=this,t=d.Deferred(),n=d.extend({},p,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,n),t.promise()}),d.when.apply(d,r.get()).done(function(){l(),d.each(arguments,function(){var n=this.el;d.each(this.diff,function(t){n.css(t,"")})}),p.complete.call(i[0])})})},d.fn.extend({addClass:function(e){return function(t,o,s,n){return o?d.effects.animateClass.call(this,{add:t},o,s,n):e.apply(this,arguments)}}(d.fn.addClass),removeClass:function(e){return function(t,o,s,n){return 1<arguments.length?d.effects.animateClass.call(this,{remove:t},o,s,n):e.apply(this,arguments)}}(d.fn.removeClass),toggleClass:function(e){return function(t,r,l,n,a){return"boolean"==typeof r||void 0===r?l?d.effects.animateClass.call(this,r?{add:t}:{remove:t},l,n,a):e.apply(this,arguments):d.effects.animateClass.call(this,{toggle:t},r,l,n)}}(d.fn.toggleClass),switchClass:function(e,o,r,s,n){return d.effects.animateClass.call(this,{add:o,remove:e},r,s,n)}})}(),function(){function r(e,a,o,r){return d.isPlainObject(e)&&(a=e,e=e.effect),e={effect:e},null==a&&(a={}),d.isFunction(a)&&(r=a,o=null,a={}),("number"==typeof a||d.fx.speeds[a])&&(r=o,o=a,a={}),d.isFunction(o)&&(r=o,o=null),a&&d.extend(e,a),o=o||a.duration,e.duration=d.fx.off?0:"number"==typeof o?o:o in d.fx.speeds?d.fx.speeds[o]:d.fx.speeds._default,e.complete=r||a.complete,e}function o(e){return!e||"number"==typeof e||d.fx.speeds[e]||("string"!=typeof e||d.effects.effect[e]?!!d.isFunction(e)||("object"!=("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))||e.effect?!1:!0):!0)}d.extend(d.effects,{version:"1.11.2",save:function(t,e){for(var n=0;e.length>n;n++)null!==e[n]&&t.data(a+e[n],t[0].style[e[n]])},restore:function(t,e){var o,s;for(s=0;e.length>s;s++)null!==e[s]&&(o=t.data(a+e[s]),void 0===o&&(o=""),t.css(e[s],o))},setMode:function(n,e){return"toggle"===e&&(e=n.is(":hidden")?"show":"hide"),e},getBaseline:function(n,e){var t,a;switch(n[0]){case"top":t=0;break;case"middle":t=.5;break;case"bottom":t=1;break;default:t=n[0]/e.height;}switch(n[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=n[1]/e.width;}return{x:a,y:t}},createWrapper:function(o){if(o.parent().is(".ui-effects-wrapper"))return o.parent();var t={width:o.outerWidth(!0),height:o.outerHeight(!0),float:o.css("float")},e=d("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:o.width(),height:o.height()},n=document.activeElement;try{n.id}catch(e){n=document.body}return o.wrap(e),(o[0]===n||d.contains(o[0],n))&&d(n).focus(),e=o.parent(),"static"===o.css("position")?(e.css({position:"relative"}),o.css({position:"relative"})):(d.extend(t,{position:o.css("position"),zIndex:o.css("z-index")}),d.each(["top","left","bottom","right"],function(n,e){t[e]=o.css(e),isNaN(parseInt(t[e],10))&&(t[e]="auto")}),o.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),o.css(s),e.css(t).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===t||d.contains(e[0],t))&&d(t).focus()),e},setTransition:function(o,e,t,s){return s=s||{},d.each(e,function(n,e){var i=o.cssUnit(e);0<i[0]&&(s[e]=i[0]*t+i[1])}),s}}),d.fn.extend({effect:function(){function e(e){function o(){d.isFunction(n)&&n.call(i[0]),d.isFunction(e)&&e()}var i=d(this),n=l.complete,a=l.mode;(i.is(":hidden")?"hide"===a:"show"===a)?(i[a](),o()):s.call(i[0],l,o)}var l=r.apply(this,arguments),t=l.mode,n=l.queue,s=d.effects.effect[l.effect];return d.fx.off||!s?t?this[t](l.duration,l.complete):this.each(function(){l.complete&&l.complete.call(this)}):!1===n?this.each(e):this.queue(n||"fx",e)},show:function(a){return function(e){if(o(e))return a.apply(this,arguments);var t=r.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}}(d.fn.show),hide:function(a){return function(e){if(o(e))return a.apply(this,arguments);var t=r.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}}(d.fn.hide),toggle:function(a){return function(e){if(o(e)||"boolean"==typeof e)return a.apply(this,arguments);var s=r.apply(this,arguments);return s.mode="toggle",this.effect.call(this,s)}}(d.fn.toggle),cssUnit:function(e){var n=this.css(e),a=[];return d.each(["em","px","%","pt"],function(s,e){0<n.indexOf(e)&&(a=[parseFloat(n),e])}),a}})}(),function(){var a=Math.pow,s={};d.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,e){s[e]=function(e){return a(e,n+2)}}),d.extend(s,{Sine:function(t){return 1-Math.cos(t*n/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-a(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*n/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(n){for(var e=4,s;((s=a(2,--e))-1)/11>n;);return 1/a(4,3-e)-7.5625*a((3*s-2)/22-n,2)}}),d.each(s,function(e,t){d.easing["easeIn"+e]=t,d.easing["easeOut"+e]=function(n){return 1-t(1-n)},d.easing["easeInOut"+e]=function(n){return .5>n?t(2*n)/2:1-t(-2*n+2)/2}})}(),d.effects}),function(){function a(){s&&(n(a),jQuery.fx.tick())}for(var o=0,e=["webkit","moz"],n=window.requestAnimationFrame,r=window.cancelAnimationFrame,s;o<e.length&&!n;o++)n=window[e[o]+"RequestAnimationFrame"],r=r||window[e[o]+"CancelAnimationFrame"]||window[e[o]+"CancelRequestAnimationFrame"];n?(window.requestAnimationFrame=n,window.cancelAnimationFrame=r,jQuery.fx.timer=function(n){n()&&jQuery.timers.push(n)&&!s&&(s=!0,a())},jQuery.fx.stop=function(){s=!1}):(window.requestAnimationFrame=function(t){var e=new Date().getTime(),n=Math.max(0,16-(e-o)),a=window.setTimeout(function(){t(e+n)},n);return o=e+n,a},window.cancelAnimationFrame=function(t){clearTimeout(t)})}(jQuery),jQuery.extend({bez:function(e,n){if(jQuery.isArray(e)&&(n=e,e="bez_"+n.join("_").replace(/\./g,"p")),"function"!==typeof jQuery.easing[e]){var a=function(e,n){var a=[null,null],s=[null,null],o=[null,null],r=function(i,t){return o[t]=3*e[t],s[t]=3*(n[t]-e[t])-o[t],a[t]=1-o[t]-s[t],i*(o[t]+i*(s[t]+i*a[t]))},l=function(e){return o[0]+e*(2*s[0]+3*a[0]*e)},i=function(e){for(var t=e,n=0,a;14>++n&&(a=r(t,0)-e,!(1e-3>Math.abs(a)));)t-=a/l(t);return t};return function(e){return r(i(e),1)}};jQuery.easing[e]=function(e,s,t,o,i){return o*a([n[0],n[1]],[n[2],n[3]])(s/i)+t}}return e}}),!function(y){"use notstrict";function _(e,n){var a=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(a>>16)<<16|65535&a}function t(e,n){return e<<n|e>>>32-n}function b(a,n,s,o,i,r){return _(t(_(_(n,a),_(o,r)),i),s)}function r(e,n,a,s,i,r,l){return b(n&a|~n&s,e,n,i,r,l)}function o(e,n,t,a,s,i,r){return b(n&a|t&~a,e,n,s,i,r)}function u(e,n,t,a,s,o,i){return b(n^t^a,e,n,s,o,i)}function c(e,n,t,a,s,i,r){return b(t^(n|~a),e,n,s,i,r)}function f(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;var s=1732584193,l=-271733879,p=-1732584194,g=271733878,m,e,y,a,h;for(m=0;m<t.length;m+=16)e=s,y=l,a=p,h=g,s=r(s,l,p,g,t[m],7,-680876936),g=r(g,s,l,p,t[m+1],12,-389564586),p=r(p,g,s,l,t[m+2],17,606105819),l=r(l,p,g,s,t[m+3],22,-1044525330),s=r(s,l,p,g,t[m+4],7,-176418897),g=r(g,s,l,p,t[m+5],12,1200080426),p=r(p,g,s,l,t[m+6],17,-1473231341),l=r(l,p,g,s,t[m+7],22,-45705983),s=r(s,l,p,g,t[m+8],7,1770035416),g=r(g,s,l,p,t[m+9],12,-1958414417),p=r(p,g,s,l,t[m+10],17,-42063),l=r(l,p,g,s,t[m+11],22,-1990404162),s=r(s,l,p,g,t[m+12],7,1804603682),g=r(g,s,l,p,t[m+13],12,-40341101),p=r(p,g,s,l,t[m+14],17,-1502002290),l=r(l,p,g,s,t[m+15],22,1236535329),s=o(s,l,p,g,t[m+1],5,-165796510),g=o(g,s,l,p,t[m+6],9,-1069501632),p=o(p,g,s,l,t[m+11],14,643717713),l=o(l,p,g,s,t[m],20,-373897302),s=o(s,l,p,g,t[m+5],5,-701558691),g=o(g,s,l,p,t[m+10],9,38016083),p=o(p,g,s,l,t[m+15],14,-660478335),l=o(l,p,g,s,t[m+4],20,-405537848),s=o(s,l,p,g,t[m+9],5,568446438),g=o(g,s,l,p,t[m+14],9,-1019803690),p=o(p,g,s,l,t[m+3],14,-187363961),l=o(l,p,g,s,t[m+8],20,1163531501),s=o(s,l,p,g,t[m+13],5,-1444681467),g=o(g,s,l,p,t[m+2],9,-51403784),p=o(p,g,s,l,t[m+7],14,1735328473),l=o(l,p,g,s,t[m+12],20,-1926607734),s=u(s,l,p,g,t[m+5],4,-378558),g=u(g,s,l,p,t[m+8],11,-2022574463),p=u(p,g,s,l,t[m+11],16,1839030562),l=u(l,p,g,s,t[m+14],23,-35309556),s=u(s,l,p,g,t[m+1],4,-1530992060),g=u(g,s,l,p,t[m+4],11,1272893353),p=u(p,g,s,l,t[m+7],16,-155497632),l=u(l,p,g,s,t[m+10],23,-1094730640),s=u(s,l,p,g,t[m+13],4,681279174),g=u(g,s,l,p,t[m],11,-358537222),p=u(p,g,s,l,t[m+3],16,-722521979),l=u(l,p,g,s,t[m+6],23,76029189),s=u(s,l,p,g,t[m+9],4,-640364487),g=u(g,s,l,p,t[m+12],11,-421815835),p=u(p,g,s,l,t[m+15],16,530742520),l=u(l,p,g,s,t[m+2],23,-995338651),s=c(s,l,p,g,t[m],6,-198630844),g=c(g,s,l,p,t[m+7],10,1126891415),p=c(p,g,s,l,t[m+14],15,-1416354905),l=c(l,p,g,s,t[m+5],21,-57434055),s=c(s,l,p,g,t[m+12],6,1700485571),g=c(g,s,l,p,t[m+3],10,-1894986606),p=c(p,g,s,l,t[m+10],15,-1051523),l=c(l,p,g,s,t[m+1],21,-2054922799),s=c(s,l,p,g,t[m+8],6,1873313359),g=c(g,s,l,p,t[m+15],10,-30611744),p=c(p,g,s,l,t[m+6],15,-1560198380),l=c(l,p,g,s,t[m+13],21,1309151649),s=c(s,l,p,g,t[m+4],6,-145523070),g=c(g,s,l,p,t[m+11],10,-1120210379),p=c(p,g,s,l,t[m+2],15,718787259),l=c(l,p,g,s,t[m+9],21,-343485551),s=_(s,e),l=_(l,y),p=_(p,a),g=_(g,h);return[s,l,p,g]}function i(e){var n="",a;for(a=0;a<32*e.length;a+=8)n+=String.fromCharCode(255&e[a>>5]>>>a%32);return n}function a(e){var n=[],a;for(n[(e.length>>2)-1]=void 0,a=0;a<n.length;a+=1)n[a]=0;for(a=0;a<8*e.length;a+=8)n[a>>5]|=(255&e.charCodeAt(a/8))<<a%32;return n}function e(e){return i(f(a(e),8*e.length))}function d(s,n){var t=a(s),o=[],l=[],d,r;for(o[15]=l[15]=void 0,16<t.length&&(t=f(t,8*s.length)),d=0;16>d;d+=1)o[d]=909522486^t[d],l[d]=1549556828^t[d];return r=f(o.concat(a(n)),512+8*n.length),i(f(l.concat(r),640))}function l(a){var n="0123456789abcdef",e="",s,t;for(t=0;t<a.length;t+=1)s=a.charCodeAt(t),e+=n.charAt(15&s>>>4)+n.charAt(15&s);return e}function g(e){return unescape(encodeURIComponent(e))}function h(t){return e(g(t))}function m(e){return l(h(e))}function p(e,n){return d(g(e),g(n))}function s(e,n){return l(p(e,n))}function n(e,n,t){return n?t?p(n,e):s(n,e):t?h(e):m(e)}"object"==("undefined"===typeof module?"undefined":babelHelpers["typeof"](module))&&module.exports?module.exports=n:y.md5=n}(window);var __awaiter=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(s,o){function i(e){try{l(a.next(e))}catch(t){o(t)}}function r(e){try{l(a["throw"](e))}catch(t){o(t)}}function l(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(i,r)}l((a=a.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,n){function a(e){return function(t){return s([e,t])}}function s(a){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(l=2&a[0]?r["return"]:a[0]?r["throw"]||((l=r["return"])&&l.call(r),0):r.next)&&!(l=l.call(r,a[1])).done)return l;switch((r=0,l)&&(a=[2&a[0],l.value]),a[0]){case 0:case 1:l=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if((l=o.trys,!(l=0<l.length&&l[l.length-1]))&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!l||a[1]>l[0]&&a[1]<l[3])){o.label=a[1];break}if(6===a[0]&&o.label<l[1]){o.label=l[1],l=a;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(a);break}l[2]&&o.ops.pop(),o.trys.pop();continue;}a=n.call(e,o)}catch(t){a=[6,t],r=0}finally{i=l=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var o={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},i,r,l,d;return d={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d},CRMAppElement;(function(){window.runOrAddAsCallback=function(e,t,n){window.app.settings?e.apply(t,n):window.app.addSettingsReadyCallback(e,t,n)},function(){var e=!!document.createElement("div").animate;e||(HTMLElement.prototype.animate=function(e,t){if(!e[1]){var n={currentTime:null,play:function(){},reverse:function(){},cancel:function(){},finish:function(){},pause:function(){},updatePlaybackRate:function(){},addEventListener:function(){},removeEventListener:function(){},dispatchEvent:function(){return!0},effect:null,finished:Promise.resolve(n),pending:!1,startTime:Date.now(),id:"",ready:Promise.resolve(n),playState:"finished",playbackRate:1,timeline:{currentTime:Date.now()},oncancel:null,onfinish:null};return n}var a=this,s="forwards",o={isPaused:!1,currentProgress:0,msRemaining:0,finishedPromise:null,finishPromise:null,playbackRate:1,playState:"idle",iterations:0},i={play:function(){o.playState="running",o.iterations++,o.finishedPromise=new Promise(function(e){o.finishPromise=e});var n=t&&t.duration||500;o.isPaused&&(n=o.msRemaining),n/=o.playbackRate,$(a).stop().animate(e[~~("forwards"===s)],{duration:n,complete:function(){o.playState="finished",o.isPaused=!1,o.finishPromise&&o.finishPromise(i),i.onfinish&&i.onfinish.apply(i,{currentTime:Date.now(),timelineTime:null})},progress:function(e,t,n){o.currentProgress=t,o.msRemaining=n}}),o.isPaused=!1},reverse:function(){s="backwards",this.play()},cancel:function(){o.playState="idle",$(a).stop(),o.isPaused=!1;var t=e[~~("forwards"!==s)];for(var n in t)a.style[n]=t[n];i.oncancel&&i.oncancel.apply(i,{currentTime:Date.now(),timelineTime:null})},finish:function(){o.isPaused=!1,$(a).stop().animate(e[~~("forwards"===s)],{duration:0,complete:function(){o.playState="finished",o.finishPromise&&o.finishPromise(i),i.onfinish&&i.onfinish.apply(i,{currentTime:Date.now(),timelineTime:null})}})},pause:function(){o.playState="paused",$(a).stop(),o.isPaused=!0},id:"",pending:!1,currentTime:null,effect:{getTiming:function(){var e=(t&&t.duration||500)/o.playbackRate;return{delay:0,direction:"forwards"===s?"normal":"reverse",duration:e,easing:t.easing,fill:t.fill}},updateTiming:function(){},getComputedTiming:function(){var e=(t&&t.duration||500)/o.playbackRate;return{endTime:e,activeDuration:e,localTime:"running"===o.playState?e-o.msRemaining:null,progress:"running"===o.playState?o.currentProgress:null,currentIteration:"running"===o.playState?o.iterations:null}}},updatePlaybackRate:function(){},addEventListener:function(){},removeEventListener:function(){},dispatchEvent:function(){return!0},timeline:{currentTime:null},startTime:Date.now(),ready:Promise.resolve(i),playbackRate:null,playState:null,finished:null,oncancel:null,onfinish:null};return Object.defineProperty(i.timeline,"currentTime",{get:function(){return Date.now()}}),Object.defineProperties(i,{playbackRate:{get:function(){return o.playbackRate}},playState:{get:function(){return o.playState}},finished:{get:function(){return o.finishedPromise}}}),$(this).animate(e[1],t.duration,function(){i.onfinish&&i.onfinish.apply({effect:{target:a}})}),i},HTMLElement.prototype.__isAnimationJqueryPolyfill=!0)}();var e={settings:{type:Object,notify:!0},onSettingsReadyCallbacks:{type:Array,value:[]},crmTypes:Array,settingsJsonLength:{type:Number,notify:!0,value:0},globalExcludes:{type:Array,notify:!0,value:[]},versionUpdateTab:{type:Number,notify:!0,value:0,observer:"versionUpdateChanged"}},t=function(){function t(){}t._getRegisteredListener=function(e,t){this.listeners;return e&&"getAttribute"in e?e.getAttribute("data-on-"+t):null},t.domListener=function(e){var t=this,n=this.listeners,a=window.app.util.iteratePath(e,function(n){return t._getRegisteredListener(n,e.type)});if(!a)console.warn.apply(console,this._logf("_createEventHandler","property data-on"+e.type+" not defined"));else if("prototype"!==a&&"parent"!==a&&n[a]){var s=this.listeners[a];s.bind(n)(e,e.detail)}else console.warn.apply(console,this._logf("_createEventHandler","listener method "+a+" not defined"))},t.getKeyBindingValue=function(e){return window.app.settings&&window.app.settings.editor.keyBindings[e.storageKey]||e.defaultKey},t._currentItemIsCss=function(){return this.item&&"stylesheet"===this.item.type},t._isDemo=function(){return-1<location.href.indexOf("demo")},t._onIsTest=function(){return new Promise(function(e){-1<location.href.indexOf("test")?e(null):!0===window.onIsTest?e(null):window.onIsTest=function(){e(null)}})},t._getPageTitle=function(){return this._isDemo()?"Demo, actual right-click menu does NOT work in demo":this.___("generic_app_title")},t._isOldChrome=function(){return 30>this.getChromeVersion()},t._getChromeAge=function(){return new Date().getUTCFullYear()-2013},t._getString=function(e){return e||""},t._isOfType=function(e,t){return e.type===t},t.getChromeVersion=function(){return"chrome"===BrowserAPI.getBrowser()?parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10):1e3},t.generateCodeOptionsArray=function(e){return e&&"string"!==typeof e?Object.getOwnPropertyNames(e).map(function(t){return"$schema"===t?null:{key:t,value:JSON.parse(JSON.stringify(e[t]))}}).filter(function(e){return null!==e}).map(function(e){var t=e.key,n=e.value;if("choice"===n.type){var a=n;("number"!==typeof a.selected||a.selected>a.values.length||0>a.selected)&&(a.selected=0)}return{key:t,value:n}}):[]},t._isOnlyGlobalExclude=function(){return 1===this.globalExcludes.length},t._isVersionUpdateTabX=function(e,t){return e===t},t._getUpdatedScriptString=function(e){return e?this.___("crmApp_code_nodeUpdated",e.name,e.oldVersion,e.newVersion):"Please ignore"},t._getPermissionDescription=function(){return this.templates.getPermissionDescription},t._getNodeName=function(e){return window.app.nodesById.get(e).name},t._getNodeVersion=function(e){return window.app.nodesById.get(e).nodeInfo&&window.app.nodesById.get(e).nodeInfo.version||"1.0"},t._placeCommas=function(e){var t=this._reverseString(e.toString()).match(/[0-9]{1,3}/g);return this._reverseString(t.join(","))},t._supportsStorageSync=function(){return"sync"in BrowserAPI.getSrc().storage&&"get"in BrowserAPI.getSrc().storage.sync},t._getCRMInRMDisabledReason=function(){return this.___("crmApp_options_chromeLow",~~/Chrome\/([0-9.]+)/.exec(navigator.userAgent)?~~/Chrome\/([0-9.]+)/.exec(navigator.userAgent)[1].split(".")[0]+"":this.___("crmApp_options_notChrome"))},t._getStorageSyncDisabledReason=function(){return this._supportsStorageSync()?this.___("crmApp_options_useStorageSyncDisabledTooBig"):this.___("crmApp_options_useStorageSyncDisabledUnavailable")},t._getSettingsJsonLengthColor=function(){var e=Math.floor,t,n;return 51200>=this.settingsJsonLength?(n=255,t=255*(this.settingsJsonLength/51200)):(t=255,n=255-255*((this.settingsJsonLength-51200)/51200)),t=e(0.7*t),n=e(0.7*n),"color: rgb("+t+", "+n+", 0);"},t._findScriptsInSubtree=function(e,t){if("script"===e.type)t.push(e);else if(e.children)for(var n=0;n<e.children.length;n++)this._findScriptsInSubtree(e.children[n],t)},t._runDialogsForImportedScripts=function(e,t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(a){switch(a.label){case 0:return t[0]?(n=t.splice(0,1)[0],[4,window.scriptEdit.openPermissionsDialog(n)]):[3,3];case 1:return a.sent(),[4,this._runDialogsForImportedScripts(e,t)];case 2:return a.sent(),[3,4];case 3:this._addImportedNodes(e),a.label=4;case 4:return[2];}})})},t._addImportedNodes=function(e){var t=this;if(!e[0])return!1;var n=e.splice(0,1)[0];this.util.treeForEach(n,function(e){e.id=t.generateItemId(),e.nodeInfo.source="local"}),this.crm.add(n);var a=[];return this._findScriptsInSubtree(n,a),this._runDialogsForImportedScripts(e,a),!0},t._reverseString=function(e){return e.split("").reverse().join("")},t._genRequestPermissionsHandler=function(e,t){var n=this;return function a(){var s=e.overlay,o,i;s.style.maxHeight="initial!important",s.style.top="initial!important",s.removeEventListener("iron-overlay-opened",a),$(window.app.util.getQuerySlot()(s,".requestPermissionsShowBot")).off("click").on("click",function(){o=$(this).parent().parent().children(".requestPermissionsPermissionBotCont")[0],i=$(this).find(".requestPermissionsSvg")[0],i.__rotated?(window.setTransform(i,"rotate(90deg)"),i.rotated=!1):(window.setTransform(i,"rotate(270deg)"),i.rotated=!0),o.animation&&o.animation.reverse?o.animation.reverse():o.animation=o.animate([{height:"0"},{height:o.scrollHeight+"px"}],{duration:250,easing:"linear",fill:"both"})}),$(n.shadowRoot.querySelectorAll("#requestPermissionsShowOther")).off("click").on("click",function(){var e=this,t=$(this).parent().parent().parent().children("#requestPermissionsOther")[0];t.style.height&&"0px"!==t.style.height?$(t).animate({height:0},350,function(){e.children[0].style.display="block",e.children[1].style.display="none"}):$(t).animate({height:t.scrollHeight+"px"},350,function(){e.children[0].style.display="none",e.children[1].style.display="block"})});var r;$(n.shadowRoot.querySelectorAll(".requestPermissionButton")).off("click").on("click",function(){r=this.previousElementSibling.previousElementSibling.textContent;var e=this;if(this.checked)try{browserAPI.permissions.request({permissions:[r]}).then(function(t){t?browserAPI.storage.local.get().then(function(t){var e=t.requestPermissions;e.splice(e.indexOf(r),1),browserAPI.storage.local.set({requestPermissions:e})}):e.checked=!1})}catch(t){browserAPI.storage.local.get().then(function(t){var e=t.requestPermissions;e.splice(e.indexOf(r),1),browserAPI.storage.local.set({requestPermissions:e})})}else browserAPI.permissions.remove({permissions:[r]}).then(function(t){t||(e.checked=!0)})}),$(n.shadowRoot.querySelectorAll("#requestPermissionsAcceptAll")).off("click").on("click",function(){browserAPI.permissions.request({permissions:t}).then(function(e){e&&(browserAPI.storage.local.set({requestPermissions:[]}),$(".requestPermissionButton.required").each(function(){this.checked=!0}))})})}},t._requestPermissions=function(e,t){return void 0===t&&(t=!1),__awaiter(this,void 0,void 0,function(){var n,a,s,o,i,r,l,d,p,c,u;return __generator(this,function(g){switch(g.label){case 0:for(s=this.templates.getPermissions(),n=0;n<e.length;n++)a=s.indexOf(e[n]),-1===a?(e.splice(a,1),n--):s.splice(a,1);return browserAPI.storage.local.set({requestPermissions:e}),0<e.length||t?browserAPI.permissions?[4,browserAPI.permissions.getAll()]:[3,2]:[3,4];case 1:return i=g.sent(),[3,3];case 2:i={permissions:[]},g.label=3;case 3:for(o=i,r=[],n=0;n<e.length;n++)r.push({name:e[n],description:this.templates.getPermissionDescription(e[n]),toggled:!1});for(l=[],n=0;n<s.length;n++)l.push({name:s[n],description:this.templates.getPermissionDescription(s[n]),toggled:-1<o.permissions.indexOf(s[n])});d=this.$$("#requestPermissionsOther"),p={overlay:null},c=this._genRequestPermissionsHandler(p,e),u=window.setInterval(function(){try{var e=window.doc.requestPermissionsCenterer,t=p.overlay=window.app.util.getQuerySlot()(e)[0];if(t.open){window.clearInterval(u);var n=window.app.util.getQuerySlot()(t)[0];window.app.$.requestedPermissionsTemplate.items=r,window.app.$.requestedPermissionsOtherTemplate.items=l,t.addEventListener("iron-overlay-opened",c),setTimeout(function(){var e=n.querySelector("#requestedPermissionsCont"),a=n.querySelector("#requestPermissionsAcceptAll"),s=n.querySelector(".requestPermissionsType");0===r.length?(e.style.display="none",d.style.height=31*l.length+"px",a.style.display="none",s.style.display="none"):(e.style.display="block",d.style.height="0",a.style.display="block",s.style.display="block"),t.open()},0)}}catch(t){}},100),g.label=4;case 4:return[2];}})})},t._transferCRMFromOld=function(e,t,n){return void 0===t&&(t=localStorage),void 0===n&&(n=2),__awaiter(this,void 0,void 0,function(){return __generator(this,function(a){switch(a.label){case 0:return[4,this._transferFromOld.transferCRMFromOld(e,t,n)];case 1:return[2,a.sent()];}})})},t.initCodeOptions=function(e){var t=this;this.$.codeSettingsDialog.item=e,this.$.codeSettingsNodeName.innerText=e.name,this.$.codeSettingsRepeat.items=this.generateCodeOptionsArray(e.value.options),this.$.codeSettingsNoItems["if"]=0===this.$.codeSettingsRepeat.items.length,this.$.codeSettingsRepeat.render(),this.async(function(){t.$.codeSettingsDialog.fit(),Array.prototype.slice.apply(t.$.codeSettingsDialog.querySelectorAll("paper-dropdown-menu")).forEach(function(e){e.init(),e.updateSelectedContent()}),t.$.codeSettingsDialog.open()},250)},t.versionUpdateChanged=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return this._isVersionUpdateTabX(this.versionUpdateTab,1)?(e=this.$.versionUpdateDialog,!!e.editorManager)?[3,2]:(t=e,[4,this.$.tryOutEditor.create(this.$.tryOutEditor.EditorMode.JS,{value:"//some javascript code\nvar body = document.getElementById('body');\nbody.style.color = 'red';\n\n",language:"javascript",theme:"dark"===window.app.settings.editor.theme?"vs-dark":"vs",wordWrap:"off",fontSize:14*(~~window.app.settings.editor.zoom/100),folding:!0})]):[3,2];case 1:t.editorManager=n.sent(),n.label=2;case 2:return[2];}})})},t.generateItemId=function(){return this._latestId=this._latestId||0,this._latestId++,this.settings&&(this.settings.latestId=this._latestId,window.app.upload()),this._latestId},t.toggleShrinkTitleRibbon=function(){var e=window.innerHeight,t=$(this.$$("#settingsContainer"));window.app.storageLocal.shrinkTitleRibbon?($(window.doc.editorTitleRibbon).animate({fontSize:"100%"},250),$(window.doc.editorCurrentScriptTitle).animate({paddingTop:"4px",paddingBottom:"4px"},250),t.animate({height:e-50},250,function(){window.addCalcFn(t[0],"height","100vh - 66px")}),window.setTransform(window.doc.shrinkTitleRibbonButton,"rotate(270deg)"),window.doc.showHideToolsRibbonButton.classList.add("hidden")):($(window.doc.editorTitleRibbon).animate({fontSize:"40%"},250),$(window.doc.editorCurrentScriptTitle).animate({paddingTop:0,paddingBottom:0},250),t.animate({height:e-18},250,function(){window.addCalcFn(t[0],"height","100vh - -29px")}),window.setTransform(window.doc.shrinkTitleRibbonButton,"rotate(90deg)"),window.doc.showHideToolsRibbonButton.classList.remove("hidden")),window.app.storageLocal.shrinkTitleRibbon=!window.app.storageLocal.shrinkTitleRibbon,browserAPI.storage.local.set({shrinkTitleRibbon:window.app.storageLocal.shrinkTitleRibbon})},t.addSettingsReadyCallback=function(e,t,n){this.onSettingsReadyCallbacks.push({callback:e,thisElement:t,params:n})},t.upload=function(e){var t=this;void 0===e&&(e=!1),this.uploading.upload(e),function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,window.onExistsChain(window,"app","settings","crm")];case 1:return e.sent(),this.updateCrmRepresentation(window.app.settings.crm),[2];}})})}()},t.updateEditorZoom=function(){var e=document.getElementById("editorZoomStyle");e&&e.remove();var t=document.createElement("style");t.id="editorZoomStyle",t.innerText=".CodeMirror, .CodeMirror-focused {\n\t\t\t\tfont-size: "+1.25*~~window.app.settings.editor.zoom+"%!important;\n\t\t\t}",document.head.appendChild(t)},t._assertCRMNodeShape=function(e){var t=!1;if("menu"!==e.type)return!1;e.children||(e.children=[],t=!0);for(var n=e.children.length-1;0<=n;n--)e.children[n]||(e.children.splice(n,1),t=!0);for(var a=0,s=e.children,o;a<s.length;a++)o=s[a],t=this._assertCRMNodeShape(o)||t;return t},t._assertCRMShape=function(e){for(var t=!1,n=0;n<e.length;n++)t=this._assertCRMNodeShape(e[n])||t;t&&window.app.upload()},t.updateCrmRepresentation=function(e){this._assertCRMShape(e),this._setup.orderNodesById(e),this.crm.buildNodePaths(e)},t.setLocal=function(e,t){var n=this,a=(s={},s[e]=t,s),s;browserAPI.storage.local.set(a),browserAPI.storage.local.get().then(function(t){n.storageLocal=t,n.upload(),("CRMOnPage"===e||"editCRMInRM"===e)&&(window.doc.editCRMInRM.setCheckboxDisabledValue&&window.doc.editCRMInRM.setCheckboxDisabledValue(!t.CRMOnPage),n.pageDemo.create())})},t.refreshPage=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return(window.app.item&&(e=window[window.app.item.type+"Edit"],e&&e.cancel()),window.app.item=null,window.app.settings=window.app.storageLocal=null,window.app._settingsCopy=window.app._storageLocalCopy=null,!window.Storages)?[3,2]:(window.Storages.clearStorages(),[4,window.Storages.loadStorages()]);case 1:return t.sent(),[3,4];case 2:return[4,browserAPI.runtime.sendMessage({type:"_resetSettings"})];case 3:t.sent(),t.label=4;case 4:return[4,this._setup.setupStorages()];case 5:return t.sent(),this._setup.initCheckboxes(window.app.storageLocal),Array.prototype.slice.apply(this.shadowRoot.querySelectorAll("default-link")).forEach(function(e){e.reset()}),window.doc.URISchemeFilePath.value="C:\\files\\my_file.exe",window.doc.URISchemeSchemeName.value=this.___("crmApp_uriScheme_example"),Array.prototype.slice.apply(this.shadowRoot.querySelectorAll("paper-dialog")).forEach(function(e){e.opened&&e.close()}),this.upload(!0),[4,window.onExistsChain(window,"app","settings","crm")];case 6:return t.sent(),[2];}})})},t._codeStr=function(e){return{content:e,isCode:!0}},t._logCode=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",a=[],s=[],o="edge"===BrowserAPI.getBrowser(),i=0,r=e,l;i<r.length;i++)if(l=r[i],"string"===typeof l)n+=l;else{var d=l.content;o?n+=l:(a.push(n+"%c"+d),s.push("color: grey;font-weight: bold;"),n="%c",s.push("color: white; font-weight: regular"))}0<n.length&&a.push(n),console.log.apply(console,[a.join(" ")].concat(s))},t._getDotValue=function(e,t){for(var n=t.split("."),a=e,s=0;s<n.length;s++)if(n[s]in a)a=a[n[s]];else return;return a},t.dependencyMet=function(e,t){return e.dependency&&!t[e.dependency]?(t[e.val]=!1,!1):!0},t._isDefined=function(e,t,n,a){return void 0===t||null===t?e.optional?(n[e.val]=!1,"continue"):(a.push({err:"Value for "+e.val+" is not set"}),!1):!0},t._typesMatch=function(e,t,n){for(var a=Array.isArray(e.type)?e.type:[e.type],s=0,o;s<a.length;s++){if(o=a[s],"array"===o&&"object"===("undefined"===typeof t?"undefined":babelHelpers["typeof"](t))&&Array.isArray(t))return o;if(("undefined"===typeof t?"undefined":babelHelpers["typeof"](t))===o)return o}return n.push({err:"Value for "+e.val+" is not of type "+a.join(" or ")}),null},t._checkNumberConstraints=function(e,t,n){return void 0!==e.min&&e.min>t?(n.push({err:"Value for "+e.val+" is smaller than "+e.min}),!1):void 0!==e.max&&e.max<t?(n.push({err:"Value for "+e.val+" is bigger than "+e.max}),!1):!0},t._checkArrayChildType=function(e,t,n,a){for(var s=Array.isArray(n.type)?n.type:[n.type],o=0,i;o<s.length;o++)if(i=s[o],"array"===i){if(Array.isArray(t))return!0;}else if(("undefined"===typeof t?"undefined":babelHelpers["typeof"](t))===i)return!0;return a.push({err:"For not all values in the array "+e.val+" is the property "+n.val+" of type "+s.join(" or ")}),!1},t._checkArrayChildrenConstraints=function(e,t,n){for(var a=0;a<t.length;a++)for(var s=0;s<e.forChildren.length;s++){var o=e.forChildren[s],i=t[a][o.val];if(void 0===i||null===i){if(!o.optional)return n.push({err:"For not all values in the array "+e.val+" is the property "+o.val+" defined"}),!1;}else if(!this._checkArrayChildType(e,i,o,n))return!1}return!0},t._checkConstraints=function(e,t,n){return"number"===typeof t?this._checkNumberConstraints(e,t,n):Array.isArray(t)&&e.forChildren?this._checkArrayChildrenConstraints(e,t,n):!0},t.typeCheck=function(e,t,n){for(var a={},s=0,o;s<t.length;s++)if(o=t[s],!!this.dependencyMet(o,a)){var i=this._getDotValue(e,o.val),r=this._isDefined(o,i,a,n);if(!0===r){var l=this._typesMatch(o,i,n);if(l){a[o.val]=!0,this._checkConstraints(o,i,n);continue}}else if("continue"===r)continue;return!1}return!0},t._checkLocalFormat=function(){var e=window.app.storageLocal,t=[];return this.typeCheck(e,[{val:"libraries",type:"array",forChildren:[{val:"code",type:"string"},{val:"name",type:"string",optional:!0},{val:"url",type:"string",optional:!0},{val:"ts",type:"object"}]},{val:"requestPermissions",type:"array"},{val:"selectedCrmType",type:"array"},{val:"jsLintGlobals",type:"array"},{val:"globalExcludes",type:"array"},{val:"resources",type:"object"},{val:"nodeStorage",type:"object"},{val:"resourceKeys",type:"array"},{val:"urlDataPairs",type:"object"},{val:"notFirstTime",type:"boolean"},{val:"lastUpdatedAt",type:"string"},{val:"authorName",type:"string"},{val:"recoverUnsavedData",type:"boolean"},{val:"CRMOnPage",type:"boolean"},{val:"editCRMInRM",type:"boolean"},{val:"useAsUserscriptInstaller",type:"boolean"},{val:"useAsUserstylesInstaller",type:"boolean"},{val:"hideToolsRibbon",type:"boolean"},{val:"shrinkTitleRibbon",type:"boolean"},{val:"showOptions",type:"boolean"},{val:"catchErrors",type:"boolean"},{val:"useStorageSync",type:"boolean"},{val:"settingsVersionData",type:"object"},{val:"addedPermissions",type:"array",forChildren:[{val:"node",type:""},{val:"permissions",type:"array"}]},{val:"updatedScripts",type:"array",forChildren:[{val:"name",type:"string"},{val:"oldVersion",type:"string"},{val:"newVersion",type:"string"}]},{val:"isTransfer",type:"boolean"},{val:"upgradeErrors",type:"object",optional:!0}],t),t},t._checkSyncFormat=function(){var e=window.app.settings,t=[];return this.typeCheck(e,[{val:"errors",type:"object"},{val:"settingsLastUpdatedAt",type:""},{val:"crm",type:"array",forChildren:[{val:"type",type:"string"},{val:"index",type:"",optional:!0},{val:"isLocal",type:"boolean"},{val:"permissions",type:"array"},{val:"id",type:""},{val:"path",type:"array"},{val:"name",type:"string"},{val:"nodeInfo",type:"object"},{val:"triggers",type:"array"},{val:"onContentTypes",type:"array"},{val:"showOnSpecified",type:"boolean"}]},{val:"latestId",type:""},{val:"rootName",type:"string"},{val:"nodeStorageSync",type:"object"},{val:"editor",type:"object"},{val:"editor.theme",type:"string"},{val:"editor.zoom",type:"string"},{val:"editor.keyBindings",type:"object"},{val:"editor.keyBindings.goToDef",type:"string"},{val:"editor.keyBindings.rename",type:"string"},{val:"editor.cssUnderlineDisabled",type:"boolean"},{val:"editor.disabledMetaDataHighlight",type:"boolean"}],t),t},t._checkFormat=function(){var e=[];return e=this._checkLocalFormat().map(function(e){return e.storageType="local",e}),e=e.concat(this._checkSyncFormat().map(function(e){return e.storageType="sync",e})),e},t._setupConsoleInterface=function(){var e=this;window.consoleInfo=function(){e._logCode("Edit local (not synchronized with your google account) settings as follows:"),e._logCode("\t",e._codeStr("window.app.storageLocal.<setting> = <value>;")),e._logCode("\tFor example: ",e._codeStr("window.app.storageLocal.hideToolsRibbon = false;")),e._logCode("\tTo get the type formatting of local settings call ",e._codeStr("window.getLocalFormat();")),e._logCode("\tTo read the current settings just call ",e._codeStr("window.app.storageLocal;")),e._logCode(""),e._logCode("Edit synchronized settings as follows:"),e._logCode("\t",e._codeStr("window.app.settings.<setting> = <value>")),e._logCode("\tFor example: ",e._codeStr("window.app.settings.rootName = \"ROOT\";")),e._logCode("\tOr: ",e._codeStr("window.app.settings.editor.theme = \"white\";")),e._logCode("\tTo get the type formatting of local settings call ",e._codeStr("window.getSyncFormat();")),e._logCode("\tTo read the current settings just call ",e._codeStr("window.app.settings;")),e._logCode(""),e._logCode("Edit the CRM as follows:"),e._logCode("\t",e._codeStr("window.app.settings.crm[<index>].<property> = <value>")),e._logCode("\tFor example: ",e._codeStr("window.app.settings.crm[0].name = \"MyName\";")),e._logCode("\tTo find the index either call ",e._codeStr("window.app.settings.crm;")," or ",e._codeStr("window.getIndexByName(\"<name>\");")),e._logCode("\tTo get the type formatting of a CRM node call ",e._codeStr("window.getCRMFormat();")),e._logCode(""),e._logCode("To force upload any changes you made call ",e._codeStr("window.upload();")),e._logCode("To look at the changes that were made call ",e._codeStr("window.getChanges();")),e._logCode("To check the format of your changes call ",e._codeStr("window.checkFormat();")),e._logCode("To upload changes you made if the format is correct call ",e._codeStr("window.uploadIfCorrect();"))},window.getLocalFormat=function(){e._logCode("Format can be found here https://github.com/SanderRonde/CustomRightClickMenu/blob/polymer-2/tools/definitions/crm.d.ts#L1148")},window.getSyncFormat=function(){e._logCode("Format can be found here https://github.com/SanderRonde/CustomRightClickMenu/blob/polymer-2/tools/definitions/crm.d.ts#L1091")},window.getCRMFormat=function(){e._logCode("Format can be found here https://github.com/SanderRonde/CustomRightClickMenu/blob/polymer-2/tools/definitions/crm.d.ts#L1103")},window.upload=window.app.upload,window.getChanges=function(){e._logCode("Here are the changes that have been made. Keep in mind that this includes unuploaded changes the extension made."),e._logCode("");var t=e.uploading.getChanges(!1),n=t.hasLocalChanged,a=t.haveSettingsChanged,s=t.localChanges,o=t.settingsChanges;if(!n)e._logCode("No changes to local storage were made");else{e._logCode("The following changes to local storage were made");for(var i=0,r=s,l;i<r.length;i++)l=r[i],e._logCode("Key ",e._codeStr(l.key)," had value ",e._codeStr(l.oldValue)," and was changed to ",e._codeStr(l.newValue))}if(e._logCode(""),!a)e._logCode("No changes to synced storage were made");else{e._logCode("The following changes to synced storage were made");for(var d=0,p=o,l;d<p.length;d++)l=p[d],e._logCode("Key ",e._codeStr(l.key)," had value ",e._codeStr(l.oldValue)," and was changed to ",e._codeStr(l.newValue))}},window.checkFormat=function(){var t=e._checkFormat();if(0===t.length)e._logCode("Format is correct!");else for(var n=0,a=t,s;n<a.length;n++)s=a[n],e._logCode("Storage type: ",s.storageType,e._codeStr(s.err))},window.uploadIfCorrect=function(){0===e._checkFormat().length?(window.app.upload(),e._logCode("Successfully uploaded")):e._logCode("Did not upload because errors were found.")}},t.ready=function(){var e=this;window.app=this,window.doc=window.app.$,this._setupConsoleInterface(),browserAPI.runtime.onInstalled.addListener(function(t){return __awaiter(e,void 0,void 0,function(){var e,n,a;return __generator(this,function(s){switch(s.label){case 0:return"update"===t.reason?(e=this.$.messageToast,n=this.___,a=["crmApp_code_extensionUpdated"],[4,browserAPI.runtime.getManifest()]):[3,2];case 1:e.text=n.apply(this,a.concat([s.sent().version])),this.$.messageToast.show(),s.label=2;case 2:return[2];}})})}),"undefined"===typeof localStorage&&browserAPI.runtime.onMessage.addListener(function(t,n,a){"idUpdate"===t.type&&(e._latestId=t.latestId),a(null)});var t=0;if(document.body.addEventListener("keyup",function(n){"Control"===n.key&&(t++,window.setTimeout(function(){3<=t?(e.listeners._toggleBugReportingTool(),t=0):0<t&&t--},800))}),this._setup.setupLoadingBar().then(function(){e._setup.setupStorages()}),this._onIsTest()){var n=window.dummyContainer=document.createElement("div");n.id="dummyContainer",n.style.width="100vw",n.style.position="fixed",n.style.top="0",n.style.zIndex="999999999",n.style.display="flex",n.style.flexDirection="row",n.style.justifyContent="space-between",document.body.appendChild(n);var a=document.createElement("style");a.innerHTML="#dummyContainer > * {\n\tbackground-color: blue;\n}",document.head.appendChild(a)}this.show=!1};var n,a,s,o,i;return t.is="crm-app",t._log=[],t.show=!1,t.item=null,t._latestId=-1,t.nodesById=new window.Map,t.jsLintGlobals=[],t.monacoStyleElement=null,t.properties=e,t._TernFile=function(){return function(e){this.name=e}}(),t._transferFromOld=function(){function e(){}return e._backupLocalStorage=function(){if("undefined"!==typeof localStorage&&("undefined"!==typeof window.indexedDB||"undefined"!==typeof window.webkitIndexedDB)){var e=JSON.stringify(localStorage),t=window.indexedDB||window.webkitIndexedDB,n=t.open("localStorageBackup",1);n.onerror=function(){console.log("Error backing up localStorage data")},n.onupgradeneeded=function(t){var n=t.target.result,a=n.createObjectStore("data",{keyPath:"id"});a.add({id:0,data:e})}}},e._parseOldCRMNode=function(e,t,n){var a={},s=e.split("%123"),o=s[0],i=s[1].toLowerCase(),r=s[2];switch(i){case"link":var l;l=-1<r.indexOf(", ")?r.split(", "):r.split(","),a=this.parent().templates.getDefaultLinkNode({name:o,id:this.parent().generateItemId(),value:l.map(function(e){return{newTab:t,url:e}})});break;case"divider":a=this.parent().templates.getDefaultDividerNode({name:o,id:this.parent().generateItemId()});break;case"menu":a=this.parent().templates.getDefaultMenuNode({name:o,id:this.parent().generateItemId(),children:r});break;case"script":var d=r.split("%124"),p=d[0],c=d[1],u=p+"",g;u+"0"&&u+"2"&&(g=u.split("1,")[1].split(","),g=g.map(function(e){return{not:!1,url:e.trim()}}).filter(function(e){return""!==e.url}),p="2");var m=this.parent().generateItemId();a=this.parent().templates.getDefaultScriptNode({name:o,id:m,triggers:g||[],value:{launchMode:parseInt(p,10),updateNotice:!0,oldScript:c,script:this.parent().legacyScriptReplace.convertScriptFromLegacy(c,m,n)}});}return a},e._assignParents=function(e,t,n,a){for(;0!==a&&t[n.index];n.index++,a--){var s=t[n.index];if("menu"===s.type){var o=~~s.children;s.children=[],n.index++,this._assignParents(s.children,t,n,o),n.index--}e.push(s)}},e._chainPromise=function(e,t){var n=this;return void 0===t&&(t=0),new Promise(function(a,s){e[t]().then(function(o){t+1>=e.length?a(o):n._chainPromise(e,t+1).then(function(e){a(e)},function(e){s(e)})},function(e){s(e)})})},e._execFile=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(){return t=document.createElement("script"),t.src=browserAPI.runtime.getURL(browserAPI.runtime.getURL(e)),document.body.appendChild(t),[2]})})},e._loadTernFiles=function(){var e=this;return new Promise(function(t,n){e._chainPromise(["/js/libraries/tern/walk.js","/js/libraries/tern/signal.js","/js/libraries/tern/acorn.js","/js/libraries/tern/tern.js","/js/libraries/tern/ternserver.js","/js/libraries/tern/def.js","/js/libraries/tern/comment.js","/js/libraries/tern/infer.js"].map(function(t){return function(){return e._execFile(t)}})).then(function(){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,window.onExists("tern",window)];case 1:return e.sent(),t(null),[2];}})})},function(e){n(e)})})},e.transferCRMFromOld=function(e,t,n){return __awaiter(this,void 0,void 0,function(){var a,s,o,i;return __generator(this,function(r){switch(r.label){case 0:return this._backupLocalStorage(),[4,this._loadTernFiles()];case 1:for(r.sent(),s=parseInt(t.getItem("numberofrows"),10)+1,o=[],a=1;a<s;a++)o.push(this._parseOldCRMNode(t.getItem(a),e,n));return i=[],this._assignParents(i,o,{index:0},o.length),[2,i];}})})},(e.parent=function(){return window.app},e)}(),t._setup=(n=function(){function e(){}return e._restoreUnsavedInstances=function(e){return __awaiter(this,void 0,void 0,function(){var t=this,n,a,s,o,r,l,i;return __generator(this,function(){return n=this.parent().nodesById.get(e.id),a="script"===n.type?"main"===e.mode?n.value.script:n.value.backgroundScript:n.value.stylesheet,this.parent().listeners.iconSwitch(null,e.crmType),this.parent().$.keepChangesButton.addEventListener("click",function(){window.app.uploading.createRevertPoint(),"script"===n.type?n.value["main"===e.mode?"script":"backgroundScript"]=e.val:n.value.stylesheet=e.val,window.app.upload(),browserAPI.storage.local.set({editing:null}),window.setTimeout(function(){i.destroy()},500)}),this.parent().$.discardButton.addEventListener("click",function(){browserAPI.storage.local.set({editing:null}),window.setTimeout(function(){i.destroy()},500)}),s="script"===n.type&&n.value.ts&&n.value.ts.enabled,o=function(e){var n=e.$$(".item");n.animate([{opacity:"1"},{opacity:"0.6"}],{duration:250,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){n.style.opacity="0.6",$(t.parent().$$(".pageCont")).animate({backgroundColor:"white"},200),Array.prototype.slice.apply(t.parent().shadowRoot.querySelectorAll(".crmType")).forEach(function(e){e.classList.add("dim")});var e=window.app.editCRM.getItems();e.forEach(function(e){e.$$(".item").animate([{opacity:"0"},{opacity:"1"}],{duration:200}).onfinish=function(){document.body.style.pointerEvents="all"}}),window.setTimeout(function(){window.doc.restoreChangesDialog.style.display="block"},200)}},r=this.parent().nodesById.get(e.id).path,l=function(){document.body.style.pointerEvents="none";var e=t.parent().editCRM.$.CRMEditColumnsContainer.children,n=e[r.length-1],a=n.querySelector(".paper-material"),s=a.querySelector(".CRMEditColumn"),i=s.querySelectorAll("edit-crm-item"),l=i[r[r.length-1]];if(l.$$(".item"))l.$$(".item").animate([{opacity:"0.6"},{opacity:"1"}],{duration:250,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){l.$$(".item").style.opacity="1"},setTimeout(function(){o(l)},2e3);else{window.doc.restoreChangesDialog.style.display="block",$(t.parent().shadowRoot.querySelectorAll(".pageCont")).animate({backgroundColor:"white"},200),Array.prototype.slice.apply(t.parent().shadowRoot.querySelectorAll(".crmType")).forEach(function(e){e.classList.remove("dim")});var d=window.app.editCRM.getItems().map(function(e){return e.$$(".item")});$(d).animate({opacity:1},200,function(){document.body.style.pointerEvents="all"})}},window.doc.highlightChangedScript.addEventListener("click",function(){window.doc.restoreChangesDialog.style.display="none",t.parent().$$(".pageCont").style.backgroundColor="rgba(0,0,0,0.4)",window.app.editCRM.getItems().forEach(function(e){var t=e.$$(".item");t.style.opacity="0.6"}),Array.prototype.slice.apply(t.parent().shadowRoot.querySelectorAll(".crmType")).forEach(function(e){e.classList.add("dim")}),setTimeout(function(){if(1===r.length)l();else{for(var e=!0,t=1;t<r.length;t++)if(window.app.editCRM.crm[t].indent.length!==r[t-1]){e=!1;break}if(!e){var n=JSON.parse(JSON.stringify(r));n.pop(),window.app.editCRM.build({setItems:n}),setTimeout(l,700)}else l()}},500)}),window.doc.restoreChangesDialog.open(),i=null,window.setTimeout(function(){return __awaiter(t,void 0,void 0,function(){var t,o;return __generator(this,function(r){switch(r.label){case 0:return t=window.doc.restoreChangesEditor,o="script"===n.type?s?t.EditorMode.TS_META:t.EditorMode.JS_META:t.EditorMode.CSS_META,[4,window.doc.restoreChangesEditor.createDiff([a,e.val],o,{wordWrap:"off",fontSize:14*(~~window.app.settings.editor.zoom/100),folding:!0})];case 1:return i=r.sent(),[2];}})})},1e3),[2]})})},e._bindListeners=function(){if(!this._listening){this._listening=!0;var e=window.doc.addLibraryUrlInput,t=window.doc.addLibraryManualInput;window.doc.addLibraryUrlOption.addEventListener("change",function(){t.style.display="none",e.style.display="block"}),window.doc.addLibraryManualOption.addEventListener("change",function(){e.style.display="none",t.style.display="block"}),$("#addLibraryDialog").on("iron-overlay-closed",function(){$(this).find("#addLibraryButton, #addLibraryConfirmAddition, #addLibraryDenyConfirmation").off("click")})}},e._crmTypeNumberToArr=function(e){var t=[!1,!1,!1,!1,!1,!1];return t[e]=!0,t},e.setupStorages=function(){return __awaiter(this,void 0,void 0,function(){function e(e){t.settings=e,t._settingsCopy=JSON.parse(JSON.stringify(e)),window.app.editCRM.$.rootCRMItem.updateName(e.rootName);for(var a=0;a<t.onSettingsReadyCallbacks.length;a++)t.onSettingsReadyCallbacks[a].callback.apply(t.onSettingsReadyCallbacks[a].thisElement,t.onSettingsReadyCallbacks[a].params);t.updateEditorZoom(),t.updateCrmRepresentation(e.crm),t._latestId=t.settings.latestId?e.latestId:0,window.doc.editCRMInRM.setCheckboxDisabledValue(!n.CRMOnPage),t._isDemo()?(window.doc.CRMOnPage.toggled=!0,window.app.setLocal("CRMOnPage",!0),window.doc.CRMOnPage.setCheckboxDisabledValue(!0),t.pageDemo.create()):n.CRMOnPage&&t.pageDemo.create()}var t,n,a,s,o,i;return __generator(this,function(r){switch(r.label){case 0:return t=this.parent(),[4,browserAPI.storage.local.get()];case 1:return n=r.sent(),Array.prototype.slice.apply(t.shadowRoot.querySelectorAll("paper-toggle-option")).forEach(function(e){e.init(n)}),t._setup._bindListeners(),delete n.nodeStorage,n.requestPermissions&&0<n.requestPermissions.length?browserAPI.permissions?[4,t._requestPermissions(n.requestPermissions)]:[3,3]:[3,3];case 2:r.sent(),r.label=3;case 3:return n.editing&&(a=n.editing,setTimeout(function(){var e=t.nodesById.get(a.id),n="script"===e.type?e.value.script:e.value.stylesheet;n.trim()===a.val.trim()?browserAPI.storage.local.set({editing:null}):t._setup._restoreUnsavedInstances(a)},2500)),void 0===n.selectedCrmType?(browserAPI.storage.local.set({selectedCrmType:[!0,!0,!0,!0,!0,!0]}),t.crmTypes=[!0,!0,!0,!0,!0,!0],t._setup.switchToIcons([!0,!0,!0,!0,!0,!0])):(s=Array.isArray(n.selectedCrmType)?n.selectedCrmType:this._crmTypeNumberToArr(n.selectedCrmType),t.crmTypes=s,t._setup.switchToIcons(s)),n.jsLintGlobals?t.jsLintGlobals=n.jsLintGlobals:(t.jsLintGlobals=["window","$","jQuery","crmapi"],browserAPI.storage.local.set({jsLintGlobals:t.jsLintGlobals})),n.globalExcludes&&1<n.globalExcludes.length?t.globalExcludes=n.globalExcludes:(t.globalExcludes=[""],browserAPI.storage.local.set({globalExcludes:t.globalExcludes})),n.addedPermissions&&0<n.addedPermissions.length&&window.setTimeout(function(){window.doc.addedPermissionsTabContainer.tab=0,window.doc.addedPermissionsTabContainer.maxTabs=n.addedPermissions.length,window.doc.addedPermissionsTabRepeater.items=n.addedPermissions,1===n.addedPermissions.length?window.doc.addedPermissionNextButton.querySelector(".next").style.display="none":window.doc.addedPermissionNextButton.querySelector(".close").style.display="none",window.doc.addedPermissionPrevButton.style.display="none",window.doc.addedPermissionsTabRepeater.render(),window.doc.addedPermissionsDialog.open(),browserAPI.storage.local.set({addedPermissions:null})},2500),n.updatedNodes&&0<n.updatedNodes.length&&(t.$.scriptUpdatesToast.text=t._getUpdatedScriptString(n.updatedNodes[0]),t.$.scriptUpdatesToast.scripts=n.updatedNodes,t.$.scriptUpdatesToast.index=0,t.$.scriptUpdatesToast.show(),t.$.nextScriptUpdateButton.style.display=1<n.updatedNodes.length?"inline":"none",browserAPI.storage.local.set({updatedScripts:[]}),n.updatedNodes=[]),n.settingsVersionData&&n.settingsVersionData.wasUpdated&&(o=n.settingsVersionData,o.wasUpdated=!1,browserAPI.storage.local.set({settingsVersionData:o}),i=window.doc.updatedSettingsToast,i.text=this.parent().___("crmApp_code_settingsUpdated",new Date(o.latest.date).toLocaleDateString()),i.show()),n.isTransfer&&(browserAPI.storage.local.set({isTransfer:!1}),window.app.$.stylesheetGif.src=window.app.$.stylesheetGif.getAttribute("data-src"),window.doc.versionUpdateDialog.open()),t.storageLocal=n,t._storageLocalCopy=JSON.parse(JSON.stringify(n)),n.useStorageSync&&t._supportsStorageSync()?browserAPI.storage.sync.get().then(function(a){var s=a,o=s.indexes;if(null==o||-1===o||void 0===o)browserAPI.storage.local.set({useStorageSync:!1}),e(n.settings);else{var i=[],r="number"===typeof o?o:Array.isArray(o)?o.length:0;window.app.util.createArray(r).forEach(function(e,t){i.push(s["section"+t])});var l=i.join("");t.settingsJsonLength=l.length;var d=JSON.parse(l);102400<=t.settingsJsonLength&&window.app.$.useStorageSync.setCheckboxDisabledValue(!0),e(d)}}):(t.settingsJsonLength=JSON.stringify(n.settings||{}).length,n.settings?e(n.settings):(browserAPI.storage.local.set({useStorageSync:!0}),browserAPI.storage.sync.get().then(function(n){var a=n,s=a.indexes,o=[],i="number"===typeof s?s:Array.isArray(s)?s.length:0;window.app.util.createArray(i).forEach(function(e,t){o.push(a["section"+t])});var r=o.join("");t.settingsJsonLength=r.length;var l=JSON.parse(r);e(l)})),(!t._supportsStorageSync()||102400<=t.settingsJsonLength)&&window.app.$.useStorageSync.setCheckboxDisabledValue(!0)),[2];}})})},e.setupLoadingBar=function(){var e=this;return new Promise(function(t){return __awaiter(e,void 0,void 0,function(){var e=this;return __generator(this,function(){return window.splashScreen.done.then(function(){window.setTimeout(function(){window.setTimeout(function(){window.setTimeout(function(){window.polymerElementsLoaded=!0},500),"edge"===BrowserAPI.getBrowser()?console.log(e.parent().___("crmApp_code_hiMessage")):console.log("%c"+e.parent().___("crmApp_code_hiMessage"),"font-size:120%;font-weight:bold;"),console.log(e.parent().___("crmApp_code_consoleInfo"))},200),window.CRMLoaded=window.CRMLoaded||{listener:null,register:function(e){e()}},window.CRMLoaded.listener&&window.CRMLoaded.listener(),t(null)},25)}),[2]})})})},e.initCheckboxes=function(e){Array.prototype.slice.apply(this.parent().shadowRoot.querySelectorAll("paper-toggle-option")).forEach(function(t){t.init&&t.init(e)})},e.orderNodesById=function(e,t){void 0===t&&(t=!0),t&&this.parent().nodesById.clear();for(var n=0,a;n<e.length;n++)a=e[n],this.parent().nodesById.set(a.id,a),a.children&&this.orderNodesById(a.children,!1)},e.switchToIcons=function(e){if("number"===typeof e){var t=[!1,!1,!1,!1,!1,!1];t[e]=!0,e=t}var n=this.parent().shadowRoot.querySelectorAll(".crmType"),a,s;for(a=0;6>a;a++)e[a]&&(s=n[a],s.classList.add("toggled"));this.parent().crmTypes=e.slice(),this.parent().fire("crmTypeChanged",{})},(e.parent=function(){return window.app},e)}(),n._listening=!1,n),t.uploading=(a=function(){function e(){}return e._areValuesDifferent=function(e,t){var n=Array.isArray(e),a=Array.isArray(t),s="object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e)),o="object"===("undefined"===typeof t?"undefined":babelHelpers["typeof"](t));if(s){if(!o)return!0;if(n){if(!a)return!0;if(!this._parent().util.compareArray(e,t))return!0}else{if(a)return!0;if(!this._parent().util.compareObj(e,t))return!0}}else if(e!==t)return!0;return!1},e._getObjDifferences=function(e,t,n){for(var a in e)e.hasOwnProperty(a)&&this._areValuesDifferent(e[a],t[a])&&n.push({oldValue:t[a],newValue:e[a],key:a});return 0<n.length},e.getChanges=function(e,t){var n=void 0===t?{local:this._parent().storageLocal,localCopy:this._parent()._storageLocalCopy,sync:this._parent().settings,syncCopy:this._parent()._settingsCopy}:t,a=n.local,s=void 0===a?this._parent().storageLocal:a,o=n.localCopy,i=void 0===o?this._parent()._storageLocalCopy:o,r=n.sync,l=void 0===r?this._parent().settings:r,d=n.syncCopy,p=void 0===d?this._parent()._settingsCopy:d,c=[],u=[],g=this._getObjDifferences(s,e?{}:i,c),m=this._getObjDifferences(l,e?{}:p,u);return{hasLocalChanged:g,haveSettingsChanged:m,localChanges:c,settingsChanges:u}},e._updateCopies=function(){this._parent()._storageLocalCopy=JSON.parse(JSON.stringify(this._parent().storageLocal)),this._parent()._settingsCopy=JSON.parse(JSON.stringify(this._parent().settings))},e._uploadChanges=function(e){var t=e.hasLocalChanged,n=e.haveSettingsChanged,a=e.localChanges,s=e.settingsChanges;(t||n)&&browserAPI.runtime.sendMessage({type:"updateStorage",data:{type:"optionsPage",localChanges:t&&a,settingsChanges:n&&s}}),this._parent().pageDemo.create(),this._updateCopies()},e.upload=function(e){this._uploadChanges(this.getChanges(e))},(e.createRevertPoint=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=1e4),e&&(window.app.util.showToast("Undo"),window.app.$.undoToast.duration=t,window.app.$.undoToast.show());var n={local:JSON.parse(JSON.stringify(window.app.storageLocal)),sync:JSON.parse(JSON.stringify(window.app.settings))};return this._lastRevertPoint=n,n},e.showRevertPointToast=function(e,t){void 0===t&&(t=1e4),window.app.util.showToast("Undo"),window.app.$.undoToast.duration=t,window.app.$.undoToast.show(),this._lastRevertPoint=e},e.revert=function(e){void 0===e&&(e=this._lastRevertPoint),window.app.$.undoToast.hide(),this._lastRevertPoint&&(this._uploadChanges(this.getChanges(!1,{local:e.local,localCopy:this._parent().storageLocal,sync:e.sync,syncCopy:this._parent().settings})),window.app.settings=e.sync,window.app.updateCrmRepresentation(window.app.settings.crm),window.app.editCRM.build())},e._parent=function(){return window.app},e)}(),a._lastRevertPoint=null,a),t.legacyScriptReplace=(s=function(){function e(){}return e.generateScriptUpgradeErrorHandler=function(e){return function(t,n,a){browserAPI.storage.local.get().then(function(s){if(!s.upgradeErrors){var o={};o[e]={oldScript:t,newScript:n,generalError:a},s.upgradeErrors=o,window.app.storageLocal.upgradeErrors=o}s.upgradeErrors[e]=window.app.storageLocal.upgradeErrors[e]={oldScript:t,newScript:n,generalError:a},browserAPI.storage.local.set({upgradeErrors:s.upgradeErrors})})}},e.convertScriptFromLegacy=function(e,t,n){var a=!1,s=e.indexOf("/*execute locally*/");-1!==s&&(e=e.replace("/*execute locally*/\n",""),s===e.indexOf("/*execute locally*/")&&(e=e.replace("/*execute locally*/","")),a=!0);try{switch(n){case 0:e=this.chromeCallsReplace.replace(e,this.generateScriptUpgradeErrorHandler(t));break;case 1:e=a?this.localStorageReplace.replaceCalls(e.split("\n")):e;break;case 2:var o=a?this.localStorageReplace.replaceCalls(e.split("\n")):e;e=this.chromeCallsReplace.replace(o,this.generateScriptUpgradeErrorHandler(t));}}catch(t){return e}return e},e}(),s.localStorageReplace=function(){function e(){}return e.findExpression=function(e,t,n,a){if(!e)return!1;switch(e.type){case"Identifier":if(e.name===n)return a(t,e),!0;break;case"VariableDeclaration":for(var s=0,o;s<e.declarations.length;s++)if(o=e.declarations[s],o.init&&this.findExpression(o.init,t,n,a))return!0;break;case"MemberExpression":return(t.isObj=!0,!!this.findExpression(e.object,t,n,a))||(t.siblingExpr=e.object,t.isObj=!1,this.findExpression(e.property,t,n,a));case"CallExpression":if(e.arguments&&0<e.arguments.length)for(var s=0;s<e.arguments.length;s++)if(this.findExpression(e.arguments[s],t,n,a))return!0;if(e.callee)return this.findExpression(e.callee,t,n,a);break;case"AssignmentExpression":return this.findExpression(e.right,t,n,a);case"FunctionExpression":case"FunctionDeclaration":for(var s=0;s<e.body.body.length;s++)if(this.findExpression(e.body.body[s],t,n,a))return!0;break;case"ExpressionStatement":return this.findExpression(e.expression,t,n,a);case"SequenceExpression":for(var s=0;s<e.expressions.length;s++)if(this.findExpression(e.expressions[s],t,n,a))return!0;break;case"UnaryExpression":case"ConditionalExpression":return!!this.findExpression(e.consequent,t,n,a)||this.findExpression(e.alternate,t,n,a);case"IfStatement":if(this.findExpression(e.consequent,t,n,a))return!0;if(e.alternate)return this.findExpression(e.alternate,t,n,a);break;case"LogicalExpression":case"BinaryExpression":return!!this.findExpression(e.left,t,n,a)||this.findExpression(e.right,t,n,a);case"BlockStatement":for(var s=0;s<e.body.length;s++)if(this.findExpression(e.body[s],t,n,a))return!0;break;case"ReturnStatement":return this.findExpression(e.argument,t,n,a);case"ObjectExpressions":for(var s=0;s<e.properties.length;s++)if(this.findExpression(e.properties[s].value,t,n,a))return!0;}return!1},e.getLineSeperators=function(e){for(var t=0,n=[],a=0;a<e.length;a++)n.push({start:t,end:t+=e[a].length+1});return n},e.replaceCalls=function(e){var t=new window.app._TernFile("[doc]");t.text=e.join("\n");var n=new window.CodeMirror.TernServer({defs:[]});window.tern.withContext(n.cx,function(){t.ast=window.tern.parse(t.text,n.passes,{directSourceFile:t,allowReturnOutsideFunction:!0,allowImportExportEverywhere:!0,ecmaVersion:n.ecmaVersion})});for(var a=t.ast.body,s=t.text,o={lines:e,lineSeperators:this.getLineSeperators(e),script:s},r=0,i;r<a.length;r++)if(i=a[r],this.findExpression(i,o,"localStorage",function(e,t){e.script=e.script.slice(0,t.start)+"localStorageProxy"+e.script.slice(t.end),e.lines=e.script.split("\n")}))return this.replaceCalls(o.lines);return o.script},e}(),s.chromeCallsReplace=function(){function e(){}return e._isProperty=function(e,t){return e===t||e.replace(/['|"|`]/g,"")===t},e._getCallLines=function(e,t,n){for(var a={},s=0,o;s<e.length;s++)if(o=e[s],o.start<=t&&(a.from={index:o.start,line:s}),o.end>=n){a.to={index:o.end,line:s};break}return a},e._getFunctionCallExpressions=function(e){for(var t=e.parentExpressions.length-1,n=e.parentExpressions[t];n&&"CallExpression"!==n.type;)n=e.parentExpressions[--t];return e.parentExpressions[t]},e._getChromeAPI=function(e,t){t.functionCall=t.functionCall.map(function(e){return e.replace(/['|"|`]/g,"")});var n=t.functionCall;n=n.reverse(),"chrome"===n[0]&&n.splice(0,1);var a=e.callee.end,s=e.end,o=t.persistent.script.slice(a,s);return{call:n.join("."),args:o}},e._getLineIndexFromTotalIndex=function(e,t,n){for(var a=0;a<t;a++)n-=e[a].length+1;return n},e._replaceChromeFunction=function(e,t,n){if(!e.isReturn||e.isValidReturn){for(var a=e.persistent.lines,s=this._getChromeAPI(t,e),o=e.persistent.lines[n.from.line],r=this._getLineIndexFromTotalIndex(e.persistent.lines,n.from.line,e.returnExpr&&e.returnExpr.start||t.callee.start),l=this._getLineIndexFromTotalIndex(e.persistent.lines,n.from.line,t.callee.end),d=o.slice(0,r)+("window.crmAPI.chrome('"+s.call+"')"),p=null,c;" "===d[p=d.length-1];)d=d.slice(0,p);if(";"===d[p=d.length-1]&&(d=d.slice(0,p)),"()"!==s.args){var i=s.args.split("\n");for(d+=i[0],c=1;c<i.length;c++)a[n.from.line+c]=i[c]}if(e.isReturn){for(var u=o.slice(l+s.args.split("\n")[0].length);0===u.indexOf(";");)u=u.slice(1);d+=".return(function("+e.returnName+") {"+u;for(var g=!0,m=0,h=0;h<e.persistent.lines.length;h++)if(0===e.persistent.lines[h].indexOf("\t")){g=!0;break}else if(0===e.persistent.lines[h].indexOf("  ")){for(var y=e.persistent.lines[h].split(" "),f=0;f<y.length&&" "===y[f];f++)m++;g=!1;break}var _;g?_="\t":(_=[],_[m]=" ",_=_.join(" "));var b=null,x=null;for(c=e.parentExpressions.length-1;null===b&&0!==c;c--)if("BlockStatement"===e.parentExpressions[c].type||"FunctionExpression"===e.parentExpressions[c].type&&"BlockStatement"===e.parentExpressions[c].body.type){for(b=this._getLineIndexFromTotalIndex(e.persistent.lines,n.from.line,e.parentExpressions[c].end),x=0;0<b;)b=this._getLineIndexFromTotalIndex(e.persistent.lines,n.from.line+ ++x,e.parentExpressions[c].end);b=this._getLineIndexFromTotalIndex(e.persistent.lines,n.from.line+(x-1),e.parentExpressions[c].end)}null===x&&(x=a.length-n.from.line+1);for(var v=0,C=a[n.from.line];0===C.indexOf(_);)C=C.replace(_,""),v++;var T=[],S;T[v]="";var w=T.join(_)+"}).send();",E=e.persistent.lines.length+1;for(c=n.from.line;c<n.from.line+(x-1);c++)a[c]=_+a[c];for(c=n.from.line+(x-1);c<E;c++)S=a[c],a[c]=w,w=S}else a[n.from.line+(c-1)]=a[n.from.line+(c-1)]+".send();",1===c&&(d+=".send();");a[n.from.line]=d}},e._callsChromeFunction=function(e,t,n){if(t.parentExpressions.push(e),e.arguments&&0<e.arguments.length)for(var a=0;a<e.arguments.length;a++)if(this._findChromeExpression(e.arguments[a],this._removeObjLink(t),n))return!0;if("MemberExpression"!==e.type)return this._findChromeExpression(e,this._removeObjLink(t),n);if(e.property&&(t.functionCall=t.functionCall||[],t.functionCall.push(e.property.name||e.property.raw)),e.object&&e.object.name){var s=this._isProperty(e.object.name,"window")&&this._isProperty(e.property.name||e.property.raw,"chrome");if(s||this._isProperty(e.object.name,"chrome")){t.expression=e;var o=this._getFunctionCallExpressions(t),i=this._getCallLines(t.persistent.lineSeperators,o.start,o.end);return t.isReturn&&!t.isValidReturn?(i.from.index=this._getLineIndexFromTotalIndex(t.persistent.lines,i.from.line,i.from.index),i.to.index=this._getLineIndexFromTotalIndex(t.persistent.lines,i.to.line,i.to.index),n(i,t.persistent.passes),!1):(t.persistent.diagnostic||this._replaceChromeFunction(t,o,i),!0)}}else if(e.object)return this._callsChromeFunction(e.object,t,n);return!1},e._removeObjLink=function(e){var t=e.parentExpressions||[],n={};for(var a in e)e.hasOwnProperty(a)&&"parentExpressions"!==a&&"persistent"!==a&&(n[a]=e[a]);for(var s=[],o=0;o<t.length;o++)s.push(t[o]);return n.persistent=e.persistent,n.parentExpressions=s,n},e._findChromeExpression=function(e,t,n){switch(t.parentExpressions=t.parentExpressions||[],t.parentExpressions.push(e),e.type){case"VariableDeclaration":t.isValidReturn=1===e.declarations.length;for(var a=0,s;a<e.declarations.length;a++)if(s=e.declarations[a],s.init){var o=this._removeObjLink(t),i=s.id.name;if(o.isReturn=!0,o.returnExpr=e,o.returnName=i,this._findChromeExpression(s.init,o,n))return!0}break;case"CallExpression":case"MemberExpression":var r=[];if(e.arguments&&0<e.arguments.length)for(var a=0;a<e.arguments.length;a++)if("MemberExpression"!==e.arguments[a].type&&"CallExpression"!==e.arguments[a].type)r.push(e.arguments[a]);else if(this._findChromeExpression(e.arguments[a],this._removeObjLink(t),n))return!0;if(t.functionCall=[],e.callee&&this._callsChromeFunction(e.callee,t,n))return!0;for(var a=0;a<r.length;a++)if(this._findChromeExpression(r[a],this._removeObjLink(t),n))return!0;break;case"AssignmentExpression":return t.isReturn=!0,t.returnExpr=e,t.returnName=e.left.name,this._findChromeExpression(e.right,t,n);case"FunctionExpression":case"FunctionDeclaration":t.isReturn=!1;for(var a=0;a<e.body.body.length;a++)if(this._findChromeExpression(e.body.body[a],this._removeObjLink(t),n))return!0;break;case"ExpressionStatement":return this._findChromeExpression(e.expression,t,n);case"SequenceExpression":t.isReturn=!1;for(var l=e.expressions.length-1,a=0;a<e.expressions.length;a++)if(a===l&&(t.isReturn=!0),this._findChromeExpression(e.expressions[a],this._removeObjLink(t),n))return!0;break;case"UnaryExpression":case"ConditionalExpression":if(t.isValidReturn=!1,t.isReturn=!0,this._findChromeExpression(e.consequent,this._removeObjLink(t),n))return!0;if(this._findChromeExpression(e.alternate,this._removeObjLink(t),n))return!0;break;case"IfStatement":if(t.isReturn=!1,this._findChromeExpression(e.consequent,this._removeObjLink(t),n))return!0;if(e.alternate&&this._findChromeExpression(e.alternate,this._removeObjLink(t),n))return!0;break;case"LogicalExpression":case"BinaryExpression":if(t.isReturn=!0,t.isValidReturn=!1,this._findChromeExpression(e.left,this._removeObjLink(t),n))return!0;if(this._findChromeExpression(e.right,this._removeObjLink(t),n))return!0;break;case"BlockStatement":t.isReturn=!1;for(var a=0;a<e.body.length;a++)if(this._findChromeExpression(e.body[a],this._removeObjLink(t),n))return!0;break;case"ReturnStatement":return t.isReturn=!0,t.returnExpr=e,t.isValidReturn=!1,this._findChromeExpression(e.argument,t,n);case"ObjectExpressions":t.isReturn=!0,t.isValidReturn=!1;for(var a=0;a<e.properties.length;a++)if(this._findChromeExpression(e.properties[a].value,this._removeObjLink(t),n))return!0;}return!1},e._generateOnError=function(e){return function(t,n){e[n]?e[n].push(t):e[n]=[t]}},e._replaceChromeCalls=function(e,t,n){var a=new window.app._TernFile("[doc]");a.text=e.join("\n");var s=new window.CodeMirror.TernServer({defs:[]});window.tern.withContext(s.cx,function(){a.ast=window.tern.parse(a.text,s.passes,{directSourceFile:a,allowReturnOutsideFunction:!0,allowImportExportEverywhere:!0,ecmaVersion:s.ecmaVersion})});for(var o=a.ast.body,r=0,l=[],d=0;d<e.length;d++)l.push({start:r,end:r+=e[d].length+1});var i=a.text,p={lines:e,lineSeperators:l,script:i,passes:t},c;if(0===t){p.diagnostic=!0;for(var d=0;d<o.length;d++)c=o[d],this._findChromeExpression(c,{persistent:p},n);p.diagnostic=!1}for(var d=0;d<o.length;d++)if(c=o[d],this._findChromeExpression(c,{persistent:p},n)){i=this._replaceChromeCalls(p.lines.join("\n").split("\n"),t+1,n);break}return i},e._removePositionDuplicates=function(e){var t=[];return e.forEach(function(e,n){t[n]=JSON.stringify(e)}),t=t.filter(function(e,n){return t.indexOf(e)===n}),t.map(function(e){return JSON.parse(e)})},e.replace=function(e,t){var n=e.indexOf("/*execute locally*/");-1!==n&&(e=e.replace("/*execute locally*/\n",""),n===e.indexOf("/*execute locally*/")&&(e=e.replace("/*execute locally*/","")));var a=[];try{e=this._replaceChromeCalls(e.split("\n"),0,this._generateOnError(a))}catch(n){return t(null,null,!0),e}var s=a[0],o=a[a.length-1];return o&&t(this._removePositionDuplicates(s),this._removePositionDuplicates(o)),e},e}(),s),t.listeners=function(){function e(){}return e.undo=function(){window.app.uploading.revert()},e._toggleBugReportingTool=function(){window.errorReportingTool.toggleVisibility()},e.toggleTypescript=function(){window.scriptEdit.toggleTypescript(),window.app.$.editorTypescript.classList.toggle("active")},e.toggleToolsRibbon=function(){var e=window.crmEditPage.$.horizontalCenterer,t=e.getBoundingClientRect(),n=t.width+20;$(window.doc.editorToolsRibbonContainer).animate({marginLeft:window.app.storageLocal.hideToolsRibbon?"0":"-200px"},{duration:250,easing:$.bez([0.215,0.61,0.355,1]),step:function(e){window.doc.fullscreenEditorEditor.style.width=n-200-e+"px",window.doc.fullscreenEditorEditor.style.marginLeft=e+200+"px",(window.scriptEdit||window.scriptEdit).getEditorInstance().editor.layout()}}),window.app.storageLocal.hideToolsRibbon=!window.app.storageLocal.hideToolsRibbon,window.app.upload()},e.launchSearchWebsiteToolScript=function(){if(this.parent().item&&"script"===this.parent().item.type&&window.scriptEdit){var e=this.parent().$.paperSearchWebsiteDialog;e.init(),e.setOutputType("script"),e.show()}},e.launchSearchWebsiteToolLink=function(){var e=this.parent().$.paperSearchWebsiteDialog;e.init(),e.setOutputType("link"),e.show()},e.launchExternalEditorDialog=function(){window.doc.externalEditorDialogTrigger.disabled||(window.externalEditor.init(),window.externalEditor.editingCRMItem=window.codeEditBehavior.getActive().item,window.externalEditor.setupExternalEditing())},e.runLint=function(){window.app.util.getDialog().getEditorInstance().runLinter()},e.showCssTips=function(){window.doc.cssEditorInfoDialog.open()},e.showManagePermissions=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return browserAPI.permissions?[4,this.parent()._requestPermissions([],!0)]:[3,2];case 1:return e.sent(),[3,3];case 2:window.app.util.showToast(this.parent().___("crmApp_code_permissionsNotSupported")),e.label=3;case 3:return[2];}})})},e.iconSwitch=function(t,e){var n=this.parent().crmTypes;if("number"===typeof n){var a=[!1,!1,!1,!1,!1,!1];a[n]=!0,n=a}else n=n.slice();var s=n;if(Array.isArray(e)){for(var o=0,i;6>o;o++)i=this.parent().shadowRoot.querySelectorAll(".crmType")[o],e[o]?i.classList.add("toggled"):i.classList.remove("toggled");s=e.slice()}else for(var r=this.parent().util.findElementWithClassName(t,"crmType"),l=this.parent().shadowRoot.querySelectorAll(".crmType"),o=0,i;6>o;o++)i=l[o],i===r&&(s[o]?i.classList.remove("toggled"):i.classList.add("toggled"),s[o]=!s[o]);browserAPI.storage.local.set({selectedCrmType:s});for(var o=0;6>o;o++)if(this.parent().crmTypes[o]!==s[o]){this.parent().fire("crmTypeChanged",{});break}this.parent().crmTypes=s},e._getDownloadPermission=function(e){var t=this;return BrowserAPI.getSrc().downloads&&BrowserAPI.getSrc().downloads.download?void e(!0):BrowserAPI.getSrc().permissions?void browserAPI.permissions.contains({permissions:["downloads"]}).then(function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(){return n?e(!0):browserAPI.permissions.request({permissions:["downloads"]}).then(function(t){browserAPI.downloads=browserAPI.downloads||BrowserAPI.getDownloadAPI(),e(t)}),[2]})})}):(window.app.util.showToast(this.parent().___("crmApp_code_downloadNotSupported")),void e(!1))},e._generateRegexFile=function(){return __awaiter(this,void 0,void 0,function(){var e=this,t,n,a;return __generator(this,function(){return t=this.parent().$.URISchemeFilePath.$$("input").value.replace(/\\/g,"\\\\"),n=this.parent().$.URISchemeSchemeName.$$("input").value,a=["Windows Registry Editor Version 5.00","","[HKEY_CLASSES_ROOT\\"+n+"]","@=\"URL:"+n+" Protocol\"","\"URL Protocol\"=\"\"","","[HKEY_CLASSES_ROOT\\"+n+"\\shell]","","[HKEY_CLASSES_ROOT\\"+n+"\\shell\\open]","","[HKEY_CLASSES_ROOT\\"+n+"\\shell\\open\\command]","@=\"\\\""+t+"\\\"\""].join("\n"),this._getDownloadPermission(function(t){t&&(browserAPI.downloads?browserAPI.downloads.download({url:"data:text/plain;charset=utf-8;base64,"+window.btoa(a),filename:n+".reg"}):window.app.util.showToast(e.parent().___("crmApp_code_downloadNotSupported")))}),[2]})})},e.globalExcludeChange=function(t){for(var e=this.parent().util.findElementWithTagname(t,"paper-input"),n=null,a=document.getElementsByClassName("globalExcludeContainer"),s=0;s<a.length;s++)if(a[s]===e.parentNode){n=s;break}if(null!==n){var o=e.$$("input").value;this.parent().globalExcludes[n]=o,this.parent().set("globalExcludes",this.parent().globalExcludes),browserAPI.storage.local.set({globalExcludes:this.parent().globalExcludes})}},e.removeGlobalExclude=function(t){for(var e=this.parent().util.findElementWithTagname(t,"paper-icon-button"),n=null,a=document.getElementsByClassName("globalExcludeContainer"),s=0;s<a.length;s++)if(a[s]===e.parentNode){n=s;break}null===n||this.parent().splice("globalExcludes",n,1)},e.importData=function(){return __awaiter(this,void 0,void 0,function(){var e=this,t,n,a,s,o,i,r,l;return __generator(this,function(d){switch(d.label){case 0:if(t=this.parent().$.importSettingsInput.value,!!this.parent().$.oldCRMImport.checked)return[3,1];n=void 0;try{n=JSON.parse(t),this.parent().$.importSettingsError.style.display="none"}catch(t){return this.parent().$.importSettingsError.style.display="block",[2]}return window.app.uploading.createRevertPoint(),a=this.parent().$.overWriteImport,a.checked&&(n.local||n.storageLocal)&&(this.parent().settings=n.nonLocal||this.parent().settings,this.parent().storageLocal=n.local||this.parent().storageLocal),n.crm&&(a.checked?this.parent().settings.crm=this.parent().util.crmForEach(n.crm,function(t){t.id=e.parent().generateItemId()}):this.parent()._addImportedNodes(n.crm),this.parent().editCRM.build()),this.parent()._setup.initCheckboxes(this.parent().storageLocal),this.parent().upload(),[3,6];case 1:return(d.trys.push([1,5,,6]),s=t.split("%146%"),"all"!==s[0])?[3,3]:(this.parent().storageLocal.showOptions=s[2],o=s.slice(6),i=function(){function e(){}return e.prototype.getItem=function(e){return"numberofrows"===e?""+(o.length-1):o[e]},e}(),window.app.uploading.createRevertPoint(),[4,this.parent()._transferCRMFromOld(s[4],new i)]);case 2:return r=d.sent(),this.parent().settings.crm=r,this.parent().editCRM.build(),this.parent()._setup.initCheckboxes(this.parent().storageLocal),this.parent().upload(),[3,4];case 3:alert("This method of importing no longer works, please export all your settings instead"),d.label=4;case 4:return[3,6];case 5:return l=d.sent(),this.parent().$.importSettingsError.style.display="block",[2];case 6:return this.parent().util.showToast(this.parent().___("crmApp_code_importSuccess")),[2];}})})},e.exportData=function(){var e=this,t={};if(this.parent().$.exportCRM.checked){t.crm=JSON.parse(JSON.stringify(this.parent().settings.crm));for(var n=0;n<t.crm.length;n++)t.crm[n]=this.parent().editCRM.makeNodeSafe(t.crm[n])}this.parent().$.exportSettings.checked&&(t.local=this.parent().storageLocal,t.nonLocal=JSON.parse(JSON.stringify(this.parent().settings)),delete t.nonLocal.crm),window.doc.exportSettingsSpinner.hide=!1,window.setTimeout(function(){e.parent().$.exportSettingsOutput.value=JSON.stringify(t),window.requestAnimationFrame(function(){window.doc.exportSettingsSpinner.hide=!0})},100)},e.addGlobalExcludeField=function(){this.parent().push("globalExcludes","")},e._openLogging=function(){window.open(browserAPI.runtime.getURL("html/logging.html"),"_blank")},e.hideGenericToast=function(){this.parent().$.messageToast.hide()},e.nextUpdatedScript=function(){var e=this.parent().$.scriptUpdatesToast.index;this.parent().$.scriptUpdatesToast.text=this.parent()._getUpdatedScriptString(this.parent().$.scriptUpdatesToast.scripts[++e]),this.parent().$.scriptUpdatesToast.index=e,this.parent().$.nextScriptUpdateButton.style.display=1<this.parent().$.scriptUpdatesToast.scripts.length-e?"inline":"none"},e.hideScriptUpdatesToast=function(){this.parent().$.scriptUpdatesToast.hide()},e._copyFromElement=function(e,t){var n=document.createRange();n.selectNode(e);var a=window.getSelection();a.removeAllRanges(),a.addRange(n);try{document.execCommand("copy"),t.icon="done"}catch(e){console.error(e),t.icon="error"}this.parent().async(function(){t.icon="content-copy"},1e3),a.removeAllRanges()},e.copyExportDialogToClipboard=function(){this._copyFromElement(this.parent().$.exportJSONData,this.parent().$.dialogCopyButton)},e.copyExportToClipboard=function(){this._copyFromElement(this.parent().$.exportSettingsOutput,this.parent().$.exportCopyButton)},e.goNextVersionUpdateTab=function(){var e=this;if(4===this.parent().versionUpdateTab)this.parent().$.versionUpdateDialog.close();else{var t=this.parent().versionUpdateTab+1,n=document.getElementsByClassName("versionUpdateTab"),a=n[t];a.style.height="auto";var s;for(s=0;s<n.length;s++)n[s].style.display="none";var o=$(a).innerHeight();for(s=0;s<n.length;s++)n[s].style.display="block";a.style.height="0";var i=o+"px",r=this.parent().$.versionUpdateTabSlider,l=r.getBoundingClientRect().height;o>l?r.animate([{height:l+"px"},{height:i}],{duration:500,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){r.style.height=i,a.style.height="auto",e.parent().versionUpdateTab=t}:(a.style.height="auto",this.parent().versionUpdateTab=t,setTimeout(function(){r.animate([{height:l+"px"},{height:i}],{duration:500,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){r.style.height=i}},500))}},e.goPrevVersionUpdateTab=function(){var e=this;if(0!==this.parent().versionUpdateTab){var t=this.parent().versionUpdateTab-1,n=document.getElementsByClassName("versionUpdateTab"),a=n[t];a.style.height="auto";var s;for(s=0;s<n.length;s++)n[s].style.display="none";var o=$(a).innerHeight();for(s=0;s<n.length;s++)n[s].style.display="block";a.style.height="0";var i=o+"px",r=this.parent().$.versionUpdateTabSlider,l=r.getBoundingClientRect().height;o>l?r.animate([{height:l+"px"},{height:i}],{duration:500,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){r.style.height=i,a.style.height="auto",e.parent().versionUpdateTab=t}:(a.style.height="auto",this.parent().versionUpdateTab=t,setTimeout(function(){r.animate([{height:l+"px"},{height:i}],{duration:500,easing:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}).onfinish=function(){r.style.height=i}},500))}},e._applyAddedPermissions=function(){var e=this,t=Array.prototype.slice.apply(window.doc.addedPermissionsTabContainer.querySelectorAll(".nodeAddedPermissionsCont"));t.forEach(function(t){var n=e.parent().nodesById.get(~~t.getAttribute("data-id")),a=Array.prototype.slice.apply(t.querySelectorAll("paper-checkbox")).map(function(e){return e.checked?e.getAttribute("data-permission"):null}).filter(function(e){return!!e});Array.isArray(n.permissions)||(n.permissions=[]),a.forEach(function(e){-1===n.permissions.indexOf(e)&&n.permissions.push(e)})}),this.parent().upload()},e.addedPermissionNext=function(){var e=window.doc.addedPermissionsTabContainer;return e.tab===e.maxTabs-1?(window.doc.addedPermissionsDialog.close(),void this._applyAddedPermissions()):void(e.tab+2===e.maxTabs?(window.doc.addedPermissionNextButton.querySelector(".close").style.display="block",window.doc.addedPermissionNextButton.querySelector(".next").style.display="none"):(window.doc.addedPermissionNextButton.querySelector(".close").style.display="none",window.doc.addedPermissionNextButton.querySelector(".next").style.display="block"),e.style.marginLeft=-800*++e.tab+"px",window.doc.addedPermissionPrevButton.style.display="block")},e.addedPermissionPrev=function(){var e=window.doc.addedPermissionsTabContainer;e.style.marginLeft=-800*--e.tab+"px",window.doc.addedPermissionPrevButton.style.display=0===e.tab?"none":"block"},(e._getCodeSettingsFromDialog=function(){var e=this,t={};return Array.prototype.slice.apply(this.parent().shadowRoot.querySelectorAll(".codeSettingSetting")).forEach(function(n){var a=n.getAttribute("data-key"),s=n.getAttribute("data-type"),o=e.parent().$.codeSettingsDialog.item.value.options[a],i;switch(s){case"number":i=e.parent().templates.mergeObjects(o,{value:~~n.querySelector("paper-input").value});break;case"string":i=e.parent().templates.mergeObjects(o,{value:n.querySelector("paper-input").value});break;case"color":i=e.parent().templates.mergeObjects(o,{value:n.querySelector("input").value});break;case"boolean":i=e.parent().templates.mergeObjects(o,{value:n.querySelector("paper-checkbox").checked});break;case"choice":i=e.parent().templates.mergeObjects(o,{selected:n.querySelector("paper-dropdown-menu").selected});break;case"array":var r=n.querySelector("paper-array-input");r.saveSettings();var l=r.values;l="string"===o.items?l.map(function(e){return e+""}):l.map(function(e){return~~e}),i=e.parent().templates.mergeObjects(o,{value:l});}t[a]=i}),t},e.confirmCodeSettings=function(){this.parent().$.codeSettingsDialog.item.value.options=this._getCodeSettingsFromDialog(),this.parent().upload()},e.exitFullscreen=function(){window.app.util.getDialog().exitFullScreen()},e.toggleFullscreenOptions=function(){var e=window.app.util.getDialog();e.toggleOptions()},e.setThemeWhite=function(){window.app.util.getDialog().setThemeWhite()},e.setThemeDark=function(){window.app.util.getDialog().setThemeDark()},e.fontSizeChange=function(){window.app.async(function(){window.app.util.getDialog().fontSizeChange()},0)},e.jsLintGlobalsChange=function(){window.app.async(function(){window.scriptEdit.jsLintGlobalsChange()},0)},e.onKeyBindingKeyDown=function(t){"script"===this.parent().item.type&&window.scriptEdit.onKeyBindingKeyDown(t)},e.parent=function(){return window.app},e)}(),t.templates=function(){function e(){}return e.mergeArrays=function(e,t){for(var n=0;n<t.length;n++)e[n]=e[n]&&"object"===babelHelpers["typeof"](t[n])&&void 0!==e[n]&&null!==e[n]?Array.isArray(t[n])?this.mergeArrays(e[n],t[n]):this.mergeObjects(e[n],t[n]):t[n];return e},e.mergeObjects=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]="object"===babelHelpers["typeof"](t[n])&&"object"===babelHelpers["typeof"](e[n])&&void 0!==e[n]&&null!==e[n]?Array.isArray(t[n])?this.mergeArrays(e[n],t[n]):this.mergeObjects(e[n],t[n]):t[n]);return e},e.mergeArraysWithoutAssignment=function(e,t){for(var n=0;n<t.length;n++)e[n]&&"object"===babelHelpers["typeof"](t[n])&&void 0!==e[n]&&null!==e[n]?Array.isArray(t[n])?this.mergeArraysWithoutAssignment(e[n],t[n]):this.mergeObjectsWithoutAssignment(e[n],t[n]):e[n]=t[n]},e.mergeObjectsWithoutAssignment=function(e,t){for(var n in t)t.hasOwnProperty(n)&&("object"===babelHelpers["typeof"](t[n])&&void 0!==e[n]&&null!==e[n]?Array.isArray(t[n])?this.mergeArraysWithoutAssignment(e[n],t[n]):this.mergeObjectsWithoutAssignment(e[n],t[n]):e[n]=t[n])},e.getDefaultNodeInfo=function(e){void 0===e&&(e={});var t={permissions:[],installDate:new Date().toLocaleDateString(),lastUpdatedAt:Date.now(),version:"1.0",isRoot:!1,source:"local"};return this.mergeObjects(t,e)},e.getDefaultLinkNode=function(e){void 0===e&&(e={});var t={name:this.parent().___("crm_exampleLinkName"),onContentTypes:[!0,!0,!0,!1,!1,!1],type:"link",showOnSpecified:!1,nodeInfo:this.getDefaultNodeInfo(e.nodeInfo),triggers:[{url:"*://*.example.com/*",not:!1}],isLocal:!0,value:[{newTab:!0,url:"https://www.example.com"}]};return this.mergeObjects(t,e)},e.getDefaultStylesheetValue=function(e){void 0===e&&(e={});return this.mergeObjects({stylesheet:"",launchMode:0,toggle:!1,defaultOn:!1,options:{},convertedStylesheet:null},e)},e.getDefaultScriptValue=function(e){void 0===e&&(e={});return this.mergeObjects({launchMode:0,backgroundLibraries:[],libraries:[],script:"",backgroundScript:"",metaTags:{},options:{},ts:{enabled:!1,backgroundScript:{},script:{}}},e)},e.getDefaultScriptNode=function(e){void 0===e&&(e={});var t={name:this.parent().___("crm_exampleScriptName"),onContentTypes:[!0,!0,!0,!1,!1,!1],type:"script",isLocal:!0,nodeInfo:this.getDefaultNodeInfo(e.nodeInfo),triggers:[{url:"*://*.example.com/*",not:!1}],value:this.getDefaultScriptValue(e.value)};return this.mergeObjects(t,e)},e.getDefaultStylesheetNode=function(e){void 0===e&&(e={});var t={name:this.parent().___("crm_exampleStylesheetName"),onContentTypes:[!0,!0,!0,!1,!1,!1],type:"stylesheet",isLocal:!0,nodeInfo:this.getDefaultNodeInfo(e.nodeInfo),triggers:[{url:"*://*.example.com/*",not:!1}],value:this.getDefaultStylesheetValue(e.value)};return this.mergeObjects(t,e)},e.getDefaultDividerOrMenuNode=function(e,t){void 0===e&&(e={});var n={name:"menu"===t?this.parent().___("crm_exampleMenuName"):this.parent().___("crm_exampleDividerName"),type:t,nodeInfo:this.getDefaultNodeInfo(e.nodeInfo),onContentTypes:[!0,!0,!0,!1,!1,!1],isLocal:!0,value:null,children:"menu"===t?[]:void 0};return this.mergeObjects(n,e)},e.getDefaultDividerNode=function(e){return void 0===e&&(e={}),this.getDefaultDividerOrMenuNode(e,"divider")},e.getDefaultMenuNode=function(e){return void 0===e&&(e={}),this.getDefaultDividerOrMenuNode(e,"menu")},e.getDefaultNodeOfType=function(e,t){return void 0===t&&(t={}),"link"===e?this.getDefaultLinkNode(t):"script"===e?this.getDefaultScriptNode(t):"divider"===e?this.getDefaultDividerNode(t):"menu"===e?this.getDefaultMenuNode(t):"stylesheet"===e?this.getDefaultStylesheetNode(t):void 0},e.getPermissions=function(){return["alarms","activeTab","background","bookmarks","browsingData","clipboardRead","clipboardWrite","contentSettings","cookies","contentSettings","contextMenus","declarativeContent","desktopCapture","downloads","history","identity","idle","management","pageCapture","power","privacy","printerProvider","sessions","system.cpu","system.memory","system.storage","topSites","tabs","tabCapture","tts","webNavigation","webRequest","webRequestBlocking"]},e.getScriptPermissions=function(){return["alarms","activeTab","background","bookmarks","browsingData","clipboardRead","clipboardWrite","contentSettings","cookies","contentSettings","contextMenus","declarativeContent","desktopCapture","downloads","history","identity","idle","management","pageCapture","power","privacy","printerProvider","sessions","system.cpu","system.memory","system.storage","topSites","tabs","tabCapture","tts","webNavigation","webRequest","webRequestBlocking","crmGet","crmWrite","crmRun","crmContextmenu","chrome","browser","GM_info","GM_deleteValue","GM_getValue","GM_listValues","GM_setValue","GM_getResourceText","GM_getResourceURL","GM_addStyle","GM_log","GM_openInTab","GM_registerMenuCommand","GM_setClipboard","GM_xmlhttpRequest","unsafeWindow"]},e.getPermissionDescription=function(e){var t={alarms:this.parent().___("permissions_alarms"),activeTab:this.parent().___("permissions_activeTab"),background:this.parent().___("permissions_background"),bookmarks:this.parent().___("permissions_bookmarks"),browsingData:this.parent().___("permissions_browsingData"),clipboardRead:this.parent().___("permissions_clipboardRead"),clipboardWrite:this.parent().___("permissions_clipboardWrite"),cookies:this.parent().___("permissions_cookies"),contentSettings:this.parent().___("permissions_contentSettings"),contextMenus:this.parent().___("permissions_contextMenus"),declarativeContent:this.parent().___("permissions_declarativeContent"),desktopCapture:this.parent().___("permissions_desktopCapture"),downloads:this.parent().___("permissions_downloads"),history:this.parent().___("permissions_history"),identity:this.parent().___("permissions_identity"),idle:this.parent().___("permissions_idle"),management:this.parent().___("permissions_management"),notifications:this.parent().___("permissions_notifications"),pageCapture:this.parent().___("permissions_pageCapture"),power:this.parent().___("permissions_power"),privacy:this.parent().___("permissions_privacy"),printerProvider:this.parent().___("permissions_printerProvider"),sessions:this.parent().___("permissions_sessions"),"system.cpu":this.parent().___("permissions_systemcpu"),"system.memory":this.parent().___("permissions_systemmemory"),"system.storage":this.parent().___("permissions_systemstorage"),topSites:this.parent().___("permissions_topSites"),tabCapture:this.parent().___("permissions_tabCapture"),tabs:this.parent().___("permissions_tabs"),tts:this.parent().___("permissions_tts"),webNavigation:this.parent().___("permissions_webNavigation")+" (https://developer.chrome.com/extensions/webNavigation)",webRequest:this.parent().___("permissions_webRequest"),webRequestBlocking:this.parent().___("permissions_webRequestBlocking"),crmGet:this.parent().___("permissions_crmGet"),crmWrite:this.parent().___("permissions_crmWrite"),crmRun:this.parent().___("permissions_crmRun"),crmContextmenu:this.parent().___("permissions_crmContextmenu"),chrome:this.parent().___("permissions_chrome"),browser:this.parent().___("permissions_browser"),GM_addStyle:this.parent().___("permissions_GM_addStyle"),GM_deleteValue:this.parent().___("permissions_GM_deleteValue"),GM_listValues:this.parent().___("permissions_GM_listValues"),GM_addValueChangeListener:this.parent().___("permissions_GM_addValueChangeListener"),GM_removeValueChangeListener:this.parent().___("permissions_GM_removeValueChangeListener"),GM_setValue:this.parent().___("permissions_GM_setValue"),GM_getValue:this.parent().___("permissions_GM_getValue"),GM_log:this.parent().___("permissions_GM_log"),GM_getResourceText:this.parent().___("permissions_GM_getResourceText"),GM_getResourceURL:this.parent().___("permissions_GM_getResourceURL"),GM_registerMenuCommand:this.parent().___("permissions_GM_registerMenuCommand"),GM_unregisterMenuCommand:this.parent().___("permissions_GM_unregisterMenuCommand"),GM_openInTab:this.parent().___("permissions_GM_openInTab"),GM_xmlhttpRequest:this.parent().___("permissions_GM_xmlhttpRequest"),GM_download:this.parent().___("permissions_GM_download"),GM_getTab:this.parent().___("permissions_GM_getTab"),GM_saveTab:this.parent().___("permissions_GM_saveTab"),GM_getTabs:this.parent().___("permissions_GM_getTabs"),GM_notification:this.parent().___("permissions_GM_notification"),GM_setClipboard:this.parent().___("permissions_GM_setClipboard"),GM_info:this.parent().___("permissions_GM_info"),unsafeWindow:this.parent().___("permissions_unsafeWindow")};return t[e]},(e.parent=function(){return window.app},e)}(),t.crm=function(){function e(){}return e.getI18NNodeType=function(e){return"link"===e?this._parent().___("crm_link"):"script"===e?this._parent().___("crm_script"):"stylesheet"===e?this._parent().___("crm_stylesheet"):"menu"===e?this._parent().___("crm_menu"):"divider"===e?this._parent().___("crm_divider"):void 0},e.lookup=function(e,t){void 0===t&&(t=!1);var n=JSON.parse(JSON.stringify(e));if(t&&n.splice(n.length-1,1),0===e.length)return window.app.settings.crm;if(1===e.length)return t?window.app.settings.crm:window.app.settings.crm[e[0]];for(var a=window.app.settings.crm,s=null,o=null,r=0;r<e.length;r++)o=a,r===e.length-1?s=a[e[r]]:a=a[e[r]].children;return t?o:s},e._lookupId=function(e,t,n){var a=n.children;if(a)for(var s=void 0,o=0;o<a.length;o++){if(a[o].id===e)return t?a:n;if(s=this._lookupId(e,t,a[o]),s)return s}return null},e.lookupId=function(e,t){if(!t)return window.app.nodesById.get(e);for(var n=0,a;n<window.app.settings.crm.length;n++){if(window.app.settings.crm[n].id===e)return window.app.settings.crm;if(a=this._lookupId(e,t,window.app.settings.crm[n]),a)return a}return null},e.add=function(e,t){void 0===t&&(t="last"),"first"===t?this._parent().settings.crm=this._parent().util.insertInto(e,this._parent().settings.crm,0):"last"===t||void 0===t?this._parent().settings.crm[this._parent().settings.crm.length]=e:this._parent().settings.crm=this._parent().util.insertInto(e,this._parent().settings.crm),window.app.upload(),window.app.editCRM.build({setItems:window.app.editCRM.setMenus})},e.move=function(e,t){var n=this.lookup(e,!0),a=e[e.length-1],s=n[a],o=this.lookup(t,!0),r=t[t.length-1],l=n===o;l&&a>r?(this._parent().util.insertInto(s,o,r),n.splice(~~a+1,1)):(this._parent().util.insertInto(s,o,l?r+1:r),n.splice(a,1)),window.app.upload();for(var d=1,i;d<=window.app.editCRM.setMenus.length-1;d++)if(i=this.lookup(window.app.editCRM.setMenus.slice(0,d),!1),!i||"menu"!==i.type){window.app.editCRM.setMenus=[-1];break}window.app.editCRM.build({setItems:window.app.editCRM.setMenus,quick:!0})},e.buildNodePaths=function(e,t){void 0===t&&(t=[]);for(var n=0;n<e.length;n++){var a=t.concat([n]),s=e[n];s.path=a,s.children&&this.buildNodePaths(s.children,a)}},(e._parent=function(){return window.app},e)}(),t.util=(o=function(){function e(){}return e.iteratePath=function(t,e){for(var n=0,a=this.getPath(t),s=e(a[n]);a[n+1]&&null===s;)s=e(a[++n]);return s},e.arraysOverlap=function(e,t){for(var n=0;n<e.length;n++)if(e[n]&&t[n])return!0;return!1},e.wait=function(e){return new Promise(function(t){window.setTimeout(function(){t(null)},e)})},e.createArray=function(e){for(var t=[],n=0;n<e;n++)t[n]=void 0;return t},e.getChromeVersion=function(){return this.parent().getChromeVersion()},e.xhr=function(e,t){return new Promise(function(n,a){var s=new window.XMLHttpRequest;s.open("GET",t?browserAPI.runtime.getURL(e):e),s.onreadystatechange=function(){s.readyState===XMLHttpRequest.DONE&&(200===s.status?n(s.responseText):a(s.status))},s.send()})},e.showToast=function(e){var t=window.app.$.messageToast;t.text=e,t.show()},e.createElement=function(e,t,n){void 0===n&&(n=[]);var a=document.createElement(e);for(var s in t.id&&(a.id=t.id),t.classes&&a.classList.add.apply(a.classList,t.classes),t.props||{})a.setAttribute(s,t.props[s]+"");t.onclick&&a.addEventListener("click",function(n){t.onclick(a,n)}),t.onhover&&a.addEventListener("mouseenter",function(n){t.onhover(a,n)}),t.onblur&&a.addEventListener("mouseleave",function(n){t.onblur(a,n)}),t.ref&&t.ref(a);for(var o=0,i=n,r;o<i.length;o++)r=i[o],"string"===typeof r?a.innerText=r:a.appendChild(r);return a},e.createSVG=function(e,t,n){void 0===n&&(n=[]);var a=document.createElementNS("http://www.w3.org/2000/svg",e);for(var s in t.id&&(a.id=t.id),t.classes&&a.classList.add.apply(a.classList,t.classes),t.props||{})a.setAttributeNS(null,s,t.props[s]+"");for(var o=0,i=n,r;o<i.length;o++)r=i[o],a.appendChild(r);return a},e._toArray=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},e._generatePathFrom=function(e){for(var t=[];e;)t.push(e),e=e.parentElement;return t.push(document.documentElement,window),t},e.getPath=function(t){return"path"in t&&t.path?this._toArray(t.path):"Aa"in t&&t.Aa?this._toArray(t.Aa):this._generatePathFrom(t.target)},e.getDummy=function(){return this._dummy?this._dummy:(this._dummy=document.createElement("div"),this.parent().appendChild(this._dummy),this._dummy)},e.findElementWithTagname=function(e,t){return this.iteratePath(e,function(e){return e&&"tagName"in e&&e.tagName.toLowerCase()===t?e:null})},e.findElementWithClassName=function(e,t){return this.iteratePath(e,function(e){return e&&"classList"in e&&e.classList.contains(t)?e:null})},e.findElementWithId=function(e,t){return this.iteratePath(e,function(e){return e&&"id"in e&&e.id===t?e:null})},e.insertInto=function(e,t,n){if(void 0===n&&(n=null),null!==n){var a=e,s,o;for(o=n;o<t.length;o++)s=t[o],t[o]=a,a=s;t[o]=a}else t.push(e);return t},e.compareObj=function(e,t){if(!t)return!e;if(!e)return!1;for(var n in e)if(e.hasOwnProperty(n))if("object"===babelHelpers["typeof"](e[n])){if("object"!==babelHelpers["typeof"](t[n]))return!1;if(Array.isArray(e[n])){if(!Array.isArray(t[n]))return!1;if(!this.compareArray(e[n],t[n]))return!1}else{if(Array.isArray(t[n]))return!1;if(!this.compareObj(e[n],t[n]))return!1}}else if(e[n]!==t[n])return!1;return!0},e.compareArray=function(e,t){if(!e!==!t)return!1;if(!e||!t)return!1;var n=e.length;if(n!==t.length)return!1;var a;for(a=0;a<n;a++)if("object"===babelHelpers["typeof"](e[a])){if("object"!==babelHelpers["typeof"](t[a]))return!1;if(Array.isArray(e[a])){if(!Array.isArray(t[a]))return!1;if(!this.compareArray(e[a],t[a]))return!1}else{if(Array.isArray(t[a]))return!1;if(!this.compareObj(e[a],t[a]))return!1}}else if(e[a]!==t[a])return!1;return!0},e.treeForEach=function(e,t){if(t(e),e.children)for(var n=0;n<e.children.length;n++)this.treeForEach(e.children[n],t)},e.crmForEach=function(e,t){for(var n=0,a;n<e.length;n++)a=e[n],"menu"===a.type&&a.children&&this.crmForEach(a.children,t),t(a);return e},(e.getQuerySlot=function(){return window.Polymer.PaperDropdownBehavior.querySlot},e.getDialog=function(){return"script"===this.parent().item.type?window.scriptEdit:window.stylesheetEdit},e.parent=function(){return window.app},e)}(),o._dummy=null,o),t.pageDemo=(i=function(){function e(){}return e._setContentTypeClasses=function(e,t){for(var n=t.onContentTypes,a=0;a<n.length;a++)n[a]&&e.classList.add("contentType"+a)},e._editNodeFromClick=function(e){if(window.app.item)window.app.$.messageToast.text=this.parent().___("crmApp_code_alreadyEditingNode"),window.app.$.messageToast.show();else for(var t=window.app.editCRM.shadowRoot.querySelectorAll("edit-crm-item"),n=0,a;n<t.length;n++)if(a=t[n],a.item&&a.item.id&&a.item.id===e.id){a.openEditPage();break}},e._genDividerNode=function(e){var t=this;return this.parent().util.createElement("div",{classes:["contextMenuDivider"],props:{title:e.name},onclick:function(){window.app.storageLocal.editCRMInRM&&t._editNodeFromClick(e)}})},e._genLinkNode=function(e){var t=this;return this.parent().util.createElement("div",{classes:["contextMenuLink"],onclick:function(){window.app.storageLocal.editCRMInRM?t._editNodeFromClick(e):e.value.forEach(function(e){window.open(e.url,"_blank")})},props:{title:"Link node "+e.name}},[this.parent().util.createElement("div",{classes:["contextMenuLinkText"]},[e.name])])},e._genScriptNode=function(e){var t=this;return this.parent().util.createElement("div",{classes:["contextMenuScript"],onclick:function(){window.app.storageLocal.editCRMInRM?t._editNodeFromClick(e):(window.app.$.messageToast.text=t.parent().___("crmApp_code_wouldExecuteScript"),window.app.$.messageToast.show())},props:{title:"Script node "+e.name}},[this.parent().util.createElement("div",{classes:["contextMenuScriptText"]},[e.name])])},e._genStylesheetNode=function(e){var t=this;return this.parent().util.createElement("div",{classes:["contextMenuStylesheet"],onclick:function(){window.app.storageLocal.editCRMInRM?t._editNodeFromClick(e):(window.app.$.messageToast.text=t.parent().___("crmApp_code_wouldExecuteStylesheet"),window.app.$.messageToast.show())},props:{title:"Stylesheet node "+e.name}},[this.parent().util.createElement("div",{classes:["contextMenuStylesheetText"]},[e.name])])},e._genMenuNode=function(e){var t=this,n=null,a=null,s=null,o=null;return this.parent().util.createElement("div",{classes:["contextMenuMenu"],ref:function(e){a=e},onclick:function(){window.app.storageLocal.editCRMInRM?t._editNodeFromClick(e):(window.app.$.messageToast.text=t.parent().___("crmApp_code_wouldExecuteStylesheet"),a.parentElement.classList.add("forcedVisible"),n&&window.clearTimeout(n),n=window.setTimeout(function(){a.parentElement.classList.remove("forcedVisible"),o.classList.add("hidden"),s.classList.remove("hover"),n=null},3e3))},onhover:function(t,n){a.parentElement.classList.contains("forcedVisible")||(o.classList.remove("hidden"),s.classList.add("hover"),n.stopPropagation())},onblur:function(t,n){a.parentElement.classList.contains("forcedVisible")||(o.classList.add("hidden"),s.classList.remove("hover"),n.stopPropagation())},props:{title:"Menu node "+e.name}},[this.parent().util.createElement("div",{classes:["contextMenuMenuContainer"],ref:function(e){s=e}},[this.parent().util.createElement("div",{classes:["contextMenuMenuText"]},[e.name]),this.parent().util.createElement("div",{classes:["contextMenuMenuArrow"]},[this.parent().util.createSVG("svg",{classes:["contextMenuMenuArrowImage"],props:{width:"48",height:"48",viewBox:"0 0 48 48"}},[this.parent().util.createSVG("path",{props:{d:"M16 10v28l22-14z"}})])])]),this.parent().util.createElement("div",{classes:["contextMenuMenuSubmenu","contextMenuMenuChildren","hidden"],ref:function(e){o=e}},(e.children||[]).map(function(e){return t._genNode(e)}))])},e._genNodeElement=function(e){switch(e.type){case"divider":return this._genDividerNode(e);case"link":return this._genLinkNode(e);case"script":return this._genScriptNode(e);case"stylesheet":return this._genStylesheetNode(e);case"menu":return this._genMenuNode(e);}},e._genNode=function(e){var t=this._genNodeElement(e);return t.classList.add("contextMenuNode"),window.app.storageLocal.editCRMInRM&&t.classList.add("clickable"),this._setContentTypeClasses(t,e),t},e._genMenu=function(){var e=document.createElement("div");e.classList.add("contextMenuRoot","contextMenuMenuSubmenu","rootHidden");for(var t=window.app.settings.crm,n=0,a=t,s;n<a.length;n++)s=a[n],e.appendChild(this._genNode(s));return e},e._setAllContentTypeClasses=function(e,t){var n;(n=e.classList)[t].apply(n,[void 0,void 0,void 0,void 0,void 0,void 0].map(function(e,t){return"hidden"+t})),e.classList[t]("rootHidden")},e._setMenuPosition=function(t,n){t.style.left=n.clientX+"px",t.classList.remove("rootHidden");var e=t.getBoundingClientRect();t.classList.add("rootHidden"),t.style.top=window.innerHeight>e.height+n.clientY?n.clientY+"px":n.clientY-e.height+"px"},e._showMenu=function(t,n){if(this._setMenuPosition(t,n),window.app.util.findElementWithId(n,"mainCont")){for(var e=0;6>e;e++)window.app.crmTypes[e]&&t.classList.remove("hidden"+e);t.classList.remove("rootHidden")}else this._setAllContentTypeClasses(t,"remove")},e._listen=function(e,t){window.addEventListener(e,t),this._listeners.push({event:e,handler:t})},e._setListeners=function(t){var n=this;this._listen("contextmenu",function(a){a.preventDefault(),n._showMenu(t,a)}),this._listen("click",function(){n._setAllContentTypeClasses(t,"add")}),this._listen("scroll",function(){n._setAllContentTypeClasses(t,"add")})},e._unsetListeners=function(){this._listeners.forEach(function(e){var t=e.event,n=e.handler;window.removeEventListener(t,n)})},e._enable=function(){this._root=this._genMenu(),this._setListeners(this._root),this._setAllContentTypeClasses(this._root,"add"),document.body.appendChild(this._root)},e._disable=function(){this._root.remove(),this._unsetListeners(),this._active=!1},e.create=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this._active&&this._disable(),window.app.storageLocal.CRMOnPage?[4,window.onExistsChain(window,"app","settings","crm")]:[2];case 1:return e.sent(),this._active=!0,this._enable(),[2];}})})},e.parent=function(){return window.app},e}(),i._active=!1,i._root=null,i._listeners=[],i),t}();window.objectify?window.register(t):window.addEventListener("RegisterReady",function(){window.register(t)})})(CRMAppElement||(CRMAppElement={}));
var ErrorReportingToolElement,__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;g;)try{if(e=1,f&&(h=2&c[0]?f["return"]:c[0]?f["throw"]||((h=f["return"])&&h.call(f),0):f.next)&&!(h=h.call(f,c[1])).done)return h;switch((f=0,h)&&(c=[2&c[0],h.value]),c[0]){case 0:case 1:h=c;break;case 4:return g.label++,{value:c[1],done:!1};case 5:g.label++,f=c[1],c=[0];continue;case 7:c=g.ops.pop(),g.trys.pop();continue;default:if((h=g.trys,!(h=0<h.length&&h[h.length-1]))&&(6===c[0]||2===c[0])){g=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3])){g.label=c[1];break}if(6===c[0]&&g.label<h[1]){g.label=h[1],h=c;break}if(h&&g.label<h[2]){g.label=h[2],g.ops.push(c);break}h[2]&&g.ops.pop(),g.trys.pop();continue;}c=b.call(a,g)}catch(a){c=[6,a],f=0}finally{e=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,h,i,g={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};(function(a){a.errorReportingTool={reportType:{type:String,value:"bug",notify:!0},image:{type:String,value:"",notify:!0},hide:{type:Boolean,value:!0,notify:!0}};var b=function(){function b(){}return b.toggleVisibility=function(){this.hide=!this.hide},b.isBugType=function(a){return"bug"===a},b.isEmptyImage=function(a){return""===a},b._scaleScreenshot=function(a,b){this.image=a.toDataURL();var c=window.innerHeight-450;if(750<c&&(c=750),750/b.width*b.height>c){var d=Array.prototype.slice.apply(this.shadowRoot.querySelectorAll(".captureCont"));d.forEach(function(a){a.style.width=c/b.height*b.width+"px"})}},b._cropScreenshot=function(a,b){var c=this;return new Promise(function(d){var e=new Image,f=c.$.cropCanvas,g=f.getContext("2d");e.onload=function(){g.clearRect(0,0,f.width,f.height),f.setAttribute("height",b.height+""),f.setAttribute("width",b.width+""),f.style.display="none",c.appendChild(f),g.drawImage(e,b.left,b.top,b.width,b.height,0,0,b.width,b.height);var a=f.toDataURL(),h=new Image;h.onload=function(){c._scaleScreenshot(f,h),d(null)},h.src=a;var i=document.createElement("img");i.src=a,document.body.appendChild(i)},e.src=a;var h=document.createElement("img");h.src=a,document.body.appendChild(h)})},b._screenshot=function(a){return __awaiter(this,void 0,void 0,function(){var b,c;return __generator(this,function(d){switch(d.label){case 0:return this.$.overlay.style.display="none",[4,browserAPI.tabs.getCurrent()];case 1:return b=d.sent().windowId,[4,browserAPI.tabs.captureVisibleTab(b,{format:"png",quality:100})];case 2:return c=d.sent(),this.$.overlay.style.display="block",[4,this._cropScreenshot(c,a)];case 3:return d.sent(),[2];}})})},b._px=function(a){return a+"px"},b._translateX=function(a,b){a.xPos=b,window.setTransform(a,"translate("+b+","+(a.yPos||"0px")+")")},b._translateY=function(a,b){a.yPos=b,window.setTransform(a,"translate("+(a.xPos||"0px")+", "+b+")")},b._unLink=function(a){return JSON.parse(JSON.stringify(a))},b._getDivs=function(a){var b=[this.$.highlightingLeftSquare,this.$.highlightingRightSquare],c=[this.$.highlightingTopSquare,this.$.highlightingBotSquare];return"x"===a?b:"y"===a?c:"xy"===a?b.concat(c):void 0},b._setDivsXValues=function(a,b,c,d){var e=d[0],f=d[1],g=this._getDivs("x"),h=g[0],i=g[1];h.style.width=a,window.addCalcFn(i,"width","100vw - "+b),h.style.height=i.style.height=this._px(window.innerHeight-e-(window.innerHeight-f)),this._translateX(i,c)},b._setSelectionX=function(a,b,c){var d=a+b;0>b?this._setDivsXValues(this._px(d),this._px(a),this._px(d-b),c):this._setDivsXValues(this._px(a),this._px(d),this._px(d),c)},b._setDivsYValues=function(a){var b=a.topHeight,c=a.heights,d=a.botHeight,e=this._getDivs("xy"),f=e[0],g=e[1],h=e[2],i=e[3];h.style.height=b,f.style.height=g.style.height=c+"px",i.style.height=this._px(window.innerHeight-d),this._translateY(i,this._px(d)),this._translateY(f,b),this._translateY(g,b)},b._setSelectionY=function(a,b,c){0>b?this._setDivsYValues({topHeight:this._px(c),heights:this._px(-b),botHeight:a}):this._setDivsYValues({topHeight:this._px(a),heights:this._px(b),botHeight:c})},b._changed=function(a,b){return this._lastSize.X!==a||this._lastSize.Y!==b},b._setSelection=function(a,b){var c=a.startX,d=a.width,e=b.startY,f=b.height;if(this._changed(d,f)){var g=0>f?e+f:e,h=0>f?e:e+f;this._setSelectionX(c,d,[g,h]),this._setSelectionY(e,f,e+f)}},b.handleSelection=function(a){switch(a.detail.state){case"start":this.$.highlightButtons.classList.add("hidden");var b=a.detail.y+"px";this._lastSize.X=this._lastSize.Y=0,this._dragStart=this._unLink(this._lastPos={X:a.detail.x,Y:a.detail.y}),this.$.highlightingTopSquare.style.width="100vw",this.$.highlightingTopSquare.style.height=b,this.$.highlightingLeftSquare.style.width=b,this._translateY(this.$.highlightingBotSquare,b),this._translateY(this.$.highlightingLeftSquare,b),this._translateY(this.$.highlightingRightSquare,b);break;case"end":this.$.highlightButtons.classList.remove("hidden");break;case"track":if(a.detail.x!==this._lastPos.X||a.detail.y!==this._lastPos.Y){var c=a.detail.dx,d=a.detail.dy,e=a.detail.x-c,f=a.detail.y-d;this._setSelection({startX:e,width:c},{startY:f,height:d}),this._lastSize={X:c,Y:d},this._lastPos={X:a.detail.x,Y:a.detail.y}}}},b._resetSelection=function(){this._setSelectionX(0,0,[0,0]),this._setSelectionY(0,0,0)},b._toggleScreenCapArea=function(a){this.$.highlightingTopSquare.style.height="100vh",this.$.highlightingTopSquare.style.width="100vw",this._resetSelection(),this.$.overlay.classList[a?"add":"remove"]("toggled"),this.$.overlay.style.pointerEvents=a?"initial":"none"},b.cancelScreencap=function(){this._toggleScreenCapArea(!1),this.$.errorReportingDialog.open()},b.finishScreencap=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(a){switch(a.label){case 0:return this._toggleScreenCapArea(!1),[4,this._screenshot({top:this._dragStart.Y,left:this._dragStart.X,height:this._lastSize.Y,width:this._lastSize.X})];case 1:return a.sent(),this.$.errorReportingDialog.open(),[2];}})})},b._resetVars=function(){this._dragStart=this._unLink(this._lastSize=this._unLink(this._lastPos={X:0,Y:0}))},b.addCapture=function(){this.$.errorReportingDialog.close(),this._resetVars(),this._toggleScreenCapArea(!0)},b.reportBug=function(){this.reportType="bug",this.image="",this.$.errorReportingDialog.open()},b._getStorages=function(){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(b){switch(b.label){case 0:return a={},[4,browserAPI.storage.local.get()];case 1:return a.local=b.sent(),[4,browserAPI.storage.local.get()];case 2:return[2,(a.sync=b.sent(),a)];}})})},b._downloadFiles=function(){return __awaiter(this,void 0,void 0,function(){var a,b,c,d;return __generator(this,function(e){switch(e.label){case 0:return browserAPI.downloads?[4,browserAPI.downloads.download({url:this.image,filename:"screencap.png"})]:[2,!1];case 1:return e.sent(),"bug"===this.reportType?[4,this._getStorages()]:[3,4];case 2:return a=e.sent(),b=a.local,c=a.sync,d={local:b,sync:c,lastErrors:this.lastErrors},[4,browserAPI.downloads.download({url:"data:text/plain;base64,"+window.btoa(JSON.stringify(d)),filename:"settings.txt"})];case 3:e.sent(),e.label=4;case 4:return[2,!0];}})})},b._hideCheckmark=function(){var a=this;this.$.bugCheckmarkCont.classList.remove("checkmark"),this.async(function(){a.$.reportingButtonElevation.classList.remove("checkmark"),a.$.bugButton.classList.remove("checkmark"),a.$.bugCheckmark.classList.remove("checked")},350)},b._checkCheckmark=function(){var a=this;this.$.bugButton.classList.add("checkmark"),this.async(function(){a.$.reportingButtonElevation.classList.add("checkmark"),a.$.bugCheckmarkCont.classList.add("checkmark"),a.async(function(){a.$.bugCheckmark.classList.add("checked"),a.async(a._hideCheckmark,5e3)},350)},350)},b._getDownloadPermission=function(){return __awaiter(this,void 0,void 0,function(){var a,b,c,d,e,f=this;return __generator(this,function(g){switch(g.label){case 0:return BrowserAPI.getSrc().downloads&&BrowserAPI.getSrc().downloads.download?[2,!0]:BrowserAPI.getSrc().permissions?[3,2]:(b=(a=window.app.util).showToast,[4,this.__async("crmApp_code_downloadNotSupported")]);case 1:return b.apply(a,[g.sent()]),[2,!1];case 2:return[4,browserAPI.permissions.contains({permissions:["downloads"]})];case 3:return(c=g.sent(),!c)?[3,4]:(window.errorReportingTool.$.errorReportingDialog.close(),d=function(){f._checkCheckmark(),window.removeEventListener("focus",d)},window.addEventListener("focus",d),[2,!0]);case 4:return[4,browserAPI.permissions.request({permissions:["downloads"]})];case 5:return e=g.sent(),browserAPI.downloads=browserAPI.downloads||BrowserAPI.getDownloadAPI(),e||window.doc.acceptDownloadToast.show(),[2,e];}})})},b.submitErrorReport=function(){return __awaiter(this,void 0,void 0,function(){var a,b,c,d,e,f;return __generator(this,function(g){switch(g.label){case 0:return[4,this._getDownloadPermission()];case 1:return a=g.sent(),a?[4,this._downloadFiles()]:[2];case 2:return g.sent()?[3,4]:(c=(b=window.app.util).showToast,[4,this.__async("crmApp_code_downloadNotSupported")]);case 3:return c.apply(b,[g.sent()]),[2];case 4:return[4,this.__async("util_errorReportingTool_messagePlaceholder")];case 5:return d=g.sent()+"\n",f="bug"===this.reportType?"Bug: ":"Feature: ",[4,this.__async("util_errorReportingTool_titlePlaceholder")];case 6:return e=f+g.sent(),window.open("https://github.com/SanderRonde/CustomRightClickMenu/issues/new?title="+e+"&body="+d,"_blank"),[2];}})})},b._onError=function(a,b,c,d,e,f){this.lastErrors.push({message:a,source:b,lineno:c,colno:d,error:e,handled:f})},(b._registerOnError=function(){var a=this,b=[];window.onerror&&b.push(window.onerror),window.onerror=function(c,d,e,f,g){var h=!1;return b.forEach(function(a){a(c,d,e,f,g)&&(h=!0)}),a._onError(c,d,e,f,g,h),!!h||void 0},Object.defineProperty(window,"onerror",{set:function(a){b.push(a)}})},b.ready=function(){window.errorReportingTool=this,this._registerOnError()},b.is="error-reporting-tool",b.lastErrors=[],b.properties=a.errorReportingTool,b)}();a.ERT=b,window.objectify?window.register(b):window.addEventListener("RegisterReady",function(){window.register(b)})})(ErrorReportingToolElement||(ErrorReportingToolElement={}));
var __extends=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t=1,o=arguments.length,n;t<o;t++)for(var a in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{s(o.next(e))}catch(t){r(t)}}function d(e){try{s(o["throw"](e))}catch(t){r(t)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,d)}s((o=o.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,n){function o(e){return function(t){return a([e,t])}}function a(o){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,d&&(s=2&o[0]?d["return"]:o[0]?d["throw"]||((s=d["return"])&&s.call(d),0):d.next)&&!(s=s.call(d,o[1])).done)return s;switch((d=0,s)&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,d=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if((s=r.trys,!(s=0<s.length&&s[s.length-1]))&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){r.label=o[1];break}if(6===o[0]&&r.label<s[1]){r.label=s[1],s=o;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(o);break}s[2]&&r.ops.pop(),r.trys.pop();continue;}o=n.call(e,r)}catch(t){o=[6,t],d=0}finally{i=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},i,d,s,l;return l={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l},BrowserAPINS;if(function(e){function t(e){return!!h.runtime.lastError&&(e(h.runtime.lastError),!0)}function n(e,t){var n=t.resolve,o=t.reject,a=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];h.runtime.lastError?o(new m(h.runtime.lastError,e)):n(t[0])};return a.__resolve=n,a.__reject=o,a.__stack=e,a}function o(e){return new Promise(function(t,o){e(n(new Error,{resolve:t,reject:o}))})}function a(e){return{set:function(t){return o(function(n){h.storage[e].set(t,n)})},remove:function(n){return o(function(o){Array.isArray(n)?Promise.all(n.map(function(n){return new Promise(function(a){h.storage[e].remove(n,function(){t(o.__reject)||a(null)})})})).then(o):h.storage[e].remove(n,o)})},clear:function(){return o(function(t){h.storage[e].clear(t)})}}}function r(e){if("browser"===e)return y;if("chrome"===e)return x;if("undefined"===typeof location||"undefined"===typeof location.host)return!1;throw new Error("Unsupported browser API support queried")}function i(){var e=window,t=!!e.opr&&!!e.opr.addons||!!e.opera||0<=navigator.userAgent.indexOf(" OPR/");if("undefined"!==typeof e.InstallTrigger)return"firefox";if(e.StyleMedia)return"edge";if(!t&&r("chrome"))return"chrome";if(t)return"opera";if("undefined"===typeof location||"undefined"===typeof location.host)return"node";throw new Error("Unsupported browser")}function d(){return b?b:b=i()}function s(){return-1===location.href.indexOf("backgroun")}function l(){return-1<h.runtime.getManifest().short_name.indexOf("dev")}function p(e,t){return e+""===t+""}function c(e,t,n){for(var o=0;o<e.length;o++){var a=e[o],r=a.id,i=a.children;if(p(r,t))return n(a,o,e),!0;if(i&&c(i,t,n))return!0}return!1}function u(){_._lastSpecialCall=null,_._currentContextMenu=[],_._activeTabs=[],_._executedScripts=[],_._fakeTabs={},_._activatedBackgroundPages=[],_._tabUpdateListeners=[]}function f(){return h.downloads?{download:function(e){return v&&(_._lastSpecialCall={api:"downloads.download",args:[e]}),o(function(t){h.downloads.download(e,t)})}}:void 0}var g=window,h=g.StyleMedia?g.browser:g.chrome,m=function(e){function t(t,n){var o=t.message,a=n.stack,r=e.call(this,o)||this;return r.stack=a,r.message=o,r}return __extends(t,e),t}(Error),y="browser"in window,x="chrome"in window;e.isBrowserAPISupported=r;var b=null;e.getBrowser=d,e.getSrc=function(){return h};var v=!1;e.resetLogData=u,e.enableLogging=function(){v||u(),v=!0},e.isLoggingEnabled=function(){return v},e.disableLogging=function(){v=!1,_._lastSpecialCall=null,_._currentContextMenu=null,_._activeTabs=null,_._executedScripts=null,_._fakeTabs=null,_._activatedBackgroundPages=null,_._tabUpdateListeners=null};var _={_lastSpecialCall:null,_currentContextMenu:null,_activeTabs:null,_executedScripts:null,_fakeTabs:null,_activatedBackgroundPages:null,_tabUpdateListeners:null,_clearExecutedScripts:function(){for(;_._executedScripts.pop(););}};e.getTestData=function(){return s()||l()?_:void 0},e.getDownloadAPI=f,e.polyfill=h?{commands:h.commands?{getAll:function(){return o(function(e){h.commands.getAll(e)})},onCommand:h.commands.onCommand}:void 0,contextMenus:h.contextMenus?{create:function(t,n){var o=h.contextMenus.create(t,function(){n&&(h.runtime.lastError?(e.polyfill.runtime.lastError=h.runtime.lastError.message,n(),e.polyfill.runtime.lastError=null):n())}),a={id:o,createProperties:t,currentProperties:t,children:[]};return v&&(t.parentId?c(_._currentContextMenu,t.parentId,function(e){e.children.push(a)}):_._currentContextMenu.push(a)),Promise.resolve(o)},update:function(e,t){return v&&c(_._currentContextMenu,e,function(e){var n=e.currentProperties;for(var o in t)n[o]=t[o]}),o(function(n){h.contextMenus.update(e+"",t,function(){h.runtime.lastError?h.contextMenus.update(~~e,t,n):n()})})},remove:function(e){return v&&c(_._currentContextMenu,e,function(e,t,n){n.splice(t,1)}),o(function(t){h.contextMenus.remove(e+"",function(){h.runtime.lastError?h.contextMenus.remove(~~e,t):t()})})},removeAll:function(){if(v)for(;_._currentContextMenu.length;)_._currentContextMenu.pop();return o(function(e){var t=h.contextMenus.removeAll(function(){"edge"===d()&&h.runtime.lastError&&e.__resolve(void 0),h.runtime.lastError?e.__reject(new m(h.runtime.lastError,e.__stack)):e.__resolve(void 0)});t&&"undefined"!==typeof window&&window.Promise&&t instanceof window.Promise&&t.then(e.__resolve,e.__reject)})}}:void 0,downloads:f(),extension:h.extension?{isAllowedFileSchemeAccess:function(){return o(function(e){h.extension.isAllowedFileSchemeAccess(e)})}}:void 0,i18n:h.i18n?{getAcceptLanguages:function(){return o(function(e){h.i18n.getAcceptLanguages(e)})},getMessage:function(e,t){return h.i18n.getMessage(e,t)},getUILanguage:function(){return h.i18n.getUILanguage()}}:void 0,notifications:h.notifications?{onClicked:h.notifications.onClicked,onClosed:h.notifications.onClosed}:void 0,permissions:h.permissions?{contains:function(e){return o(function(t){h.permissions.contains(e,t)})},getAll:function(){return o(function(e){h.permissions.getAll(e)})},request:function(e){return o(function(t){h.permissions.request(e,t)})},remove:function(e){return o(function(t){h.permissions.remove(e,t)})}}:void 0,runtime:h.runtime?{connect:function(e,t){return t?h.runtime.connect(e,t):e?h.runtime.connect(e):h.runtime.connect()},getBackgroundPage:function(){return o(function(e){h.runtime.getBackgroundPage(e)})},getManifest:function(){return Promise.resolve(h.runtime.getManifest())},getURL:function(e){return h.runtime.getURL(e)},getPlatformInfo:function(){return o(function(e){h.runtime.getPlatformInfo(e)})},openOptionsPage:function(){return o(function(t){"edge"===e.getBrowser()?e.polyfill.tabs.create({url:e.polyfill.runtime.getURL("html/options.html")}).then(function(){t()}):h.runtime.openOptionsPage(t)})},reload:function(){return Promise.resolve(h.runtime.reload())},sendMessage:function(e,t,n){return o(function(o){n?h.runtime.sendMessage(e,t,n,o):t?h.runtime.sendMessage(e,t,o):h.runtime.sendMessage(e,o)})},onInstalled:h.runtime.onInstalled,onConnectExternal:h.runtime.onConnectExternal,onConnect:h.runtime.onConnect,onMessage:h.runtime.onMessage,lastError:null,id:h.runtime.id}:void 0,storage:h.storage?{local:__assign({},a("local"),{get:function(e){return o(function(t){e?h.storage.local.get(e,t):h.storage.local.get(t)})}}),sync:__assign({},a("sync"),{get:function(e){return o(function(t){e?h.storage.sync.get(e,t):h.storage.sync.get(t)})}}),onChanged:h.storage.onChanged}:void 0,tabs:h.tabs?{create:function(e){return o(function(t){h.tabs.create(e,function(n){var o=n.id;v&&_._activeTabs.push({type:"create",data:e,id:o}),t(n)})})},get:function(e){return o(function(t){h.tabs.get(e,t)})},getCurrent:function(){return o(function(e){h.tabs.getCurrent(e)})},captureVisibleTab:function(e,t){return o(function(n){t?h.tabs.captureVisibleTab(e,t,n):e?h.tabs.captureVisibleTab(e,n):h.tabs.captureVisibleTab(n)})},update:function(e,t){return __awaiter(this,void 0,void 0,function(){var n=this;return __generator(this,function(){return[2,o(function(o){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(){return t?h.tabs.update(e,t,o):h.tabs.update(e,o),v&&_._activeTabs.push({type:"create",data:"number"===typeof e?t:e,id:"number"===typeof e?e:void 0}),[2]})})})]})})},query:function(e){return o(function(t){h.tabs.query(e,t)})},executeScript:function(e,t){var n=this;return o(function(o){return __awaiter(n,void 0,void 0,function(){var n,a,r;return __generator(this,function(i){switch(i.label){case 0:return(t?h.tabs.executeScript(e,t,o):h.tabs.executeScript(e,o),n="number"===typeof e?t:e,!n.code)?[3,4]:(a=void 0,"number"!==typeof e)?[3,1]:(a=e,[3,3]);case 1:return[4,browserAPI.tabs.getCurrent()];case 2:r=i.sent(),r&&(a=r.id),i.label=3;case 3:v&&_._executedScripts.push({id:a,code:n.code}),i.label=4;case 4:return[2];}})})})},sendMessage:function(e,n){return o(function(o){var a=o.__resolve,r=o.__reject;h.tabs.sendMessage(e,n,function(e){t(r)||a(e)})})},onUpdated:h.tabs.onUpdated,onRemoved:h.tabs.onRemoved,onHighlighted:h.tabs.onHighlighted}:void 0,webRequest:h.webRequest?{onBeforeRequest:h.webRequest.onBeforeRequest}:void 0}:{}}(BrowserAPINS||(BrowserAPINS={})),window.BrowserAPIInstances=window.BrowserAPIInstances||[],window.BrowserAPIInstances.push(BrowserAPINS),!window.browserAPI||window.__isVirtual){window.BrowserAPINS=window.BrowserAPI=BrowserAPINS,window.browserAPI="edge"!==BrowserAPINS.getBrowser()&&window.browser?window.browser:__assign({},BrowserAPINS.polyfill,{__isProxied:!0});var menusBrowserAPI=window.browserAPI;menusBrowserAPI.contextMenus?!menusBrowserAPI.menus&&(menusBrowserAPI.menus=menusBrowserAPI.contextMenus):menusBrowserAPI.contextMenus=menusBrowserAPI.menus}var BrowserAPI=window.BrowserAPINS,browserAPI=window.browserAPI;var _amdLoaderGlobal=this,define,AMDLoader;!function(n){n.global=_amdLoaderGlobal;var t=function(){function t(t){this.isWindows=t.isWindows,this.isNode=t.isNode,this.isElectronRenderer=t.isElectronRenderer,this.isWebWorker=t.isWebWorker}return t.detect=function(){return new t({isWindows:this._isWindows(),isNode:"undefined"!=typeof module&&!!module.exports,isElectronRenderer:"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.electron&&"renderer"===process.type,isWebWorker:"function"==typeof n.global.importScripts})},t._isWindows=function(){return!!("undefined"!=typeof navigator&&navigator.userAgent&&0<=navigator.userAgent.indexOf("Windows"))||"undefined"!=typeof process&&"win32"===process.platform},t}();n.Environment=t}(AMDLoader||(AMDLoader={})),function(a){var n,t;(t=n=a.LoaderEventType||(a.LoaderEventType={}))[t.LoaderAvailable=1]="LoaderAvailable",t[t.BeginLoadingScript=10]="BeginLoadingScript",t[t.EndLoadingScriptOK=11]="EndLoadingScriptOK",t[t.EndLoadingScriptError=12]="EndLoadingScriptError",t[t.BeginInvokeFactory=21]="BeginInvokeFactory",t[t.EndInvokeFactory=22]="EndInvokeFactory",t[t.NodeBeginEvaluatingScript=31]="NodeBeginEvaluatingScript",t[t.NodeEndEvaluatingScript=32]="NodeEndEvaluatingScript",t[t.NodeBeginNativeRequire=33]="NodeBeginNativeRequire",t[t.NodeEndNativeRequire=34]="NodeEndNativeRequire";var d=function(o,e,t){this.type=o,this.detail=e,this.timestamp=t};a.LoaderEvent=d;var e=function(){function t(t){this._events=[new d(n.LoaderAvailable,"",t)]}return t.prototype.record=function(n,e){this._events.push(new d(n,e,a.Utilities.getHighPerformanceTimestamp()))},t.prototype.getEvents=function(){return this._events},t}();a.LoaderEventRecorder=e;var o=function(){function t(){}return t.prototype.record=function(){},t.prototype.getEvents=function(){return[]},t}();o.INSTANCE=new o,a.NullLoaderEventRecorder=o}(AMDLoader||(AMDLoader={})),function(n){var e=function(){function o(){}return o.fileUriToFilePath=function(n,e){if(e=decodeURI(e),n){if(/^file:\/\/\//.test(e))return e.substr(8);if(/^file:\/\//.test(e))return e.substr(5)}else if(/^file:\/\//.test(e))return e.substr(7);return e},o.startsWith=function(n,e){return n.length>=e.length&&n.substr(0,e.length)===e},o.endsWith=function(n,e){return n.length>=e.length&&n.substr(n.length-e.length)===e},o.containsQueryString=function(t){return /^[^\#]*\?/gi.test(t)},o.isAbsolutePath=function(t){return /^((http:\/\/)|(https:\/\/)|(file:\/\/)|(\/))/.test(t)},o.forEachProperty=function(o,e){if(o){for(var t in o)o.hasOwnProperty(t)&&e(t,o[t])}},o.isEmpty=function(n){var e=!0;return o.forEachProperty(n,function(){e=!1}),e},o.recursiveClone=function(t){if(!t||"object"!=("undefined"===typeof t?"undefined":babelHelpers["typeof"](t)))return t;var a=Array.isArray(t)?[]:{};return o.forEachProperty(t,function(n,e){a[n]=e&&"object"==("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))?o.recursiveClone(e):e}),a},o.generateAnonymousModule=function(){return"===anonymous"+o.NEXT_ANONYMOUS_ID++ +"==="},o.isAnonymousModule=function(t){return /^===anonymous/.test(t)},o.getHighPerformanceTimestamp=function(){return this.PERFORMANCE_NOW_PROBED||(this.PERFORMANCE_NOW_PROBED=!0,this.HAS_PERFORMANCE_NOW=n.global.performance&&"function"==typeof n.global.performance.now),this.HAS_PERFORMANCE_NOW?n.global.performance.now():Date.now()},o}();e.NEXT_ANONYMOUS_ID=1,e.PERFORMANCE_NOW_PROBED=!1,e.HAS_PERFORMANCE_NOW=!1,n.Utilities=e}(AMDLoader||(AMDLoader={})),function(a){var t=Math.max,i=function(){function i(){}return i.validateConfigurationOptions=function(n,e){return"string"!=typeof(e=e||{}).baseUrl&&(e.baseUrl=""),"boolean"!=typeof e.isBuild&&(e.isBuild=!1),"object"!=babelHelpers["typeof"](e.paths)&&(e.paths={}),"object"!=babelHelpers["typeof"](e.config)&&(e.config={}),void 0===e.catchError&&(e.catchError=n),"string"!=typeof e.urlArgs&&(e.urlArgs=""),"function"!=typeof e.onError&&(e.onError=function(t){return"load"===t.errorCode?(console.error("Loading \""+t.moduleId+"\" failed"),console.error("Detail: ",t.detail),t.detail&&t.detail.stack&&console.error(t.detail.stack),console.error("Here are the modules that depend on it:"),void console.error(t.neededBy)):"factory"===t.errorCode?(console.error("The factory method of \""+t.moduleId+"\" has thrown an exception"),console.error(t.detail),void(t.detail&&t.detail.stack&&console.error(t.detail.stack))):void 0}),"object"==babelHelpers["typeof"](e.ignoreDuplicateModules)&&Array.isArray(e.ignoreDuplicateModules)||(e.ignoreDuplicateModules=[]),0<e.baseUrl.length&&(a.Utilities.endsWith(e.baseUrl,"/")||(e.baseUrl+="/")),Array.isArray(e.nodeModules)||(e.nodeModules=[]),("number"!=typeof e.nodeCachedDataWriteDelay||0>e.nodeCachedDataWriteDelay)&&(e.nodeCachedDataWriteDelay=7e3),"function"!=typeof e.onNodeCachedData&&(e.onNodeCachedData=function(t){t&&("cachedDataRejected"===t.errorCode?console.warn("Rejected cached data from file: "+t.path):"unlink"===t.errorCode||"writeFile"===t.errorCode?(console.error("Problems writing cached data file: "+t.path),console.error(t.detail)):console.error(t))}),e},i.mergeConfigurationOptions=function(o,e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n=a.Utilities.recursiveClone(t||{});return a.Utilities.forEachProperty(e,function(o,e){"ignoreDuplicateModules"===o&&void 0!==n.ignoreDuplicateModules?n.ignoreDuplicateModules=n.ignoreDuplicateModules.concat(e):"paths"===o&&void 0!==n.paths?a.Utilities.forEachProperty(e,function(o,e){return n.paths[o]=e}):"config"===o&&void 0!==n.config?a.Utilities.forEachProperty(e,function(o,e){return n.config[o]=e}):n[o]=a.Utilities.recursiveClone(e)}),i.validateConfigurationOptions(o,n)},i}();a.ConfigurationOptionsUtil=i;var n=function(){function n(o,e){if(this._env=o,this.options=i.mergeConfigurationOptions(this._env.isWebWorker,e),this._createIgnoreDuplicateModulesMap(),this._createNodeModulesMap(),this._createSortedPathsRules(),""===this.options.baseUrl){if(this._env.isNode&&this.options.nodeRequire&&this.options.nodeRequire.main&&this.options.nodeRequire.main.filename){var a=this.options.nodeRequire.main.filename,n=t(a.lastIndexOf("/"),a.lastIndexOf("\\"));this.options.baseUrl=a.substring(0,n+1)}this._env.isNode&&this.options.nodeMain&&(a=this.options.nodeMain,n=t(a.lastIndexOf("/"),a.lastIndexOf("\\")),this.options.baseUrl=a.substring(0,n+1))}}return n.prototype._createIgnoreDuplicateModulesMap=function(){this.ignoreDuplicateModulesMap={};for(var t=0;t<this.options.ignoreDuplicateModules.length;t++)this.ignoreDuplicateModulesMap[this.options.ignoreDuplicateModules[t]]=!0},n.prototype._createNodeModulesMap=function(){this.nodeModulesMap=Object.create(null);for(var o=0,e=this.options.nodeModules,t;o<e.length;o++)t=e[o],this.nodeModulesMap[t]=!0},n.prototype._createSortedPathsRules=function(){var o=this;this.sortedPathsRules=[],a.Utilities.forEachProperty(this.options.paths,function(n,a){Array.isArray(a)?o.sortedPathsRules.push({from:n,to:a}):o.sortedPathsRules.push({from:n,to:[a]})}),this.sortedPathsRules.sort(function(n,e){return e.from.length-n.from.length})},n.prototype.cloneAndMerge=function(t){return new n(this._env,i.mergeConfigurationOptions(this._env.isWebWorker,t,this.options))},n.prototype.getOptionsLiteral=function(){return this.options},n.prototype._applyPaths=function(d){for(var e=0,n=this.sortedPathsRules.length,r;e<n;e++)if(r=this.sortedPathsRules[e],a.Utilities.startsWith(d,r.from)){for(var t=[],o=0,i=r.to.length;o<i;o++)t.push(r.to[o]+d.substr(r.from.length));return t}return[d]},n.prototype._addUrlArgsToUrl=function(t){return a.Utilities.containsQueryString(t)?t+"&"+this.options.urlArgs:t+"?"+this.options.urlArgs},n.prototype._addUrlArgsIfNecessaryToUrl=function(t){return this.options.urlArgs?this._addUrlArgsToUrl(t):t},n.prototype._addUrlArgsIfNecessaryToUrls=function(o){if(this.options.urlArgs)for(var e=0,t=o.length;e<t;e++)o[e]=this._addUrlArgsToUrl(o[e]);return o},n.prototype.moduleIdToPaths=function(i){if(!0===this.nodeModulesMap[i])return this.isBuild()?["empty:"]:["node|"+i];var e=i,n;if(a.Utilities.endsWith(e,".js")||a.Utilities.isAbsolutePath(e))a.Utilities.endsWith(e,".js")||a.Utilities.containsQueryString(e)||(e+=".js"),n=[e];else for(var t=0,r=(n=this._applyPaths(e)).length;t<r;t++)this.isBuild()&&"empty:"===n[t]||(a.Utilities.isAbsolutePath(n[t])||(n[t]=this.options.baseUrl+n[t]),a.Utilities.endsWith(n[t],".js")||a.Utilities.containsQueryString(n[t])||(n[t]+=".js"));return this._addUrlArgsIfNecessaryToUrls(n)},n.prototype.requireToUrl=function(n){var e=n;return a.Utilities.isAbsolutePath(e)||(e=this._applyPaths(e)[0],a.Utilities.isAbsolutePath(e)||(e=this.options.baseUrl+e)),this._addUrlArgsIfNecessaryToUrl(e)},n.prototype.isBuild=function(){return this.options.isBuild},n.prototype.isDuplicateMessageIgnoredFor=function(t){return this.ignoreDuplicateModulesMap.hasOwnProperty(t)},n.prototype.getConfigForModule=function(t){if(this.options.config)return this.options.config[t]},n.prototype.shouldCatchError=function(){return this.options.catchError},n.prototype.shouldRecordStats=function(){return this.options.recordStats},n.prototype.onError=function(t){this.options.onError(t)},n}();a.Configuration=n}(AMDLoader||(AMDLoader={})),function(m){var a=function(){function t(t){this.actualScriptLoader=t,this.callbackMap={}}return t.prototype.load=function(a,d,e,t){var s=this,o={callback:e,errorback:t};this.callbackMap.hasOwnProperty(d)?this.callbackMap[d].push(o):(this.callbackMap[d]=[o],this.actualScriptLoader.load(a,d,function(){return s.triggerCallback(d)},function(t){return s.triggerErrorback(d,t)}))},t.prototype.triggerCallback=function(o){var e=this.callbackMap[o];delete this.callbackMap[o];for(var t=0;t<e.length;t++)e[t].callback()},t.prototype.triggerErrorback=function(o,e){var t=this.callbackMap[o];delete this.callbackMap[o];for(var n=0;n<t.length;n++)t[n].errorback(e)},t}(),t=function(){function t(){}return t.prototype.attachListeners=function(a,e,t){var n=function(){a.removeEventListener("load",r),a.removeEventListener("error",o)},r=function(){n(),e()},o=function(o){n(),t(o)};a.addEventListener("load",r),a.addEventListener("error",o)},t.prototype.load=function(a,e,t,n){var r=document.createElement("script");r.setAttribute("async","async"),r.setAttribute("type","text/javascript"),this.attachListeners(r,t,n),r.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(r)},t}(),n=function(){function t(){}return t.prototype.load=function(o,e,t,n){try{importScripts(e),t()}catch(t){n(t)}},t}(),r=function(){function c(t){this._env=t,this._didInitialize=!1,this._didPatchNodeRequire=!1}return c.prototype._init=function(o){if(!this._didInitialize){this._didInitialize=!0,this._fs=o("fs"),this._vm=o("vm"),this._path=o("path"),this._crypto=o("crypto"),this._jsflags="";for(var e=0,t=process.argv,n;e<t.length;e++)if(n=t[e],0===n.indexOf("--js-flags=")){this._jsflags=n;break}}},c.prototype._initNodeRequire=function(t,y){var f=y.getConfig().getOptionsLiteral().nodeCachedDataDir;if(f&&!this._didPatchNodeRequire){this._didPatchNodeRequire=!0;var g=this,x=t("module");x.prototype._compile=function(b,e){b=b.replace(/^#!.*/,"");var v=x.wrap(b),n=g._getCachedDataPath(f,e),r={filename:e};try{r.cachedData=g._fs.readFileSync(n)}catch(t){r.produceCachedData=!0}var o=new g._vm.Script(v,r),a=o.runInThisContext(r),l=g._path.dirname(e),u=(i=(p=this).constructor,(s=function(t){try{return p.require(t)}finally{}}).resolve=function(t){return i._resolveFilename(t,p)},s.main=process.mainModule,s.extensions=i._extensions,s.cache=i._cache,s),c=[this.exports,u,this,e,l,process,m.global,Buffer],h=a.apply(this.exports,c),p,i,s;return g._processCachedData(y,o,n),h}}},c.prototype.load=function(y,a,l,u){var x=this,h=y.getConfig().getOptionsLiteral(),o=h.nodeRequire||m.global.nodeRequire,e=h.nodeInstrumenter||function(t){return t};this._init(o),this._initNodeRequire(o,y);var p=y.getRecorder();if(/^node\|/.test(a)){var r=a.split("|"),t=null;try{t=o(r[1])}catch(t){return void u(t)}y.enqueueDefineAnonymousModule([],function(){return t}),l()}else a=m.Utilities.fileUriToFilePath(this._env.isWindows,a),this._fs.readFile(a,{encoding:"utf8"},function(f,g){if(f)u(f);else{var t=x._path.normalize(a),m=t;if(x._env.isElectronRenderer){var n=m.match(/^([a-z])\:(.*)/i);m=n?"file:///"+(n[1].toUpperCase()+":"+n[2]).replace(/\\/g,"/"):"file://"+m}var r="(function (require, define, __filename, __dirname) { ",s;if(s=g.charCodeAt(0)===c._BOM?r+g.substring(1)+"\n});":r+g+"\n});",s=e(s,t),h.nodeCachedDataDir){var i=x._getCachedDataPath(h.nodeCachedDataDir,a);x._fs.readFile(i,function(d,e){var c={filename:m,produceCachedData:void 0===e,cachedData:e},n=x._loadAndEvalScript(y,a,m,s,c,p);l(),x._processCachedData(y,n,i)})}else x._loadAndEvalScript(y,a,m,s,{filename:m},p),l()}})},c.prototype._loadAndEvalScript=function(a,e,t,n,r,o){o.record(m.LoaderEventType.NodeBeginEvaluatingScript,e);var i=new this._vm.Script(n,r);return i.runInThisContext(r).call(m.global,a.getGlobalAMDRequireFunc(),a.getGlobalAMDDefineFunc(),t,this._path.dirname(e)),o.record(m.LoaderEventType.NodeEndEvaluatingScript,e),i},c.prototype._getCachedDataPath=function(o,e){var t=this._crypto.createHash("md5").update(e,"utf8").update(this._jsflags,"utf8").digest("hex"),n=this._path.basename(e).replace(/\.js$/,"");return this._path.join(o,n+"-"+t+".code")},c.prototype._processCachedData=function(o,t,a){var e=this;t.cachedDataRejected?(o.getConfig().getOptionsLiteral().onNodeCachedData({errorCode:"cachedDataRejected",path:a}),c._runSoon(function(){return e._fs.unlink(a,function(t){t&&o.getConfig().getOptionsLiteral().onNodeCachedData({errorCode:"unlink",path:a,detail:t})})},o.getConfig().getOptionsLiteral().nodeCachedDataWriteDelay)):t.cachedDataProduced&&(o.getConfig().getOptionsLiteral().onNodeCachedData(void 0,{path:a,length:t.cachedData.length}),c._runSoon(function(){return e._fs.writeFile(a,t.cachedData,function(t){t&&o.getConfig().getOptionsLiteral().onNodeCachedData({errorCode:"writeFile",path:a,detail:t})})},o.getConfig().getOptionsLiteral().nodeCachedDataWriteDelay))},c._runSoon=function(o,e){var t=e+Math.ceil(Math.random()*e);setTimeout(o,t)},c}();r._BOM=65279,m.createScriptLoader=function(o){return new a(o.isWebWorker?new n:o.isNode?new r(o):new t)}}(AMDLoader||(AMDLoader={})),function(a){var l=function(){function o(n){var e=n.lastIndexOf("/");this.fromModulePath=-1===e?"":n.substr(0,e+1)}return o._normalizeModuleId=function(o){var e=o,n;for(n=/\/\.\//;n.test(e);)e=e.replace(n,"/");for(e=e.replace(/^\.\//g,""),n=/\/(([^\/])|([^\/][^\/\.])|([^\/\.][^\/])|([^\/][^\/][^\/]+))\/\.\.\//;n.test(e);)e=e.replace(n,"/");return e.replace(/^(([^\/])|([^\/][^\/\.])|([^\/\.][^\/])|([^\/][^\/][^\/]+))\/\.\.\//,"")},o.prototype.resolveModule=function(n){var e=n;return a.Utilities.isAbsolutePath(e)||(a.Utilities.startsWith(e,"./")||a.Utilities.startsWith(e,"../"))&&(e=o._normalizeModuleId(this.fromModulePath+e)),e},o}();l.ROOT=new l(""),a.ModuleIdResolver=l;var u=function(){function d(a,e,t,n,r,o){this.id=a,this.strId=e,this.dependencies=t,this._callback=n,this._errorback=r,this.moduleIdResolver=o,this.exports={},this.exportsPassedIn=!1,this.unresolvedDependenciesCount=this.dependencies.length,this._isComplete=!1}return d._safeInvokeFunction=function(n,e){try{return{returnedValue:n.apply(a.global,e),producedError:null}}catch(t){return{returnedValue:null,producedError:t}}},d._invokeFactory=function(o,e,t,n){return o.isBuild()&&!a.Utilities.isAnonymousModule(e)?{returnedValue:null,producedError:null}:o.shouldCatchError()?this._safeInvokeFunction(t,n):{returnedValue:t.apply(a.global,n),producedError:null}},d.prototype.complete=function(i,e,t){this._isComplete=!0;var n=null;if(this._callback)if("function"==typeof this._callback){i.record(a.LoaderEventType.BeginInvokeFactory,this.strId);var s=d._invokeFactory(e,this.strId,this._callback,t);n=s.producedError,i.record(a.LoaderEventType.EndInvokeFactory,this.strId),n||void 0===s.returnedValue||this.exportsPassedIn&&!a.Utilities.isEmpty(this.exports)||(this.exports=s.returnedValue)}else this.exports=this._callback;n&&e.onError({errorCode:"factory",moduleId:this.strId,detail:n}),this.dependencies=null,this._callback=null,this._errorback=null,this.moduleIdResolver=null},d.prototype.onDependencyError=function(t){return!!this._errorback&&(this._errorback(t),!0)},d.prototype.isComplete=function(){return this._isComplete},d}();a.Module=u;var d=function(){function t(){this._nextId=0,this._strModuleIdToIntModuleId=new Map,this._intModuleIdToStrModuleId=[],this.getModuleId("exports"),this.getModuleId("module"),this.getModuleId("require")}return t.prototype.getMaxModuleId=function(){return this._nextId},t.prototype.getModuleId=function(n){var e=this._strModuleIdToIntModuleId.get(n);return void 0===e&&(e=this._nextId++,this._strModuleIdToIntModuleId.set(n,e),this._intModuleIdToStrModuleId[e]=n),e},t.prototype.getStrModuleId=function(t){return this._intModuleIdToStrModuleId[t]},t}(),c=function(t){this.id=t};c.EXPORTS=new c(0),c.MODULE=new c(1),c.REQUIRE=new c(2),a.RegularDependency=c;var p=function(o,e,t){this.id=o,this.pluginId=e,this.pluginParam=t};a.PluginDependency=p;var t=function(){function n(i,e,t,n,r){void 0===r&&(r=0),this._env=i,this._scriptLoader=e,this._loaderAvailableTimestamp=r,this._defineFunc=t,this._requireFunc=n,this._moduleIdProvider=new d,this._config=new a.Configuration(this._env),this._modules2=[],this._knownModules2=[],this._inverseDependencies2=[],this._inversePluginDependencies2=new Map,this._currentAnnonymousDefineCall=null,this._recorder=null,this._buildInfoPath=[],this._buildInfoDefineStack=[],this._buildInfoDependencies=[]}return n.prototype.reset=function(){return new n(this._env,this._scriptLoader,this._defineFunc,this._requireFunc,this._loaderAvailableTimestamp)},n.prototype.getGlobalAMDDefineFunc=function(){return this._defineFunc},n.prototype.getGlobalAMDRequireFunc=function(){return this._requireFunc},n._findRelevantLocationInStack=function(p,e){for(var t=function(t){return t.replace(/\\/g,"/")},n=t(p),r=e.split(/\n/),o=0,i;o<r.length;o++)if(i=r[o].match(/(.*):(\d+):(\d+)\)?$/),i){var s=i[1],d=i[2],a=i[3],l=Math.max(s.lastIndexOf(" ")+1,s.lastIndexOf("(")+1);if((s=t(s=s.substr(l)))===n){var u={line:parseInt(d,10),col:parseInt(a,10)};return 1===u.line&&(u.col-=53),u}}throw new Error("Could not correlate define call site for needle "+p)},n.prototype.getBuildInfo=function(){if(!this._config.isBuild())return null;for(var a=[],e=0,t=0,l=this._modules2.length,r;t<l;t++)if(r=this._modules2[t],r){var o=this._buildInfoPath[r.id]||null,p=this._buildInfoDefineStack[r.id]||null,s=this._buildInfoDependencies[r.id];a[e++]={id:r.strId,path:o,defineLocation:o&&p?n._findRelevantLocationInStack(o,p):null,dependencies:s,shim:null,exports:r.exports}}return a},n.prototype.getRecorder=function(){return this._recorder||(this._config.shouldRecordStats()?this._recorder=new a.LoaderEventRecorder(this._loaderAvailableTimestamp):this._recorder=a.NullLoaderEventRecorder.INSTANCE),this._recorder},n.prototype.getLoaderEvents=function(){return this.getRecorder().getEvents()},n.prototype.enqueueDefineAnonymousModule=function(o,a){if(null!==this._currentAnnonymousDefineCall)throw new Error("Can only have one anonymous define call per script file");var r=null;this._config.isBuild()&&(r=new Error("StackLocation").stack),this._currentAnnonymousDefineCall={stack:r,dependencies:o,callback:a}},n.prototype.defineModule=function(p,e,t,n,r,o){var i=this;void 0===o&&(o=new l(p));var s=this._moduleIdProvider.getModuleId(p);if(this._modules2[s])this._config.isDuplicateMessageIgnoredFor(p)||console.warn("Duplicate definition of module '"+p+"'");else{var d=new u(s,p,this._normalizeDependencies(e,o),t,n,o);this._modules2[s]=d,this._config.isBuild()&&(this._buildInfoDefineStack[s]=r,this._buildInfoDependencies[s]=d.dependencies.map(function(t){return i._moduleIdProvider.getStrModuleId(t.id)})),this._resolve(d)}},n.prototype._normalizeDependency=function(a,e){if("exports"===a)return c.EXPORTS;if("module"===a)return c.MODULE;if("require"===a)return c.REQUIRE;var t=a.indexOf("!");if(0<=t){var n=e.resolveModule(a.substr(0,t)),r=e.resolveModule(a.substr(t+1)),o=this._moduleIdProvider.getModuleId(n+"!"+r),i=this._moduleIdProvider.getModuleId(n);return new p(o,i,r)}return new c(this._moduleIdProvider.getModuleId(e.resolveModule(a)))},n.prototype._normalizeDependencies=function(a,e){for(var t=[],n=0,r=0,o=a.length;r<o;r++)t[n++]=this._normalizeDependency(a[r],e);return t},n.prototype._relativeRequire=function(o,e,i,n){return"string"==typeof e?this.synchronousRequire(e,o):void this.defineModule(a.Utilities.generateAnonymousModule(),e,i,n,null,o)},n.prototype.synchronousRequire=function(o,e){void 0===e&&(e=new l(o));var t=this._normalizeDependency(o,e),n=this._modules2[t.id];if(!n)throw new Error("Check dependency list! Synchronous require cannot resolve module '"+o+"'. This is the first mention of this module!");if(!n.isComplete())throw new Error("Check dependency list! Synchronous require cannot resolve module '"+o+"'. This module has not been resolved completely yet.");return n.exports},n.prototype.configure=function(o,e){var t=this._config.shouldRecordStats();this._config=e?new a.Configuration(this._env,o):this._config.cloneAndMerge(o),this._config.shouldRecordStats()&&!t&&(this._recorder=null)},n.prototype.getConfig=function(){return this._config},n.prototype._onLoad=function(n){if(null!==this._currentAnnonymousDefineCall){var e=this._currentAnnonymousDefineCall;this._currentAnnonymousDefineCall=null,this.defineModule(this._moduleIdProvider.getStrModuleId(n),e.dependencies,e.callback,null,e.stack)}},n.prototype._createLoadError=function(o,e){var a=this;return{errorCode:"load",moduleId:this._moduleIdProvider.getStrModuleId(o),neededBy:(this._inverseDependencies2[o]||[]).map(function(t){return a._moduleIdProvider.getStrModuleId(t)}),detail:e}},n.prototype._onLoadError=function(p,e){for(var t=this._createLoadError(p,e),n=[],r=0,o=this._moduleIdProvider.getMaxModuleId();r<o;r++)n[r]=!1;var i=!1,s=[];for(s.push(p),n[p]=!0;0<s.length;){var d=s.shift(),a=this._modules2[d];a&&(i=a.onDependencyError(t)||i);var l=this._inverseDependencies2[d];if(l)for(r=0,o=l.length;r<o;r++){var u=l[r];n[u]||(s.push(u),n[u]=!0)}}i||this._config.onError(t)},n.prototype._hasDependencyPath=function(p,e){var t=this._modules2[p];if(!t)return!1;for(var c=[],r=0,o=this._moduleIdProvider.getMaxModuleId();r<o;r++)c[r]=!1;var i=[];for(i.push(t),c[p]=!0;0<i.length;){var s=i.shift().dependencies;if(s)for(r=0,o=s.length;r<o;r++){var d=s[r];if(d.id===e)return!0;var a=this._modules2[d.id];a&&!c[d.id]&&(c[d.id]=!0,i.push(a))}}return!1},n.prototype._findCyclePath=function(a,e,t){if(a===e||50===t)return[a];var n=this._modules2[a];if(!n)return null;for(var l=n.dependencies,o=0,i=l.length,s;o<i;o++)if(s=this._findCyclePath(l[o].id,e,t+1),null!==s)return s.push(a),s;return null},n.prototype._createRequire=function(i){var r=this,t=function(e,o,t){return r._relativeRequire(i,e,o,t)};return t.toUrl=function(t){return r._config.requireToUrl(i.resolveModule(t))},t.getStats=function(){return r.getLoaderEvents()},t.__$__nodeRequire=a.global.nodeRequire,t},n.prototype._loadModule=function(l){var r=this;if(!this._modules2[l]&&!this._knownModules2[l]){this._knownModules2[l]=!0;var t=this._moduleIdProvider.getStrModuleId(l),o=this._config.moduleIdToPaths(t);this._env.isNode&&-1===t.indexOf("/")&&o.push("node|"+t);var i=-1,e=function s(d){if(++i>=o.length)r._onLoadError(l,d);else{var p=o[i],t=r.getRecorder();if(r._config.isBuild()&&"empty:"===p)return r._buildInfoPath[l]=p,r.defineModule(r._moduleIdProvider.getStrModuleId(l),[],null,null,null),void r._onLoad(l);t.record(a.LoaderEventType.BeginLoadingScript,p),r._scriptLoader.load(r,p,function(){r._config.isBuild()&&(r._buildInfoPath[l]=p),t.record(a.LoaderEventType.EndLoadingScriptOK,p),r._onLoad(l)},function(n){t.record(a.LoaderEventType.EndLoadingScriptError,p),s(n)})}};e(null)}},n.prototype._loadPluginDependency=function(o,a){var t=this;if(!this._modules2[a.id]&&!this._knownModules2[a.id]){this._knownModules2[a.id]=!0;var e=function(n){t.defineModule(t._moduleIdProvider.getStrModuleId(a.id),[],n,null,null)};e.error=function(n){t._config.onError(t._createLoadError(a.id,n))},o.load(a.pluginParam,this._createRequire(l.ROOT),e,this._config.getOptionsLiteral())}},n.prototype._resolve=function(u){for(var f=this,e=u.dependencies,t=0,n=e.length,o;t<n;t++)if(o=e[t],o===c.EXPORTS)u.exportsPassedIn=!0,u.unresolvedDependenciesCount--;else if(o===c.MODULE)u.unresolvedDependenciesCount--;else if(o!==c.REQUIRE){var r=this._modules2[o.id];if(r&&r.isComplete())u.unresolvedDependenciesCount--;else if(this._hasDependencyPath(o.id,u.id)){console.warn("There is a dependency cycle between '"+this._moduleIdProvider.getStrModuleId(o.id)+"' and '"+this._moduleIdProvider.getStrModuleId(u.id)+"'. The cyclic path follows:");var i=this._findCyclePath(o.id,u.id,0);i.reverse(),i.push(o.id),console.warn(i.map(function(t){return f._moduleIdProvider.getStrModuleId(t)}).join(" => \n")),u.unresolvedDependenciesCount--}else if(this._inverseDependencies2[o.id]=this._inverseDependencies2[o.id]||[],this._inverseDependencies2[o.id].push(u.id),o instanceof p){var d=this._modules2[o.pluginId];if(d&&d.isComplete()){this._loadPluginDependency(d.exports,o);continue}var a=this._inversePluginDependencies2.get(o.pluginId);a||(a=[],this._inversePluginDependencies2.set(o.pluginId,a)),a.push(o),this._loadModule(o.pluginId)}else this._loadModule(o.id)}else u.unresolvedDependenciesCount--;0===u.unresolvedDependenciesCount&&this._onModuleComplete(u)},n.prototype._onModuleComplete=function(p){var e=this,t=this.getRecorder();if(!p.isComplete()){for(var n=p.dependencies,r=[],o=0,i=n.length,s;o<i;o++)if(s=n[o],s===c.EXPORTS)r[o]=p.exports;else if(s===c.MODULE)r[o]={id:p.strId,config:function(){return e._config.getConfigForModule(p.strId)}};else if(s!==c.REQUIRE){var d=this._modules2[s.id];r[o]=d?d.exports:null}else r[o]=this._createRequire(p.moduleIdResolver);p.complete(t,this._config,r);var a=this._inverseDependencies2[p.id];if(this._inverseDependencies2[p.id]=null,a)for(o=0,i=a.length;o<i;o++){var l=a[o],u=this._modules2[l];u.unresolvedDependenciesCount--,0===u.unresolvedDependenciesCount&&this._onModuleComplete(u)}var f=this._inversePluginDependencies2.get(p.id);if(f)for(this._inversePluginDependencies2["delete"](p.id),o=0,i=f.length;o<i;o++)this._loadPluginDependency(p.exports,f[o])}},n}();a.ModuleManager=t}(AMDLoader||(AMDLoader={})),function(a){function t(){!function(){(i=function(a,r,i){"string"!=typeof a&&(i=r,r=a,a=null),"object"==("undefined"===typeof r?"undefined":babelHelpers["typeof"](r))&&Array.isArray(r)||(i=r,r=null),r||(r=["require","exports","module"]),a?o.defineModule(a,r,i,null,null):o.enqueueDefineAnonymousModule(r,i)}).amd={jQuery:!0};var t=function(e,n){void 0===n&&(n=!1),o.configure(e,n)};(s=function(){if(1===arguments.length){if(arguments[0]instanceof Object&&!Array.isArray(arguments[0]))return void t(arguments[0]);if("string"==typeof arguments[0])return o.synchronousRequire(arguments[0])}if(2!==arguments.length&&3!==arguments.length||!Array.isArray(arguments[0]))throw new Error("Unrecognized require call");o.defineModule(a.Utilities.generateAnonymousModule(),arguments[0],arguments[1],arguments[2],null)}).config=t,s.getConfig=function(){return o.getConfig().getOptionsLiteral()},s.reset=function(){o=o.reset()},s.getBuildInfo=function(){return o.getBuildInfo()},s.getStats=function(){return o.getLoaderEvents()}}();var d=a.Environment.detect(),l=a.createScriptLoader(d);if(o=new a.ModuleManager(d,l,i,s,a.Utilities.getHighPerformanceTimestamp()),d.isNode){var t=a.global.require||require,n=function(n){o.getRecorder().record(a.LoaderEventType.NodeBeginNativeRequire,n);try{return t(n)}finally{o.getRecorder().record(a.LoaderEventType.NodeEndNativeRequire,n)}};a.global.nodeRequire=n,s.nodeRequire=n}d.isNode&&!d.isElectronRenderer?(module.exports=s,define=function(){i.apply(null,arguments)},require=s):(void 0!==a.global.require&&"function"!=typeof a.global.require&&s.config(a.global.require),d.isElectronRenderer?define=function(){i.apply(null,arguments)}:a.global.define=define=i,a.global.require=s,a.global.require.__$__nodeRequire=n)}var o=null,i=null,s=null;a.init=t,"undefined"!=typeof doNotInitLoader||"function"==typeof (a.global = a.global || {}).define&&a.global.define.amd||t()}(AMDLoader||(AMDLoader={})),function(e,t){"use notstrict";"object"===("undefined"===typeof module?"undefined":babelHelpers["typeof"](module))&&"object"===babelHelpers["typeof"](module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"===typeof window?this:window,function(e,t){"use notstrict";function n(e,t,n){t=t||de;var o=t.createElement("script"),a;if(o.text=e,n)for(a in _e)n[a]&&(o[a]=n[a]);t.head.appendChild(o).parentNode.removeChild(o)}function o(e){return null==e?e+"":"object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))||"function"===typeof e?fe[ge.call(e)]||"object":"undefined"===typeof e?"undefined":babelHelpers["typeof"](e)}function a(e){var t=!!e&&"length"in e&&e.length,n=o(e);return be(e)||ve(e)?!1:"array"===n||0===t||"number"===typeof t&&0<t&&t-1 in e}function r(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function i(e,t,n){return be(t)?Te.grep(e,function(e,o){return!!t.call(e,o,e)!==n}):t.nodeType?Te.grep(e,function(e){return e===t!==n}):"string"===typeof t?Te.filter(t,e,n):Te.grep(e,function(e){return-1<ue.call(t,e)!==n})}function d(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t={};return Te.each(e.match(qe)||[],function(e,n){t[n]=!0}),t}function l(e){return e}function p(e){throw e}function c(e,t,n,o){var a;try{e&&be(a=e.promise)?a.call(e).done(t).fail(n):e&&be(a=e.then)?a.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}function u(){de.removeEventListener("DOMContentLoaded",u),e.removeEventListener("load",u),Te.ready()}function f(e,t){return t.toUpperCase()}function g(e){return e.replace(Be,"ms-").replace(He,f)}function h(){this.expando=Te.expando+h.uid++}function m(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ze.test(e)?JSON.parse(e):e)}function y(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(Xe,"-$&").toLowerCase(),n=e.getAttribute(o),"string"===typeof n){try{n=m(n)}catch(t){}Fe.set(e,t,n)}else n=void 0;return n}function x(e,t,n,o){var a=20,r=o?function(){return o.cur()}:function(){return Te.css(e,t,"")},i=r(),d=n&&n[3]||(Te.cssNumber[t]?"":"px"),s=(Te.cssNumber[t]||"px"!==d&&+i)&&$e.exec(Te.css(e,t)),l,p;if(s&&s[3]!==d){for(i/=2,d=d||s[3],s=+i||1;a--;)Te.style(e,t,s+d),0>=(1-p)*(1-(p=r()/i||0.5))&&(a=0),s/=p;s*=2,Te.style(e,t,s+d),n=n||[]}return n&&(s=+s||+i||0,l=n[1]?s+(n[1]+1)*n[2]:+n[2],o&&(o.unit=d,o.start=s,o.end=l)),l}function b(e){var t=e.ownerDocument,n=e.nodeName,o=Ke[n],a;return o?o:(a=t.body.appendChild(t.createElement(n)),o=Te.css(a,"display"),a.parentNode.removeChild(a),"none"===o&&(o="block"),Ke[n]=o,o)}function v(e,t){for(var n=[],o=0,a=e.length,r,i;o<a;o++)(i=e[o],!!i.style)&&(r=i.style.display,t?("none"===r&&(n[o]=We.get(i,"display")||null,!n[o]&&(i.style.display="")),""===i.style.display&&Ge(i)&&(n[o]=b(i))):"none"!==r&&(n[o]="none",We.set(i,"display",r)));for(o=0;o<a;o++)null!=n[o]&&(e[o].style.display=n[o]);return e}function _(e,t){var n;return n="undefined"===typeof e.getElementsByTagName?"undefined"===typeof e.querySelectorAll?[]:e.querySelectorAll(t||"*"):e.getElementsByTagName(t||"*"),void 0===t||t&&r(e,t)?Te.merge([e],n):n}function C(e,t){for(var n=0,o=e.length;n<o;n++)We.set(e[n],"globalEval",!t||We.get(t[n],"globalEval"))}function T(e,t,n,a,r){for(var d=t.createDocumentFragment(),s=[],p=0,i=e.length,l,c,u,f,g,h;p<i;p++)if(l=e[p],l||0===l)if("object"===o(l))Te.merge(s,l.nodeType?[l]:l);else if(!nt.test(l))s.push(t.createTextNode(l));else{for(c=c||d.appendChild(t.createElement("div")),u=(Ze.exec(l)||["",""])[1].toLowerCase(),f=tt[u]||tt._default,c.innerHTML=f[1]+Te.htmlPrefilter(l)+f[2],h=f[0];h--;)c=c.lastChild;Te.merge(s,c.childNodes),c=d.firstChild,c.textContent=""}for(d.textContent="",p=0;l=s[p++];){if(a&&-1<Te.inArray(l,a)){r&&r.push(l);continue}if(g=Te.contains(l.ownerDocument,l),c=_(d.appendChild(l),"script"),g&&C(c),n)for(h=0;l=c[h++];)et.test(l.type||"")&&n.push(l)}return d}function w(){return!0}function E(){return!1}function D(){try{return de.activeElement}catch(e){}}function k(e,t,n,o,a,r){var i,d;if("object"===("undefined"===typeof t?"undefined":babelHelpers["typeof"](t))){for(d in"string"!==typeof n&&(o=o||n,n=void 0),t)k(e,d,n,o,t[d],r);return e}if(null==o&&null==a?(a=n,o=n=void 0):null==a&&("string"===typeof n?(a=o,o=void 0):(a=o,o=n,n=void 0)),!1===a)a=E;else if(!a)return e;return 1===r&&(i=a,a=function(e){return Te().off(e),i.apply(this,arguments)},a.guid=i.guid||(i.guid=Te.guid++)),e.each(function(){Te.event.add(this,t,a,o,n)})}function S(e,t){return r(e,"table")&&r(11===t.nodeType?t.firstChild:t,"tr")?Te(e).children("tbody")[0]||e:e}function M(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function A(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function N(e,t){var n,o,a,r,i,d,s,l;if(1===t.nodeType){if(We.hasData(e)&&(r=We.access(e),i=We.set(t,r),l=r.events,l))for(a in delete i.handle,i.events={},l)for(n=0,o=l[a].length;n<o;n++)Te.event.add(t,a,l[a][n]);Fe.hasData(e)&&(d=Fe.access(e),s=Te.extend({},d),Fe.set(t,s))}}function I(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Je.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function L(e,t,o,a){t=pe.apply([],t);var r=0,i=e.length,d=t[0],s=be(d),l,p,c,u,f,g;if(s||1<i&&"string"===typeof d&&!xe.checkClone&&lt.test(d))return e.each(function(n){var r=e.eq(n);s&&(t[0]=d.call(this,n,r.html())),L(r,t,o,a)});if(i&&(l=T(t,e[0].ownerDocument,!1,e,a),p=l.firstChild,1===l.childNodes.length&&(l=p),p||a)){for(c=Te.map(_(l,"script"),M),u=c.length;r<i;r++)f=l,r!==i-1&&(f=Te.clone(f,!0,!0),u&&Te.merge(c,_(f,"script"))),o.call(e[r],f,r);if(u)for(g=c[c.length-1].ownerDocument,Te.map(c,A),r=0;r<u;r++)f=c[r],et.test(f.type||"")&&!We.access(f,"globalEval")&&Te.contains(g,f)&&(f.src&&"module"!==(f.type||"").toLowerCase()?Te._evalUrl&&Te._evalUrl(f.src):n(f.textContent.replace(pt,""),g,f))}return e}function P(e,t,n){for(var o=t?Te.filter(t,e):e,a=0,r;null!=(r=o[a]);a++)n||1!==r.nodeType||Te.cleanData(_(r)),r.parentNode&&(n&&Te.contains(r.ownerDocument,r)&&C(_(r,"script")),r.parentNode.removeChild(r));return e}function q(e,t,n){var o=e.style,a,r,i,d;return n=n||ut(e),n&&(d=n.getPropertyValue(t)||n[t],""===d&&!Te.contains(e.ownerDocument,e)&&(d=Te.style(e,t)),!xe.pixelBoxStyles()&&ct.test(d)&&ft.test(t)&&(a=o.width,r=o.minWidth,i=o.maxWidth,o.minWidth=o.maxWidth=o.width=d,d=n.width,o.width=a,o.minWidth=r,o.maxWidth=i)),void 0===d?d:d+""}function j(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function O(e){if(e in bt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=xt.length;n--;)if(e=xt[n]+t,e in bt)return e}function R(e){var t=Te.cssProps[e];return t||(t=Te.cssProps[e]=O(e)||e),t}function B(e,t,n){var o=$e.exec(t);return o?re(0,o[2]-(n||0))+(o[3]||"px"):t}function H(e,t,n,o,a,r){var d="width"===t?1:0,i=0,s=0;if(n===(o?"border":"content"))return 0;for(;4>d;d+=2)"margin"===n&&(s+=Te.css(e,n+Qe[d],!0,a)),o?("content"===n&&(s-=Te.css(e,"padding"+Qe[d],!0,a)),"margin"!==n&&(s-=Te.css(e,"border"+Qe[d]+"Width",!0,a))):(s+=Te.css(e,"padding"+Qe[d],!0,a),"padding"===n?i+=Te.css(e,"border"+Qe[d]+"Width",!0,a):s+=Te.css(e,"border"+Qe[d]+"Width",!0,a));return!o&&0<=r&&(s+=re(0,ae(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-s-i-0.5))),s}function U(e,t,n){var o=ut(e),a=q(e,t,o),r="border-box"===Te.css(e,"boxSizing",!1,o),i=r;if(ct.test(a)){if(!n)return a;a="auto"}return i=i&&(xe.boxSizingReliable()||a===e.style[t]),"auto"!==a&&(parseFloat(a)||"inline"!==Te.css(e,"display",!1,o))||(a=e["offset"+t[0].toUpperCase()+t.slice(1)],i=!0),a=parseFloat(a)||0,a+H(e,t,n||(r?"border":"content"),i,o,a)+"px"}function W(e,t,n,o,a){return new W.prototype.init(e,t,n,o,a)}function F(){Tt&&(!1===de.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(F):e.setTimeout(F,Te.fx.interval),Te.fx.tick())}function z(){return e.setTimeout(function(){Ct=void 0}),Ct=Date.now()}function X(e,t){var n=0,o={height:e},a;for(t=t?1:0;4>n;n+=2-t)a=Qe[n],o["margin"+a]=o["padding"+a]=e;return t&&(o.opacity=o.width=e),o}function V(e,t,n){for(var o=(Q.tweeners[t]||[]).concat(Q.tweeners["*"]),a=0,r=o.length,i;a<r;a++)if(i=o[a].call(n,t,e))return i}function $(e,t){var n,o,a,r,i;for(n in e)if(o=g(n),a=t[o],r=e[n],Array.isArray(r)&&(a=r[1],r=e[n]=r[0]),n!==o&&(e[o]=r,delete e[n]),i=Te.cssHooks[o],i&&"expand"in i)for(n in r=i.expand(r),delete e[o],r)n in e||(e[n]=r[n],t[n]=a);else t[o]=a}function Q(e,t,n){var o=0,a=Q.prefilters.length,r=Te.Deferred().always(function(){delete i.elem}),i=function(){if(p)return!1;for(var t=Ct||z(),n=re(0,d.startTime+d.duration-t),o=n/d.duration||0,a=1-o,i=0,s=d.tweens.length;i<s;i++)d.tweens[i].run(a);return(r.notifyWith(e,[d,a,n]),1>a&&s)?n:(s||r.notifyWith(e,[d,1,0]),r.resolveWith(e,[d]),!1)},d=r.promise({elem:e,props:Te.extend({},t),opts:Te.extend(!0,{specialEasing:{},easing:Te.easing._default},n),originalProperties:t,originalOptions:n,startTime:Ct||z(),duration:n.duration,tweens:[],createTween:function(t,n){var o=Te.Tween(e,d.opts,t,n,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(o),o},stop:function(t){var n=0,o=t?d.tweens.length:0;if(p)return this;for(p=!0;n<o;n++)d.tweens[n].run(1);return t?(r.notifyWith(e,[d,1,0]),r.resolveWith(e,[d,t])):r.rejectWith(e,[d,t]),this}}),s=d.props,l,p;for($(s,d.opts.specialEasing);o<a;o++)if(l=Q.prefilters[o].call(d,e,s,d.opts),l)return be(l.stop)&&(Te._queueHooks(d.elem,d.opts.queue).stop=l.stop.bind(l)),l;return Te.map(s,V,d),be(d.opts.start)&&d.opts.start.call(e,d),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always),Te.fx.timer(Te.extend(i,{elem:e,anim:d,queue:d.opts.queue})),d}function G(e){var t=e.match(qe)||[];return t.join(" ")}function Y(e){return e.getAttribute&&e.getAttribute("class")||""}function K(e){return Array.isArray(e)?e:"string"===typeof e?e.match(qe)||[]:[]}function J(e,t,n,a){if(Array.isArray(t))Te.each(t,function(t,o){n||Pt.test(e)?a(e,o):J(e+"["+("object"===("undefined"===typeof o?"undefined":babelHelpers["typeof"](o))&&null!=o?t:"")+"]",o,n,a)});else if(!n&&"object"===o(t))for(var r in t)J(e+"["+r+"]",t[r],n,a);else a(e,t)}function Z(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var o=0,a=t.toLowerCase().match(qe)||[],r;if(be(n))for(;r=a[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ee(e,t,n,o){function a(d){var s;return r[d]=!0,Te.each(e[d]||[],function(e,d){var l=d(t,n,o);return"string"!==typeof l||i||r[l]?i?!(s=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),s}var r={},i=e===Vt;return a(t.dataTypes[0])||!r["*"]&&a("*")}function te(e,t){var n=Te.ajaxSettings.flatOptions||{},o,a;for(o in t)void 0!==t[o]&&((n[o]?e:a||(a={}))[o]=t[o]);return a&&Te.extend(!0,e,a),e}function ne(e,t,n){for(var o=e.contents,a=e.dataTypes,r,i,d,s;"*"===a[0];)a.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in o)if(o[i]&&o[i].test(r)){a.unshift(i);break}if(a[0]in n)d=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){d=i;break}s||(s=i)}d=d||s}return d?(d!==a[0]&&a.unshift(d),n[d]):void 0}function oe(e,t,n,o){var a={},r=e.dataTypes.slice(),i,d,s,l,p;if(r[1])for(s in e.converters)a[s.toLowerCase()]=e.converters[s];for(d=r.shift();d;)if(e.responseFields[d]&&(n[e.responseFields[d]]=t),!p&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),p=d,d=r.shift(),d)if("*"===d)d=p;else if("*"!==p&&p!==d){if(s=a[p+" "+d]||a["* "+d],!s)for(i in a)if(l=i.split(" "),l[1]===d&&(s=a[p+" "+l[0]]||a["* "+l[0]],s)){!0===s?s=a[i]:!0!==a[i]&&(d=l[0],r.unshift(l[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+p+" to "+d}}}return{state:"success",data:t}}var ae=Math.ceil,re=Math.max,ie=[],de=e.document,se=Object.getPrototypeOf,le=ie.slice,pe=ie.concat,ce=ie.push,ue=ie.indexOf,fe={},ge=fe.toString,he=fe.hasOwnProperty,me=he.toString,ye=me.call(Object),xe={},be=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType},ve=function(e){return null!=e&&e===e.window},_e={type:!0,src:!0,noModule:!0},Ce="3.3.1",Te=function e(t,n){return new e.fn.init(t,n)},we=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Te.fn=Te.prototype={jquery:Ce,constructor:Te,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=Te.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Te.each(this,e)},map:function(e){return this.pushStack(Te.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ce,sort:ie.sort,splice:ie.splice},Te.extend=Te.fn.extend=function(){var e=arguments[0]||{},t=1,n=arguments.length,o=!1,a,r,i,d,s,l;for("boolean"===typeof e&&(o=e,e=arguments[t]||{},t++),"object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))||be(e)||(e={}),t===n&&(e=this,t--);t<n;t++)if(null!=(a=arguments[t]))for(r in a)(i=e[r],d=a[r],e!==d)&&(o&&d&&(Te.isPlainObject(d)||(s=Array.isArray(d)))?(s?(s=!1,l=i&&Array.isArray(i)?i:[]):l=i&&Te.isPlainObject(i)?i:{},e[r]=Te.extend(o,l,d)):void 0!==d&&(e[r]=d));return e},Te.extend({expando:"jQuery"+(Ce+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return e&&"[object Object]"===ge.call(e)&&((t=se(e),!!!t)||(n=he.call(t,"constructor")&&t.constructor,"function"===typeof n&&me.call(n)===ye))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e){n(e)},each:function(e,t){var n=0,o;if(a(e))for(o=e.length;n<o&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(we,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(a(Object(e))?Te.merge(n,"string"===typeof e?[e]:e):ce.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ue.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,a=e.length;o<n;o++)e[a++]=t[o];return e.length=a,e},grep:function(e,t,n){for(var o=[],a=0,r=e.length,i;a<r;a++)i=!t(e[a],a),i!==!n&&o.push(e[a]);return o},map:function(e,t,n){var o=0,r=[],i,d;if(a(e))for(i=e.length;o<i;o++)d=t(e[o],o,n),null!=d&&r.push(d);else for(o in e)d=t(e[o],o,n),null!=d&&r.push(d);return pe.apply([],r)},guid:1,support:xe}),"function"===typeof Symbol&&(Te.fn[Symbol.iterator]=ie[Symbol.iterator]),Te.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error","Symbol"],function(e,t){fe["[object "+t+"]"]=t.toLowerCase()});var Ee=function(e){function t(e,t,n,o){var a=t&&t.ownerDocument,r=t?t.nodeType:9,d,s,i,l,p,c,f;if(n=n||[],"string"!==typeof e||!e||1!==r&&9!==r&&11!==r)return n;if(!o&&((t?t.ownerDocument||t:T)!==me&&he(t),t=t||me,xe)){if(11!==r&&(p=K.exec(e)))if(!(d=p[1])){if(p[2])return P.apply(n,t.getElementsByTagName(e)),n;if((d=p[3])&&ie.getElementsByClassName&&t.getElementsByClassName)return P.apply(n,t.getElementsByClassName(d)),n}else if(9===r){if(!(i=t.getElementById(d)))return n;if(i.id===d)return n.push(i),n}else if(a&&(i=a.getElementById(d))&&Ce(t,i)&&i.id===d)return n.push(i),n;if(ie.qsa&&!S[e+" "]&&(!be||!be.test(e))){if(1!==r)a=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(te,ne):t.setAttribute("id",l=C),c=le(e),s=c.length;s--;)c[s]="#"+l+" "+g(c[s]);f=c.join(","),a=J.test(e)&&u(t.parentNode)||t}if(f)try{return P.apply(n,a.querySelectorAll(f)),n}catch(e){}finally{l===C&&t.removeAttribute("id")}}}return ce(e.replace(U,"$1"),t,n,o)}function n(){function e(n,o){return t.push(n+" ")>de.cacheLength&&delete e[t.shift()],e[n+" "]=o}var t=[];return e}function o(e){return e[C]=!0,e}function a(e){var t=me.createElement("fieldset");try{return!!e(t)}catch(t){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),o=n.length;o--;)de.attrHandle[n[o]]=t}function d(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function p(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:!!("label"in t)&&t.disabled===e}}function c(e){return o(function(t){return t=+t,o(function(n,o){for(var a=e([],n.length,t),r=a.length,i;r--;)n[i=a[r]]&&(n[i]=!(o[i]=n[i]))})})}function u(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}function f(){}function g(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function h(e,t,n){var o=t.dir,a=t.next,r=a||o,i=n&&"parentNode"===r,d=E++;return t.first?function(t,n,a){for(;t=t[o];)if(1===t.nodeType||i)return e(t,n,a);return!1}:function(t,n,s){var l=[w,d],p,c,u;if(s){for(;t=t[o];)if((1===t.nodeType||i)&&e(t,n,s))return!0;}else for(;t=t[o];)if(1===t.nodeType||i)if(u=t[C]||(t[C]={}),c=u[t.uniqueID]||(u[t.uniqueID]={}),a&&a===t.nodeName.toLowerCase())t=t[o]||t;else{if((p=c[r])&&p[0]===w&&p[1]===d)return l[2]=p[2];if(c[r]=l,l[2]=e(t,n,s))return!0}return!1}}function m(e){return 1<e.length?function(t,n,o){for(var a=e.length;a--;)if(!e[a](t,n,o))return!1;return!0}:e[0]}function y(e,n,o){for(var a=0,r=n.length;a<r;a++)t(e,n[a],o);return o}function x(e,t,n,o,a){for(var r=[],d=0,i=e.length,s;d<i;d++)(s=e[d])&&(!n||n(s,o,a))&&(r.push(s),null!=t&&t.push(d));return r}function b(e,t,n,a,r,i){return a&&!a[C]&&(a=b(a)),r&&!r[C]&&(r=b(r,i)),o(function(o,d,s,l){var p=[],c=[],u=d.length,f=o||y(t||"*",s.nodeType?[s]:s,[]),g=e&&(o||!t)?x(f,p,e,s,l):f,h=n?r||(o?e:u||a)?[]:d:g,m,b,i;if(n&&n(g,h,s,l),a)for(m=x(h,c),a(m,[],s,l),b=m.length;b--;)(i=m[b])&&(h[c[b]]=!(g[c[b]]=i));if(!o)h=x(h===d?h.splice(u,h.length):h),r?r(null,d,h,l):P.apply(d,h);else if(r||e){if(r){for(m=[],b=h.length;b--;)(i=h[b])&&m.push(g[b]=i);r(null,h=[],m,l)}for(b=h.length;b--;)(i=h[b])&&-1<(m=r?j(o,i):p[b])&&(o[m]=!(d[m]=i))}})}function v(e){for(var t=e.length,n=de.relative[e[0].type],o=n||de.relative[" "],a=n?1:0,r=h(function(e){return e===s},o,!0),i=h(function(e){return-1<j(s,e)},o,!0),d=[function(e,t,o){var a=!n&&(o||t!==ue)||((s=t).nodeType?r(e,t,o):i(e,t,o));return s=null,a}],s,l,p;a<t;a++)if(l=de.relative[e[a].type])d=[h(m(d),l)];else{if(l=de.filter[e[a].type].apply(null,e[a].matches),l[C]){for(p=++a;p<t&&!de.relative[e[p].type];p++);return b(1<a&&m(d),1<a&&g(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(U,"$1"),l,a<p&&v(e.slice(a,p)),p<t&&v(e=e.slice(p)),p<t&&g(e))}d.push(l)}return m(d)}function _(e,n){var a=0<n.length,r=0<e.length,i=function(o,d,s,l,p){var c=0,u="0",i=o&&[],f=[],g=ue,h=o||r&&de.find.TAG("*",p),m=w+=null==g?1:Math.random()||0.1,y=h.length,b,v,_;for(p&&(ue=d===me||d||p);u!==y&&null!=(b=h[u]);u++){if(r&&b){for(v=0,d||b.ownerDocument===me||(he(b),s=!xe);_=e[v++];)if(_(b,d||me,s)){l.push(b);break}p&&(w=m)}a&&((b=!_&&b)&&c--,o&&i.push(b))}if(c+=u,a&&u!==c){for(v=0;_=n[v++];)_(i,f,d,s);if(o){if(0<c)for(;u--;)i[u]||f[u]||(f[u]=I.call(l));f=x(f)}P.apply(l,f),p&&!o&&0<f.length&&1<c+n.length&&t.uniqueSort(l)}return p&&(w=m,ue=g),i};return a?o(i):i}var C="sizzle"+1*new Date,T=e.document,w=0,E=0,D=n(),k=n(),S=n(),M=function(e,t){return e===t&&(ge=!0),0},A={}.hasOwnProperty,N=[],I=N.pop,L=N.push,P=N.push,q=N.slice,j=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\0-\\xa0])+",H=/[\x20\t\r\n\f]+/g,U=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,W=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,F=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,z=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,X=/:((?:\\.|[\w-]|[^\0-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,V=/^(?:\\.|[\w-]|[^\0-\xa0])+$/,$={ID:/^#((?:\\.|[\w-]|[^\0-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\0-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\0-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\0-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ee=function(e,t,n){var o=String.fromCharCode,a="0x"+t-65536;return a!==a||n?t:0>a?o(a+65536):o(55296|a>>10,56320|1023&a)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){he()},ae=h(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"}),re,ie,de,se,i,le,pe,ce,ue,fe,ge,he,me,ye,xe,be,ve,_e,Ce;try{P.apply(N=q.call(T.childNodes),T.childNodes),N[T.childNodes.length].nodeType}catch(t){P={apply:N.length?function(e,t){L.apply(e,q.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}for(re in ie=t.support={},i=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},he=t.setDocument=function(e){var t=e?e.ownerDocument||e:T,n,o;return t!==me&&9===t.nodeType&&t.documentElement?(me=t,ye=me.documentElement,xe=!i(me),T!==me&&(o=me.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",oe,!1):o.attachEvent&&o.attachEvent("onunload",oe)),ie.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),ie.getElementsByTagName=a(function(e){return e.appendChild(me.createComment("")),!e.getElementsByTagName("*").length}),ie.getElementsByClassName=Y.test(me.getElementsByClassName),ie.getById=a(function(e){return ye.appendChild(e).id=C,!me.getElementsByName||!me.getElementsByName(C).length}),ie.getById?(de.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},de.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&xe){var n=t.getElementById(e);return n?[n]:[]}}):(de.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},de.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&xe){var n=t.getElementById(e),o,a,r;if(n){if(o=n.getAttributeNode("id"),o&&o.value===e)return[n];for(r=t.getElementsByName(e),a=0;n=r[a++];)if(o=n.getAttributeNode("id"),o&&o.value===e)return[n]}return[]}}),de.find.TAG=ie.getElementsByTagName?function(e,t){return"undefined"===typeof t.getElementsByTagName?ie.qsa?t.querySelectorAll(e):void 0:t.getElementsByTagName(e)}:function(e,t){var n=[],o=0,a=t.getElementsByTagName(e),r;if("*"===e){for(;r=a[o++];)1===r.nodeType&&n.push(r);return n}return a},de.find.CLASS=ie.getElementsByClassName&&function(e,t){if("undefined"!==typeof t.getElementsByClassName&&xe)return t.getElementsByClassName(e)},ve=[],be=[],(ie.qsa=Y.test(me.querySelectorAll))&&(a(function(e){ye.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&be.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||be.push("\\["+R+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+C+"-]").length||be.push("~="),e.querySelectorAll(":checked").length||be.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||be.push(".#.+[+~]")}),a(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=me.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&be.push("name"+R+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&be.push(":enabled",":disabled"),ye.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&be.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),be.push(",.*:")})),(ie.matchesSelector=Y.test(_e=ye.matches||ye.webkitMatchesSelector||ye.mozMatchesSelector||ye.oMatchesSelector||ye.msMatchesSelector))&&a(function(e){ie.disconnectedMatch=_e.call(e,"*"),_e.call(e,"[s!='']:x"),ve.push("!=",":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+("\\["+R+"*("+B+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+R+"*\\]")+")*)|.*)\\)|)")}),be=be.length&&new RegExp(be.join("|")),ve=ve.length&&new RegExp(ve.join("|")),n=Y.test(ye.compareDocumentPosition),Ce=n||Y.test(ye.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!!(o&&1===o.nodeType&&(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},M=n?function(e,t){if(e===t)return ge=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!ie.sortDetached&&t.compareDocumentPosition(e)===n?e===me||e.ownerDocument===T&&Ce(T,e)?-1:t===me||t.ownerDocument===T&&Ce(T,t)?1:fe?j(fe,e)-j(fe,t):0:4&n?-1:1)}:function(e,t){if(e===t)return ge=!0,0;var n=0,o=e.parentNode,a=t.parentNode,r=[e],i=[t],s;if(!o||!a)return e===me?-1:t===me?1:o?-1:a?1:fe?j(fe,e)-j(fe,t):0;if(o===a)return d(e,t);for(s=e;s=s.parentNode;)r.unshift(s);for(s=t;s=s.parentNode;)i.unshift(s);for(;r[n]===i[n];)n++;return n?d(r[n],i[n]):r[n]===T?-1:i[n]===T?1:0},me):me},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==me&&he(e),n=n.replace(z,"='$1']"),ie.matchesSelector&&xe&&!S[n+" "]&&(!ve||!ve.test(n))&&(!be||!be.test(n)))try{var o=_e.call(e,n);if(o||ie.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(t){}return 0<t(n,me,null,[e]).length},t.contains=function(e,t){return(e.ownerDocument||e)!==me&&he(e),Ce(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==me&&he(e);var n=de.attrHandle[t.toLowerCase()],o=n&&A.call(de.attrHandle,t.toLowerCase())?n(e,t,!xe):void 0;return void 0===o?ie.attributes||!xe?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null:o},t.escape=function(e){return(e+"").replace(te,ne)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t=[],n=0,o=0,a;if(ge=!ie.detectDuplicates,fe=!ie.sortStable&&e.slice(0),e.sort(M),ge){for(;a=e[o++];)a===e[o]&&(n=t.push(o));for(;n--;)e.splice(t[n],1)}return fe=null,e},se=t.getText=function(e){var t="",n=0,o=e.nodeType,a;if(!o)for(;a=e[n++];)t+=se(a);else if(1===o||9===o||11===o){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=se(e)}else if(3===o||4===o)return e.nodeValue;return t},de=t.selectors={cacheLength:50,createPseudo:o,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(!e[3]&&t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t=!e[6]&&e[2],n;return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":t&&X.test(t)&&(n=le(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(e[0]=e[0].slice(0,n),e[2]=t.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=D[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&D(e,function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,o){return function(a){var r=t.attr(a,e);return null==r?"!="===n:!n||(r+="","="===n?r===o:"!="===n?r!==o:"^="===n?o&&0===r.indexOf(o):"*="===n?o&&-1<r.indexOf(o):"$="===n?o&&r.slice(-o.length)===o:"~="===n?-1<(" "+r.replace(H," ")+" ").indexOf(o):"|="===n&&(r===o||r.slice(0,o.length+1)===o+"-"))}},CHILD:function(e,t,n,o,a){var r="nth"!==e.slice(0,3),i="last"!==e.slice(-4),d="of-type"===t;return 1===o&&0===a?function(e){return!!e.parentNode}:function(t,n,s){var l=r===i?"previousSibling":"nextSibling",p=t.parentNode,c=d&&t.nodeName.toLowerCase(),u=!s&&!d,f=!1,g,h,m,y,x,b;if(p){if(r){for(;l;){for(y=t;y=y[l];)if(d?y.nodeName.toLowerCase()===c:1===y.nodeType)return!1;b=l="only"===e&&!b&&"nextSibling"}return!0}if(b=[i?p.firstChild:p.lastChild],i&&u){for(y=p,m=y[C]||(y[C]={}),h=m[y.uniqueID]||(m[y.uniqueID]={}),g=h[e]||[],x=g[0]===w&&g[1],f=x&&g[2],y=x&&p.childNodes[x];y=++x&&y&&y[l]||(f=x=0)||b.pop();)if(1===y.nodeType&&++f&&y===t){h[e]=[w,x,f];break}}else if(u&&(y=t,m=y[C]||(y[C]={}),h=m[y.uniqueID]||(m[y.uniqueID]={}),g=h[e]||[],x=g[0]===w&&g[1],f=x),!1===f)for(;(y=++x&&y&&y[l]||(f=x=0)||b.pop())&&!((d?y.nodeName.toLowerCase()===c:1===y.nodeType)&&++f&&(u&&(m=y[C]||(y[C]={}),h=m[y.uniqueID]||(m[y.uniqueID]={}),h[e]=[w,f]),y===t)););return f-=a,f===o||0===f%o&&0<=f/o}}},PSEUDO:function(e,n){var a=de.pseudos[e]||de.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e),r;return a[C]?a(n):1<a.length?(r=[e,e,"",n],de.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,t){for(var o=a(e,n),r=o.length,i;r--;)i=j(e,o[r]),e[i]=!(t[i]=o[r])}):function(e){return a(e,0,r)}):a}},pseudos:{not:o(function(e){var t=[],n=[],a=pe(e.replace(U,"$1"));return a[C]?o(function(e,t,n,o){for(var r=a(e,null,o,[]),d=e.length,i;d--;)(i=r[d])&&(e[d]=!(t[d]=i))}):function(e,o,r){return t[0]=e,a(t,null,r,n),t[0]=null,!n.pop()}}),has:o(function(e){return function(n){return 0<t(e,n).length}}),contains:o(function(e){return e=e.replace(Z,ee),function(t){return-1<(t.textContent||t.innerText||se(t)).indexOf(e)}}),lang:o(function(e){return V.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do if(n=xe?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===ye},focus:function(e){return e===me.activeElement&&(!me.hasFocus||me.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:p(!1),disabled:p(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!de.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var o=0>n?n+t:n;0<=--o;)e.push(o);return e}),gt:c(function(e,t,n){for(var o=0>n?n+t:n;++o<t;)e.push(o);return e})}},de.pseudos.nth=de.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})de.pseudos[re]=s(re);for(re in{submit:!0,reset:!0})de.pseudos[re]=l(re);return f.prototype=de.filters=de.pseudos,de.setFilters=new f,le=t.tokenize=function(e,n){var o=k[e+" "],a,r,i,d,s,l,p;if(o)return n?0:o.slice(0);for(s=e,l=[],p=de.preFilter;s;){for(d in(!a||(r=W.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),a=!1,(r=F.exec(s))&&(a=r.shift(),i.push({value:a,type:r[0].replace(U," ")}),s=s.slice(a.length)),de.filter)(r=$[d].exec(s))&&(!p[d]||(r=p[d](r)))&&(a=r.shift(),i.push({value:a,type:d,matches:r}),s=s.slice(a.length));if(!a)break}return n?s.length:s?t.error(e):k(e,l).slice(0)},pe=t.compile=function(e,t){var n=[],o=[],a=S[e+" "],r;if(!a){for(t||(t=le(e)),r=t.length;r--;)a=v(t[r]),a[C]?n.push(a):o.push(a);a=S(e,_(o,n)),a.selector=e}return a},ce=t.select=function(e,t,n,o){var a="function"===typeof e&&e,r=!o&&le(e=a.selector||e),d,i,s,l,p;if(n=n||[],1===r.length){if(i=r[0]=r[0].slice(0),2<i.length&&"ID"===(s=i[0]).type&&9===t.nodeType&&xe&&de.relative[i[1].type]){if(t=(de.find.ID(s.matches[0].replace(Z,ee),t)||[])[0],!t)return n;a&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(d=$.needsContext.test(e)?0:i.length;d--&&(s=i[d],!de.relative[l=s.type]);)if((p=de.find[l])&&(o=p(s.matches[0].replace(Z,ee),J.test(i[0].type)&&u(t.parentNode)||t))){if(i.splice(d,1),e=o.length&&g(i),!e)return P.apply(n,o),n;break}}return(a||pe(e,r))(o,t,!xe,n,!t||J.test(e)&&u(t.parentNode)||t),n},ie.sortStable=C.split("").sort(M).join("")===C,ie.detectDuplicates=!!ge,he(),ie.sortDetached=a(function(e){return 1&e.compareDocumentPosition(me.createElement("fieldset"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),ie.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||r(O,function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),t}(e);Te.find=Ee,Te.expr=Ee.selectors,Te.expr[":"]=Te.expr.pseudos,Te.uniqueSort=Te.unique=Ee.uniqueSort,Te.text=Ee.getText,Te.isXMLDoc=Ee.isXML,Te.contains=Ee.contains,Te.escapeSelector=Ee.escape;var De=function(e,t,n){for(var o=[];(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(void 0!==n&&Te(e).is(n))break;o.push(e)}return o},ke=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Se=Te.expr.match.needsContext,Me=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Te.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?Te.find.matchesSelector(o,e)?[o]:[]:Te.find.matches(e,Te.grep(t,function(e){return 1===e.nodeType}))},Te.fn.extend({find:function(e){var t=this.length,n=this,o,a;if("string"!==typeof e)return this.pushStack(Te(e).filter(function(){for(o=0;o<t;o++)if(Te.contains(n[o],this))return!0}));for(a=this.pushStack([]),o=0;o<t;o++)Te.find(e,n[o],a);return 1<t?Te.uniqueSort(a):a},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"===typeof e&&Se.test(e)?Te(e):e||[],!1).length}});var Ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ne=Te.fn.init=function(e,t,n){var o,a;if(!e)return this;if(n=n||Ie,"string"===typeof e){if(o="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:Ae.exec(e),o&&(o[1]||!t)){if(o[1]){if(t=t instanceof Te?t[0]:t,Te.merge(this,Te.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:de,!0)),Me.test(o[1])&&Te.isPlainObject(t))for(o in t)be(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return a=de.getElementById(o[2]),a&&(this[0]=a,this.length=1),this}return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}return e.nodeType?(this[0]=e,this.length=1,this):be(e)?void 0===n.ready?e(Te):n.ready(e):Te.makeArray(e,this)},Ie;Ne.prototype=Te.fn,Ie=Te(de);var Le=/^(?:parents|prev(?:Until|All))/,Pe={children:!0,contents:!0,next:!0,prev:!0};Te.fn.extend({has:function(e){var t=Te(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Te.contains(this,t[e]))return!0})},closest:function(e,t){var n=0,o=this.length,a=[],r="string"!==typeof e&&Te(e),i;if(!Se.test(e))for(;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(11>i.nodeType&&(r?-1<r.index(i):1===i.nodeType&&Te.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(1<a.length?Te.uniqueSort(a):a)},index:function(e){return e?"string"===typeof e?ue.call(Te(e),this[0]):ue.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Te.uniqueSort(Te.merge(this.get(),Te(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Te.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return De(e,"parentNode")},parentsUntil:function(e,t,n){return De(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return De(e,"nextSibling")},prevAll:function(e){return De(e,"previousSibling")},nextUntil:function(e,t,n){return De(e,"nextSibling",n)},prevUntil:function(e,t,n){return De(e,"previousSibling",n)},siblings:function(e){return ke((e.parentNode||{}).firstChild,e)},children:function(e){return ke(e.firstChild)},contents:function(e){return r(e,"iframe")?e.contentDocument:(r(e,"template")&&(e=e.content||e),Te.merge([],e.childNodes))}},function(e,t){Te.fn[e]=function(n,o){var a=Te.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"===typeof o&&(a=Te.filter(o,a)),1<this.length&&(!Pe[e]&&Te.uniqueSort(a),Le.test(e)&&a.reverse()),this.pushStack(a)}});var qe=/[^\x20\t\r\n\f]+/g;Te.Callbacks=function(e){e="string"===typeof e?s(e):Te.extend({},e);var t=[],n=[],a=-1,r=function(){for(c=c||e.once,p=d=!0;n.length;a=-1)for(l=n.shift();++a<t.length;)!1===t[a].apply(l[0],l[1])&&e.stopOnFalse&&(a=t.length,l=!1);e.memory||(l=!1),d=!1,c&&(l?t=[]:t="")},i={add:function(){return t&&(l&&!d&&(a=t.length-1,n.push(l)),function n(a){Te.each(a,function(a,r){be(r)?(!e.unique||!i.has(r))&&t.push(r):r&&r.length&&"string"!==o(r)&&n(r)})}(arguments),l&&!d&&r()),this},remove:function(){return Te.each(arguments,function(e,n){for(var o;-1<(o=Te.inArray(n,t,o));)t.splice(o,1),o<=a&&a--}),this},has:function(e){return e?-1<Te.inArray(e,t):0<t.length},empty:function(){return t&&(t=[]),this},disable:function(){return c=n=[],t=l="",this},disabled:function(){return!t},lock:function(){return c=n=[],l||d||(t=l=""),this},locked:function(){return!!c},fireWith:function(e,t){return c||(t=t||[],t=[e,t.slice?t.slice():t],n.push(t),!d&&r()),this},fire:function(){return i.fireWith(this,arguments),this},fired:function(){return!!p}},d,l,p,c;return i},Te.extend({Deferred:function(t){var n=[["notify","progress",Te.Callbacks("memory"),Te.Callbacks("memory"),2],["resolve","done",Te.Callbacks("once memory"),Te.Callbacks("once memory"),0,"resolved"],["reject","fail",Te.Callbacks("once memory"),Te.Callbacks("once memory"),1,"rejected"]],o="pending",a={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var e=arguments;return Te.Deferred(function(t){Te.each(n,function(n,o){var a=be(e[o[4]])&&e[o[4]];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&be(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[o[0]+"With"](this,a?[e]:arguments)})}),e=null}).promise()},then:function(t,o,a){function r(t,n,o,a){return function(){var d=this,s=arguments,c=function(){var e,c;if(!(t<i)){if(e=o.apply(d,s),e===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))||"function"===typeof e)&&e.then,be(c)?a?c.call(e,r(i,n,l,a),r(i,n,p,a)):(i++,c.call(e,r(i,n,l,a),r(i,n,p,a),r(i,n,l,n.notifyWith))):(o!==l&&(d=void 0,s=[e]),(a||n.resolveWith)(d,s))}},u=a?c:function(){try{c()}catch(a){Te.Deferred.exceptionHook&&Te.Deferred.exceptionHook(a,u.stackTrace),t+1>=i&&(o!==p&&(d=void 0,s=[a]),n.rejectWith(d,s))}};t?u():(Te.Deferred.getStackHook&&(u.stackTrace=Te.Deferred.getStackHook()),e.setTimeout(u))}}var i=0;return Te.Deferred(function(e){n[0][3].add(r(0,e,be(a)?a:l,e.notifyWith)),n[1][3].add(r(0,e,be(t)?t:l)),n[2][3].add(r(0,e,be(o)?o:p))}).promise()},promise:function(e){return null==e?a:Te.extend(e,a)}},r={};return Te.each(n,function(e,t){var i=t[2],d=t[5];a[t[1]]=i.add,d&&i.add(function(){o=d},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),i.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=i.fireWith}),a.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,n=t,o=Array(n),a=le.call(arguments),r=Te.Deferred(),i=function(e){return function(n){o[e]=this,a[e]=1<arguments.length?le.call(arguments):n,--t||r.resolveWith(o,a)}};if(1>=t&&(c(e,r.done(i(n)).resolve,r.reject,!t),"pending"===r.state()||be(a[n]&&a[n].then)))return r.then();for(;n--;)c(a[n],i(n),r.reject);return r.promise()}});var je=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Te.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&je.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},Te.readyException=function(t){e.setTimeout(function(){throw t})};var Oe=Te.Deferred();Te.fn.ready=function(e){return Oe.then(e)["catch"](function(e){Te.readyException(e)}),this},Te.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?! --Te.readyWait:!Te.isReady)&&(Te.isReady=!0,!0!==e&&0<--Te.readyWait||Oe.resolveWith(de,[Te]))}}),Te.ready.then=Oe.then,"complete"!==de.readyState&&("loading"===de.readyState||de.documentElement.doScroll)?(de.addEventListener("DOMContentLoaded",u),e.addEventListener("load",u)):e.setTimeout(Te.ready);var Re=function e(t,n,a,r,d,s,l){var p=0,i=t.length,c=null==a;if("object"===o(a))for(p in d=!0,a)e(t,n,p,a[p],!0,s,l);else if(void 0!==r&&(d=!0,be(r)||(l=!0),c&&(l?(n.call(t,r),n=null):(c=n,n=function(e,t,n){return c.call(Te(e),n)})),n))for(;p<i;p++)n(t[p],a,l?r:r.call(t[p],p,n(t[p],a)));return d?t:c?n.call(t):i?n(t[0],a):s},Be=/^-ms-/,He=/-([a-z])/g,Ue=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};h.uid=1,h.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ue(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o=this.cache(e),a;if("string"===typeof t)o[g(t)]=n;else for(a in t)o[g(a)]=t[a];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][g(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0===n?t:n)},remove:function(e,t){var n=e[this.expando],o;if(void 0!==n){if(void 0!==t)for(Array.isArray(t)?t=t.map(g):(t=g(t),t=(t in n)?[t]:t.match(qe)||[]),o=t.length;o--;)delete n[t[o]];(void 0===t||Te.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Te.isEmptyObject(t)}};var We=new h,Fe=new h,ze=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Xe=/[A-Z]/g;Te.extend({hasData:function(e){return Fe.hasData(e)||We.hasData(e)},data:function(e,t,n){return Fe.access(e,t,n)},removeData:function(e,t){Fe.remove(e,t)},_data:function(e,t,n){return We.access(e,t,n)},_removeData:function(e,t){We.remove(e,t)}}),Te.fn.extend({data:function(e,t){var n=this[0],o=n&&n.attributes,a,r,i;if(void 0===e){if(this.length&&(i=Fe.get(n),1===n.nodeType&&!We.get(n,"hasDataAttrs"))){for(a=o.length;a--;)o[a]&&(r=o[a].name,0===r.indexOf("data-")&&(r=g(r.slice(5)),y(n,r,i[r])));We.set(n,"hasDataAttrs",!0)}return i}return"object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))?this.each(function(){Fe.set(this,e)}):Re(this,function(t){var o;return n&&void 0===t?(o=Fe.get(n,e),void 0!==o)?o:(o=y(n,e),void 0===o?void 0:o):void this.each(function(){Fe.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Fe.remove(this,e)})}}),Te.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=We.get(e,t),n&&(!o||Array.isArray(n)?o=We.access(e,t,Te.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=Te.queue(e,t),o=n.length,a=n.shift(),r=Te._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),o--),a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,function(){Te.dequeue(e,t)},r)),!o&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return We.get(e,n)||We.access(e,n,{empty:Te.Callbacks("once memory").add(function(){We.remove(e,[t+"queue",n])})})}}),Te.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?Te.queue(this[0],e):void 0===t?this:this.each(function(){var n=Te.queue(this,e,t);Te._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Te.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Te.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n=1,o=Te.Deferred(),a=this,r=this.length,i=function(){--n||o.resolveWith(a,[a])},d;for("string"!==typeof e&&(t=e,e=void 0),e=e||"fx";r--;)d=We.get(a[r],e+"queueHooks"),d&&d.empty&&(n++,d.empty.add(i));return i(),o.promise(t)}});var Ve=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$e=new RegExp("^(?:([+-])=|)("+Ve+")([a-z%]*)$","i"),Qe=["Top","Right","Bottom","Left"],Ge=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Te.contains(e.ownerDocument,e)&&"none"===Te.css(e,"display")},Ye=function(e,t,n,o){var a={},r,i;for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in r=n.apply(e,o||[]),t)e.style[i]=a[i];return r},Ke={};Te.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each(function(){Ge(this)?Te(this).show():Te(this).hide()})}});var Je=/^(?:checkbox|radio)$/i,Ze=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,et=/^$|^module$|\/(?:java|ecma)script/i,tt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};tt.optgroup=tt.option,tt.tbody=tt.tfoot=tt.colgroup=tt.caption=tt.thead,tt.th=tt.td;var nt=/<|&#?\w+;/;(function(){var e=de.createDocumentFragment(),t=e.appendChild(de.createElement("div")),n=de.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),xe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",xe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var ot=de.documentElement,at=/^key/,rt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,it=/^([^.]*)(?:\.(.+)|)/;Te.event={global:{},add:function(n,e,o,a,r){var i=We.get(n),d,s,l,p,c,t,u,f,g,h,m;if(i)for(o.handler&&(d=o,o=d.handler,r=d.selector),r&&Te.find.matchesSelector(ot,r),o.guid||(o.guid=Te.guid++),(p=i.events)||(p=i.events={}),(s=i.handle)||(s=i.handle=function(t){return"undefined"!==typeof Te&&Te.event.triggered!==t.type?Te.event.dispatch.apply(n,arguments):void 0}),e=(e||"").match(qe)||[""],c=e.length;c--;)(l=it.exec(e[c])||[],g=m=l[1],h=(l[2]||"").split(".").sort(),!!g)&&(u=Te.event.special[g]||{},g=(r?u.delegateType:u.bindType)||g,u=Te.event.special[g]||{},t=Te.extend({type:g,origType:m,data:a,handler:o,guid:o.guid,selector:r,needsContext:r&&Te.expr.match.needsContext.test(r),namespace:h.join(".")},d),(f=p[g])||(f=p[g]=[],f.delegateCount=0,(!u.setup||!1===u.setup.call(n,a,h,s))&&n.addEventListener&&n.addEventListener(g,s)),u.add&&(u.add.call(n,t),!t.handler.guid&&(t.handler.guid=o.guid)),r?f.splice(f.delegateCount++,0,t):f.push(t),Te.event.global[g]=!0)},remove:function(e,n,o,a,r){var i=We.hasData(e)&&We.get(e),d,s,l,p,c,t,u,f,g,h,m;if(i&&(p=i.events)){for(n=(n||"").match(qe)||[""],c=n.length;c--;){if(l=it.exec(n[c])||[],g=m=l[1],h=(l[2]||"").split(".").sort(),!g){for(g in p)Te.event.remove(e,g+n[c],o,a,!0);continue}for(u=Te.event.special[g]||{},g=(a?u.delegateType:u.bindType)||g,f=p[g]||[],l=l[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=d=f.length;d--;)t=f[d],(r||m===t.origType)&&(!o||o.guid===t.guid)&&(!l||l.test(t.namespace))&&(!a||a===t.selector||"**"===a&&t.selector)&&(f.splice(d,1),t.selector&&f.delegateCount--,u.remove&&u.remove.call(e,t));s&&!f.length&&((!u.teardown||!1===u.teardown.call(e,h,i.handle))&&Te.removeEvent(e,g,i.handle),delete p[g])}Te.isEmptyObject(p)&&We.remove(e,"handle events")}},dispatch:function(e){var t=Te.event.fix(e),n=Array(arguments.length),o=(We.get(this,"events")||{})[t.type]||[],a=Te.event.special[t.type]||{},r,i,d,s,l,p;for(n[0]=t,r=1;r<arguments.length;r++)n[r]=arguments[r];if(t.delegateTarget=this,!(a.preDispatch&&!1===a.preDispatch.call(this,t))){for(p=Te.event.handlers.call(this,t,o),r=0;(s=p[r++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,i=0;(l=s.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(l.namespace))&&(t.handleObj=l,t.data=l.data,d=((Te.event.special[l.origType]||{}).handle||l.handler).apply(s.elem,n),void 0!==d&&!1===(t.result=d)&&(t.preventDefault(),t.stopPropagation()));return a.postDispatch&&a.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n=[],o=t.delegateCount,a=e.target,r,i,d,s,l;if(o&&a.nodeType&&!("click"===e.type&&1<=e.button))for(;a!==this;a=a.parentNode||this)if(1===a.nodeType&&("click"!==e.type||!0!==a.disabled)){for(s=[],l={},r=0;r<o;r++)i=t[r],d=i.selector+" ",void 0===l[d]&&(l[d]=i.needsContext?-1<Te(d,this).index(a):Te.find(d,this,null,[a]).length),l[d]&&s.push(i);s.length&&n.push({elem:a,handlers:s})}return a=this,o<t.length&&n.push({elem:a,handlers:t.slice(o)}),n},addProp:function(e,t){Object.defineProperty(Te.Event.prototype,e,{enumerable:!0,configurable:!0,get:be(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Te.expando]?e:new Te.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==D()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===D()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&r(this,"input"))return this.click(),!1},_default:function(e){return r(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Te.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Te.Event=function(e,t){return this instanceof Te.Event?void(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?w:E,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Te.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Te.expando]=!0):new Te.Event(e,t)},Te.Event.prototype={constructor:Te.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=w,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=w,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=w,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Te.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&at.test(e.type)?null==e.charCode?e.keyCode:e.charCode:!e.which&&void 0!==t&&rt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Te.event.addProp),Te.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Te.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n=this,o=e.relatedTarget,a=e.handleObj,r;return o&&(o===n||Te.contains(n,o))||(e.type=a.origType,r=a.handler.apply(this,arguments),e.type=t),r}}}),Te.fn.extend({on:function(e,t,n,o){return k(this,e,t,n,o)},one:function(e,t,n,o){return k(this,e,t,n,o,1)},off:function(e,t,n){var o,a;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,Te(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))){for(a in e)this.off(a,t,e[a]);return this}return(!1===t||"function"===typeof t)&&(n=t,t=void 0),!1===n&&(n=E),this.each(function(){Te.event.remove(this,e,n,t)})}});var dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,st=/<script|<style|<link/i,lt=/checked\s*(?:[^=]|=\s*.checked.)/i,pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Te.extend({htmlPrefilter:function(e){return e.replace(dt,"<$1></$2>")},clone:function(e,t,n){var o=e.cloneNode(!0),a=Te.contains(e.ownerDocument,e),r,i,d,s;if(!xe.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!Te.isXMLDoc(e))for(s=_(o),d=_(e),(r=0,i=d.length);r<i;r++)I(d[r],s[r]);if(t)if(n)for(d=d||_(e),s=s||_(o),(r=0,i=d.length);r<i;r++)N(d[r],s[r]);else N(e,o);return s=_(o,"script"),0<s.length&&C(s,!a&&_(e,"script")),o},cleanData:function(e){for(var t=Te.event.special,n=0,o,a,r;void 0!==(a=e[n]);n++)if(Ue(a)){if(o=a[We.expando]){if(o.events)for(r in o.events)t[r]?Te.event.remove(a,r):Te.removeEvent(a,r,o.handle);a[We.expando]=void 0}a[Fe.expando]&&(a[Fe.expando]=void 0)}}}),Te.fn.extend({detach:function(e){return P(this,e,!0)},remove:function(e){return P(this,e)},text:function(e){return Re(this,function(e){return void 0===e?Te.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return L(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.appendChild(e)}})},prepend:function(){return L(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return L(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return L(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e=0,t;null!=(t=this[e]);e++)1===t.nodeType&&(Te.cleanData(_(t,!1)),t.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Te.clone(this,e,t)})},html:function(e){return Re(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!st.test(e)&&!tt[(Ze.exec(e)||["",""])[1].toLowerCase()]){e=Te.htmlPrefilter(e);try{for(;n<o;n++)t=this[n]||{},1===t.nodeType&&(Te.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(t){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return L(this,arguments,function(t){var n=this.parentNode;0>Te.inArray(this,e)&&(Te.cleanData(_(this)),n&&n.replaceChild(t,this))},e)}}),Te.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Te.fn[e]=function(e){for(var n=[],o=Te(e),a=o.length-1,r=0,i;r<=a;r++)i=r===a?this:this.clone(!0),Te(o[r])[t](i),ce.apply(n,i.get());return this.pushStack(n)}});var ct=new RegExp("^("+Ve+")(?!px)[a-z%]+$","i"),ut=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ft=new RegExp(Qe.join("|"),"i");(function(){function t(){if(a){o.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",a.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(o).appendChild(a);var t=e.getComputedStyle(a);r="1%"!==t.top,l=12===n(t.marginLeft),a.style.right="60%",s=36===n(t.right),i=36===n(t.width),a.style.position="absolute",d=36===a.offsetWidth||"absolute",ot.removeChild(o),a=null}}function n(e){return Math.round(parseFloat(e))}var o=de.createElement("div"),a=de.createElement("div"),r,i,d,s,l;a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",xe.clearCloneStyle="content-box"===a.style.backgroundClip,Te.extend(xe,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),d}}))})();var gt=/^(none|table(?!-c[ea]).+)/,ht=/^--/,mt={position:"absolute",visibility:"hidden",display:"block"},yt={letterSpacing:"0",fontWeight:"400"},xt=["Webkit","Moz","ms"],bt=de.createElement("div").style;Te.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=q(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a=g(t),r=ht.test(t),i=e.style,d,s,l;if(r||(t=R(a)),l=Te.cssHooks[t]||Te.cssHooks[a],void 0!==n){if(s="undefined"===typeof n?"undefined":babelHelpers["typeof"](n),"string"===s&&(d=$e.exec(n))&&d[1]&&(n=x(e,t,d),s="number"),null==n||n!==n)return;"number"===s&&(n+=d&&d[3]||(Te.cssNumber[a]?"":"px")),xe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(i[t]="inherit"),l&&"set"in l&&void 0===(n=l.set(e,n,o))||(r?i.setProperty(t,n):i[t]=n)}else return l&&"get"in l&&void 0!==(d=l.get(e,!1,o))?d:i[t]}},css:function(e,t,n,o){var a=g(t),r=ht.test(t),i,d,s;return r||(t=R(a)),s=Te.cssHooks[t]||Te.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=q(e,t,o)),"normal"===i&&t in yt&&(i=yt[t]),""===n||n?(d=parseFloat(i),!0===n||isFinite(d)?d||0:i):i}}),Te.each(["height","width"],function(e,t){Te.cssHooks[t]={get:function(e,n,o){if(n)return!gt.test(Te.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?U(e,t,o):Ye(e,mt,function(){return U(e,t,o)})},set:function(e,n,o){var a=ut(e),r="border-box"===Te.css(e,"boxSizing",!1,a),i=o&&H(e,t,o,r,a),d;return r&&xe.scrollboxSize()===a.position&&(i-=ae(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-H(e,t,"border",!1,a)-0.5)),i&&(d=$e.exec(n))&&"px"!==(d[3]||"px")&&(e.style[t]=n,n=Te.css(e,t)),B(e,n,i)}}}),Te.cssHooks.marginLeft=j(xe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(q(e,"marginLeft"))||e.getBoundingClientRect().left-Ye(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Te.each({margin:"",padding:"",border:"Width"},function(e,t){Te.cssHooks[e+t]={expand:function(n){for(var o=0,a={},r="string"===typeof n?n.split(" "):[n];4>o;o++)a[e+Qe[o]+t]=r[o]||r[o-2]||r[0];return a}},"margin"!==e&&(Te.cssHooks[e+t].set=B)}),Te.fn.extend({css:function(e,t){return Re(this,function(e,t,n){var o={},a=0,r,i;if(Array.isArray(t)){for(r=ut(e),i=t.length;a<i;a++)o[t[a]]=Te.css(e,t[a],!1,r);return o}return void 0===n?Te.css(e,t):Te.style(e,t,n)},e,t,1<arguments.length)}}),Te.Tween=W,W.prototype={constructor:W,init:function(e,t,n,o,a,r){this.elem=e,this.prop=n,this.easing=a||Te.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=r||(Te.cssNumber[n]?"":"px")},cur:function(){var e=W.propHooks[this.prop];return e&&e.get?e.get(this):W.propHooks._default.get(this)},run:function(e){var t=W.propHooks[this.prop],n;return this.pos=this.options.duration?n=Te.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):n=e,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Te.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Te.fx.step[e.prop]?Te.fx.step[e.prop](e):1===e.elem.nodeType&&(null!=e.elem.style[Te.cssProps[e.prop]]||Te.cssHooks[e.prop])?Te.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Te.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2},_default:"swing"},Te.fx=W.prototype.init,Te.fx.step={};var vt=/^(?:toggle|show|hide)$/,_t=/queueHooks$/,Ct,Tt;Te.Animation=Te.extend(Q,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return x(n.elem,e,$e.exec(t),n),n}]},tweener:function(e,t){be(e)?(t=e,e=["*"]):e=e.match(qe);for(var n=0,o=e.length,a;n<o;n++)a=e[n],Q.tweeners[a]=Q.tweeners[a]||[],Q.tweeners[a].unshift(t)},prefilters:[function(e,t,n){var o=this,a={},r=e.style,i=e.nodeType&&Ge(e),d=We.get(e,"fxshow"),s,l,p,c,u,f,g,h;for(s in n.queue||(c=Te._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,u=c.empty.fire,c.empty.fire=function(){c.unqueued||u()}),c.unqueued++,o.always(function(){o.always(function(){c.unqueued--,Te.queue(e,"fx").length||c.empty.fire()})})),t)if(l=t[s],vt.test(l)){if(delete t[s],p=p||"toggle"===l,l===(i?"hide":"show"))if("show"===l&&d&&void 0!==d[s])i=!0;else continue;a[s]=d&&d[s]||Te.style(e,s)}if(f=!Te.isEmptyObject(t),f||!Te.isEmptyObject(a))for(s in("width"in t||"height"in t)&&1===e.nodeType&&(n.overflow=[r.overflow,r.overflowX,r.overflowY],g=d&&d.display,null==g&&(g=We.get(e,"display")),h=Te.css(e,"display"),"none"===h&&(g?h=g:(v([e],!0),g=e.style.display||g,h=Te.css(e,"display"),v([e]))),("inline"===h||"inline-block"===h&&null!=g)&&"none"===Te.css(e,"float")&&(!f&&(o.done(function(){r.display=g}),null==g&&(h=r.display,g="none"===h?"":h)),r.display="inline-block")),n.overflow&&(r.overflow="hidden",o.always(function(){r.overflow=n.overflow[0],r.overflowX=n.overflow[1],r.overflowY=n.overflow[2]})),f=!1,a)f||(d?"hidden"in d&&(i=d.hidden):d=We.access(e,"fxshow",{display:g}),p&&(d.hidden=!i),i&&v([e],!0),o.done(function(){for(s in i||v([e]),We.remove(e,"fxshow"),a)Te.style(e,s,a[s])})),f=V(i?d[s]:0,s,o),s in d||(d[s]=f.start,i&&(f.end=f.start,f.start=0))}],prefilter:function(e,t){t?Q.prefilters.unshift(e):Q.prefilters.push(e)}}),Te.speed=function(e,t,n){var o=e&&"object"===("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))?Te.extend({},e):{complete:n||!n&&t||be(e)&&e,duration:e,easing:n&&t||t&&!be(t)&&t};return Te.fx.off?o.duration=0:"number"!==typeof o.duration&&(o.duration in Te.fx.speeds?o.duration=Te.fx.speeds[o.duration]:o.duration=Te.fx.speeds._default),(null==o.queue||!0===o.queue)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){be(o.old)&&o.old.call(this),o.queue&&Te.dequeue(this,o.queue)},o},Te.fn.extend({fadeTo:function(e,t,n,o){return this.filter(Ge).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var a=Te.isEmptyObject(e),r=Te.speed(t,n,o),i=function(){var t=Q(this,Te.extend({},e),r);(a||We.get(this,"finish"))&&t.stop(!0)};return i.finish=i,a||!1===r.queue?this.each(i):this.queue(r.queue,i)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",r=Te.timers,i=We.get(this);if(a)i[a]&&i[a].stop&&o(i[a]);else for(a in i)i[a]&&i[a].stop&&_t.test(a)&&o(i[a]);for(a=r.length;a--;)r[a].elem===this&&(null==e||r[a].queue===e)&&(r[a].anim.stop(n),t=!1,r.splice(a,1));(t||!n)&&Te.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t=We.get(this),n=t[e+"queue"],o=t[e+"queueHooks"],a=Te.timers,r=n?n.length:0,i;for(t.finish=!0,Te.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),i=a.length;i--;)a[i].elem===this&&a[i].queue===e&&(a[i].anim.stop(!0),a.splice(i,1));for(i=0;i<r;i++)n[i]&&n[i].finish&&n[i].finish.call(this);delete t.finish})}}),Te.each(["toggle","show","hide"],function(e,t){var n=Te.fn[t];Te.fn[t]=function(e,o,a){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(X(t,!0),e,o,a)}}),Te.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Te.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}}),Te.timers=[],Te.fx.tick=function(){var e=0,t=Te.timers,n;for(Ct=Date.now();e<t.length;e++)n=t[e],n()||t[e]!==n||t.splice(e--,1);t.length||Te.fx.stop(),Ct=void 0},Te.fx.timer=function(e){Te.timers.push(e),Te.fx.start()},Te.fx.interval=13,Te.fx.start=function(){Tt||(Tt=!0,F())},Te.fx.stop=function(){Tt=null},Te.fx.speeds={slow:600,fast:200,_default:400},Te.fn.delay=function(t,n){return t=Te.fx?Te.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,o){var a=e.setTimeout(n,t);o.stop=function(){e.clearTimeout(a)}})},function(){var e=de.createElement("input"),t=de.createElement("select"),n=t.appendChild(de.createElement("option"));e.type="checkbox",xe.checkOn=""!==e.value,xe.optSelected=n.selected,e=de.createElement("input"),e.value="t",e.type="radio",xe.radioValue="t"===e.value}();var wt=Te.expr.attrHandle,Et;Te.fn.extend({attr:function(e,t){return Re(this,Te.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){Te.removeAttr(this,e)})}}),Te.extend({attr:function(e,t,n){var o=e.nodeType,a,r;if(3!==o&&8!==o&&2!==o)return"undefined"===typeof e.getAttribute?Te.prop(e,t,n):(1===o&&Te.isXMLDoc(e)||(r=Te.attrHooks[t.toLowerCase()]||(Te.expr.match.bool.test(t)?Et:void 0)),void 0!==n)?null===n?void Te.removeAttr(e,t):r&&"set"in r&&void 0!==(a=r.set(e,n,t))?a:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(a=r.get(e,t))?a:(a=Te.find.attr(e,t),null==a?void 0:a)},attrHooks:{type:{set:function(e,t){if(!xe.radioValue&&"radio"===t&&r(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n=0,o=t&&t.match(qe),a;if(o&&1===e.nodeType)for(;a=o[n++];)e.removeAttribute(a)}}),Et={set:function(e,t,n){return!1===t?Te.removeAttr(e,n):e.setAttribute(n,n),n}},Te.each(Te.expr.match.bool.source.match(/\w+/g),function(e,t){var n=wt[t]||Te.find.attr;wt[t]=function(e,t,o){var a=t.toLowerCase(),r,i;return o||(i=wt[a],wt[a]=r,r=null==n(e,t,o)?null:a,wt[a]=i),r}});var Dt=/^(?:input|select|textarea|button)$/i,kt=/^(?:a|area)$/i;Te.fn.extend({prop:function(e,t){return Re(this,Te.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[Te.propFix[e]||e]})}}),Te.extend({prop:function(e,t,n){var o=e.nodeType,a,r;if(3!==o&&8!==o&&2!==o)return 1===o&&Te.isXMLDoc(e)||(t=Te.propFix[t]||t,r=Te.propHooks[t]),void 0===n?r&&"get"in r&&null!==(a=r.get(e,t))?a:e[t]:r&&"set"in r&&void 0!==(a=r.set(e,n,t))?a:e[t]=n},propHooks:{tabIndex:{get:function(e){var t=Te.find.attr(e,"tabindex");return t?parseInt(t,10):Dt.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),xe.optSelected||(Te.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Te.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Te.propFix[this.toLowerCase()]=this}),Te.fn.extend({addClass:function(e){var t=0,n,o,a,r,i,d,s;if(be(e))return this.each(function(t){Te(this).addClass(e.call(this,t,Y(this)))});if(n=K(e),n.length)for(;o=this[t++];)if(r=Y(o),a=1===o.nodeType&&" "+G(r)+" ",a){for(d=0;i=n[d++];)0>a.indexOf(" "+i+" ")&&(a+=i+" ");s=G(a),r!==s&&o.setAttribute("class",s)}return this},removeClass:function(e){var t=0,n,o,a,r,i,d,s;if(be(e))return this.each(function(t){Te(this).removeClass(e.call(this,t,Y(this)))});if(!arguments.length)return this.attr("class","");if(n=K(e),n.length)for(;o=this[t++];)if(r=Y(o),a=1===o.nodeType&&" "+G(r)+" ",a){for(d=0;i=n[d++];)for(;-1<a.indexOf(" "+i+" ");)a=a.replace(" "+i+" "," ");s=G(a),r!==s&&o.setAttribute("class",s)}return this},toggleClass:function(e,t){var n="undefined"===typeof e?"undefined":babelHelpers["typeof"](e),o="string"===n||Array.isArray(e);return"boolean"===typeof t&&o?t?this.addClass(e):this.removeClass(e):be(e)?this.each(function(n){Te(this).toggleClass(e.call(this,n,Y(this),t),t)}):this.each(function(){var t,a,r,i;if(o)for(a=0,r=Te(this),i=K(e);t=i[a++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(void 0===e||"boolean"===n)&&(t=Y(this),t&&We.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":We.get(this,"__className__")||""))})},hasClass:function(e){var t=0,n,o;for(n=" "+e+" ";o=this[t++];)if(1===o.nodeType&&-1<(" "+G(Y(o))+" ").indexOf(n))return!0;return!1}});var St=/\r/g;Te.fn.extend({val:function(e){var t=this[0],n,o,a;return arguments.length?(a=be(e),this.each(function(t){var o;1!==this.nodeType||(o=a?e.call(this,t,Te(this).val()):e,null==o?o="":"number"===typeof o?o+="":Array.isArray(o)&&(o=Te.map(o,function(e){return null==e?"":e+""})),n=Te.valHooks[this.type]||Te.valHooks[this.nodeName.toLowerCase()],(!n||!("set"in n)||void 0===n.set(this,o,"value"))&&(this.value=o))})):t?(n=Te.valHooks[t.type]||Te.valHooks[t.nodeName.toLowerCase()],n&&"get"in n&&void 0!==(o=n.get(t,"value")))?o:(o=t.value,"string"===typeof o?o.replace(St,""):null==o?"":o):void 0}}),Te.extend({valHooks:{option:{get:function(e){var t=Te.find.attr(e,"value");return null==t?G(Te.text(e)):t}},select:{get:function(e){var t=e.options,n=e.selectedIndex,o="select-one"===e.type,a=o?null:[],d=o?n+1:t.length,s,l,p;for(p=0>n?d:o?n:0;p<d;p++)if(l=t[p],(l.selected||p===n)&&!l.disabled&&(!l.parentNode.disabled||!r(l.parentNode,"optgroup"))){if(s=Te(l).val(),o)return s;a.push(s)}return a},set:function(e,t){for(var n=e.options,o=Te.makeArray(t),a=n.length,r,i;a--;)i=n[a],(i.selected=-1<Te.inArray(Te.valHooks.option.get(i),o))&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),Te.each(["radio","checkbox"],function(){Te.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<Te.inArray(Te(e).val(),t)}},xe.checkOn||(Te.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),xe.focusin="onfocusin"in e;var Mt=/^(?:focusinfocus|focusoutblur)$/,At=function(t){t.stopPropagation()};Te.extend(Te.event,{trigger:function(t,n,o,a){var r=[o||de],d=he.call(t,"type")?t.type:t,s=he.call(t,"namespace")?t.namespace.split("."):[],l,i,p,c,u,f,g,h;if((i=h=p=o=o||de,3!==o.nodeType&&8!==o.nodeType)&&!Mt.test(d+Te.event.triggered)&&(-1<d.indexOf(".")&&(s=d.split("."),d=s.shift(),s.sort()),u=0>d.indexOf(":")&&"on"+d,t=t[Te.expando]?t:new Te.Event(d,"object"===("undefined"===typeof t?"undefined":babelHelpers["typeof"](t))&&t),t.isTrigger=a?2:3,t.namespace=s.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+s.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:Te.makeArray(n,[t]),g=Te.event.special[d]||{},a||!g.trigger||!1!==g.trigger.apply(o,n))){if(!a&&!g.noBubble&&!ve(o)){for(c=g.delegateType||d,Mt.test(c+d)||(i=i.parentNode);i;i=i.parentNode)r.push(i),p=i;p===(o.ownerDocument||de)&&r.push(p.defaultView||p.parentWindow||e)}for(l=0;(i=r[l++])&&!t.isPropagationStopped();)h=i,t.type=1<l?c:g.bindType||d,f=(We.get(i,"events")||{})[t.type]&&We.get(i,"handle"),f&&f.apply(i,n),f=u&&i[u],f&&f.apply&&Ue(i)&&(t.result=f.apply(i,n),!1===t.result&&t.preventDefault());return t.type=d,a||t.isDefaultPrevented()||g._default&&!1!==g._default.apply(r.pop(),n)||!Ue(o)||!u||!be(o[d])||ve(o)||(p=o[u],p&&(o[u]=null),Te.event.triggered=d,t.isPropagationStopped()&&h.addEventListener(d,At),o[d](),t.isPropagationStopped()&&h.removeEventListener(d,At),Te.event.triggered=void 0,p&&(o[u]=p)),t.result}},simulate:function(t,n,o){var a=Te.extend(new Te.Event,o,{type:t,isSimulated:!0});Te.event.trigger(a,null,n)}}),Te.fn.extend({trigger:function(e,t){return this.each(function(){Te.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Te.event.trigger(e,t,n,!0)}}),xe.focusin||Te.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Te.event.simulate(t,e.target,Te.event.fix(e))};Te.event.special[t]={setup:function(){var o=this.ownerDocument||this,a=We.access(o,t);a||o.addEventListener(e,n,!0),We.access(o,t,(a||0)+1)},teardown:function(){var o=this.ownerDocument||this,a=We.access(o,t)-1;a?We.access(o,t,a):(o.removeEventListener(e,n,!0),We.remove(o,t))}}});var Nt=e.location,It=Date.now(),Lt=/\?/;Te.parseXML=function(t){var n;if(!t||"string"!==typeof t)return null;try{n=new e.DOMParser().parseFromString(t,"text/xml")}catch(t){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&Te.error("Invalid XML: "+t),n};var Pt=/\[\]$/,qt=/\r?\n/g,jt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;Te.param=function(e,t){var n=[],o=function(e,t){var o=be(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==o?"":o)},a;if(Array.isArray(e)||e.jquery&&!Te.isPlainObject(e))Te.each(e,function(){o(this.name,this.value)});else for(a in e)J(a,e[a],t,o);return n.join("&")},Te.fn.extend({serialize:function(){return Te.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Te.prop(this,"elements");return e?Te.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Te(this).is(":disabled")&&Ot.test(this.nodeName)&&!jt.test(e)&&(this.checked||!Je.test(e))}).map(function(e,t){var n=Te(this).val();return null==n?null:Array.isArray(n)?Te.map(n,function(e){return{name:t.name,value:e.replace(qt,"\r\n")}}):{name:t.name,value:n.replace(qt,"\r\n")}}).get()}});var Rt=/%20/g,Bt=/#.*$/,Ht=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/mg,Wt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ft=/^(?:GET|HEAD)$/,zt=/^\/\//,Xt={},Vt={},$t="*/".concat("*"),Qt=de.createElement("a");Qt.href=Nt.href,Te.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt.href,type:"GET",isLocal:Wt.test(Nt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Te.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?te(te(e,Te.ajaxSettings),t):te(Te.ajaxSettings,e)},ajaxPrefilter:Z(Xt),ajaxTransport:Z(Vt),ajax:function(t,n){function o(t,n,o,i){var c=n,u,f,x,v,T;_||(_=!0,b&&e.clearTimeout(b),h=void 0,y=i||"",g.readyState=0<t?4:0,u=200<=t&&300>t||304===t,o&&(v=ne(a,g,o)),v=oe(a,v,g,u),u?(a.ifModified&&(T=g.getResponseHeader("Last-Modified"),T&&(Te.lastModified[m]=T),T=g.getResponseHeader("etag"),T&&(Te.etag[m]=T)),204===t||"HEAD"===a.type?c="nocontent":304===t?c="notmodified":(c=v.state,f=v.data,x=v.error,u=!x)):(x=c,(t||!c)&&(c="error",0>t&&(t=0))),g.status=t,g.statusText=(n||c)+"",u?s.resolveWith(r,[f,c,g]):s.rejectWith(r,[g,c,x]),g.statusCode(p),p=void 0,C&&d.trigger(u?"ajaxSuccess":"ajaxError",[g,a,u?f:x]),l.fireWith(r,[g,c]),C&&(d.trigger("ajaxComplete",[g,a]),! --Te.active&&Te.event.trigger("ajaxStop")))}"object"===("undefined"===typeof t?"undefined":babelHelpers["typeof"](t))&&(n=t,t=void 0),n=n||{};var a=Te.ajaxSetup({},n),r=a.context||a,d=a.context&&(r.nodeType||r.jquery)?Te(r):Te.event,s=Te.Deferred(),l=Te.Callbacks("once memory"),p=a.statusCode||{},c={},u={},f="canceled",g={readyState:0,getResponseHeader:function(e){var t;if(_){if(!x)for(x={};t=Ut.exec(y);)x[t[1].toLowerCase()]=t[2];t=x[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return _?y:null},setRequestHeader:function(e,t){return null==_&&(e=u[e.toLowerCase()]=u[e.toLowerCase()]||e,c[e]=t),this},overrideMimeType:function(e){return null==_&&(a.mimeType=e),this},statusCode:function(e){if(e)if(_)g.always(e[g.status]);else for(var t in e)p[t]=[p[t],e[t]];return this},abort:function(e){var t=e||f;return h&&h.abort(t),o(0,t),this}},h,m,y,x,b,v,_,C,T,i;if(s.promise(g),a.url=((t||a.url||Nt.href)+"").replace(zt,Nt.protocol+"//"),a.type=n.method||n.type||a.method||a.type,a.dataTypes=(a.dataType||"*").toLowerCase().match(qe)||[""],null==a.crossDomain){v=de.createElement("a");try{v.href=a.url,v.href=v.href,a.crossDomain=Qt.protocol+"//"+Qt.host!==v.protocol+"//"+v.host}catch(t){a.crossDomain=!0}}if(a.data&&a.processData&&"string"!==typeof a.data&&(a.data=Te.param(a.data,a.traditional)),ee(Xt,a,n,g),_)return g;for(T in C=Te.event&&a.global,C&&0===Te.active++&&Te.event.trigger("ajaxStart"),a.type=a.type.toUpperCase(),a.hasContent=!Ft.test(a.type),m=a.url.replace(Bt,""),a.hasContent?a.data&&a.processData&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&(a.data=a.data.replace(Rt,"+")):(i=a.url.slice(m.length),a.data&&(a.processData||"string"===typeof a.data)&&(m+=(Lt.test(m)?"&":"?")+a.data,delete a.data),!1===a.cache&&(m=m.replace(Ht,"$1"),i=(Lt.test(m)?"&":"?")+"_="+It++ +i),a.url=m+i),a.ifModified&&(Te.lastModified[m]&&g.setRequestHeader("If-Modified-Since",Te.lastModified[m]),Te.etag[m]&&g.setRequestHeader("If-None-Match",Te.etag[m])),(a.data&&a.hasContent&&!1!==a.contentType||n.contentType)&&g.setRequestHeader("Content-Type",a.contentType),g.setRequestHeader("Accept",a.dataTypes[0]&&a.accepts[a.dataTypes[0]]?a.accepts[a.dataTypes[0]]+("*"===a.dataTypes[0]?"":", "+$t+"; q=0.01"):a.accepts["*"]),a.headers)g.setRequestHeader(T,a.headers[T]);if(a.beforeSend&&(!1===a.beforeSend.call(r,g,a)||_))return g.abort();if(f="abort",l.add(a.complete),g.done(a.success),g.fail(a.error),h=ee(Vt,a,n,g),!h)o(-1,"No Transport");else{if(g.readyState=1,C&&d.trigger("ajaxSend",[g,a]),_)return g;a.async&&0<a.timeout&&(b=e.setTimeout(function(){g.abort("timeout")},a.timeout));try{_=!1,h.send(c,o)}catch(t){if(_)throw t;o(-1,t)}}return g},getJSON:function(e,t,n){return Te.get(e,t,n,"json")},getScript:function(e,t){return Te.get(e,void 0,t,"script")}}),Te.each(["get","post"],function(e,t){Te[t]=function(e,n,o,a){return be(n)&&(a=a||o,o=n,n=void 0),Te.ajax(Te.extend({url:e,type:t,dataType:a,data:n,success:o},Te.isPlainObject(e)&&e))}}),Te._evalUrl=function(e){return Te.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},Te.fn.extend({wrapAll:function(e){var t;return this[0]&&(be(e)&&(e=e.call(this[0])),t=Te(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return be(e)?this.each(function(t){Te(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Te(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=be(e);return this.each(function(n){Te(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Te(this).replaceWith(this.childNodes)}),this}}),Te.expr.pseudos.hidden=function(e){return!Te.expr.pseudos.visible(e)},Te.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Te.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Gt={0:200,1223:204},Yt=Te.ajaxSettings.xhr();xe.cors=!!Yt&&"withCredentials"in Yt,xe.ajax=Yt=!!Yt,Te.ajaxTransport(function(t){var n,o;if(xe.cors||Yt&&!t.crossDomain)return{send:function(a,r){var d=t.xhr(),s;if(d.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)d[s]=t.xhrFields[s];for(s in t.mimeType&&d.overrideMimeType&&d.overrideMimeType(t.mimeType),t.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)d.setRequestHeader(s,a[s]);n=function(e){return function(){n&&(n=o=d.onload=d.onerror=d.onabort=d.ontimeout=d.onreadystatechange=null,"abort"===e?d.abort():"error"===e?"number"===typeof d.status?r(d.status,d.statusText):r(0,"error"):r(Gt[d.status]||d.status,d.statusText,"text"!==(d.responseType||"text")||"string"!==typeof d.responseText?{binary:d.response}:{text:d.responseText},d.getAllResponseHeaders()))}},d.onload=n(),o=d.onerror=d.ontimeout=n("error"),void 0===d.onabort?d.onreadystatechange=function(){4===d.readyState&&e.setTimeout(function(){n&&o()})}:d.onabort=o,n=n("abort");try{d.send(t.hasContent&&t.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),Te.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Te.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Te.globalEval(e),e}}}),Te.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Te.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(o,a){t=Te("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),de.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Kt=[],Jt=/(=)\?(?=&|$)|\?\?/;Te.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||Te.expando+"_"+It++;return this[e]=!0,e}}),Te.ajaxPrefilter("json jsonp",function(t,n,o){var a=!1!==t.jsonp&&(Jt.test(t.url)?"url":"string"===typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(t.data)&&"data"),r,i,d;if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=be(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Jt,"$1"+r):!1!==t.jsonp&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return d||Te.error(r+" was not called"),d[0]},t.dataTypes[0]="json",i=e[r],e[r]=function(){d=arguments},o.always(function(){void 0===i?Te(e).removeProp(r):e[r]=i,t[r]&&(t.jsonpCallback=n.jsonpCallback,Kt.push(r)),d&&be(i)&&i(d[0]),d=i=void 0}),"script"}),xe.createHTMLDocument=function(){var e=de.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Te.parseHTML=function(e,t,n){if("string"!==typeof e)return[];"boolean"===typeof t&&(n=t,t=!1);var o,a,r;return(t||(xe.createHTMLDocument?(t=de.implementation.createHTMLDocument(""),o=t.createElement("base"),o.href=de.location.href,t.head.appendChild(o)):t=de),a=Me.exec(e),r=!n&&[],a)?[t.createElement(a[1])]:(a=T([e],t,r),r&&r.length&&Te(r).remove(),Te.merge([],a.childNodes))},Te.fn.load=function(e,t,n){var o=this,a=e.indexOf(" "),r,i,d;return-1<a&&(r=G(e.slice(a)),e=e.slice(0,a)),be(t)?(n=t,t=void 0):t&&"object"===("undefined"===typeof t?"undefined":babelHelpers["typeof"](t))&&(i="POST"),0<o.length&&Te.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){d=arguments,o.html(r?Te("<div>").append(Te.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,d||[e.responseText,t,e])})}),this},Te.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Te.fn[t]=function(e){return this.on(t,e)}}),Te.expr.pseudos.animated=function(e){return Te.grep(Te.timers,function(t){return e===t.elem}).length},Te.offset={setOffset:function(e,t,n){var o=Te.css(e,"position"),a=Te(e),r={},i,d,s,l,p,c,u;"static"===o&&(e.style.position="relative"),p=a.offset(),s=Te.css(e,"top"),c=Te.css(e,"left"),u=("absolute"===o||"fixed"===o)&&-1<(s+c).indexOf("auto"),u?(i=a.position(),l=i.top,d=i.left):(l=parseFloat(s)||0,d=parseFloat(c)||0),be(t)&&(t=t.call(e,n,Te.extend({},p))),null!=t.top&&(r.top=t.top-p.top+l),null!=t.left&&(r.left=t.left-p.left+d),"using"in t?t.using.call(e,r):a.css(r)}},Te.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Te.offset.setOffset(this,e,t)});var t=this[0],n,o;if(t)return t.getClientRects().length?(n=t.getBoundingClientRect(),o=t.ownerDocument.defaultView,{top:n.top+o.pageYOffset,left:n.left+o.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e=this[0],t={top:0,left:0},n,o,a;if("fixed"===Te.css(e,"position"))o=e.getBoundingClientRect();else{for(o=this.offset(),a=e.ownerDocument,n=e.offsetParent||a.documentElement;n&&(n===a.body||n===a.documentElement)&&"static"===Te.css(n,"position");)n=n.parentNode;n&&n!==e&&1===n.nodeType&&(t=Te(n).offset(),t.top+=Te.css(n,"borderTopWidth",!0),t.left+=Te.css(n,"borderLeftWidth",!0))}return{top:o.top-t.top-Te.css(e,"marginTop",!0),left:o.left-t.left-Te.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Te.css(e,"position");)e=e.offsetParent;return e||ot})}}),Te.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Te.fn[e]=function(o){return Re(this,function(e,o,a){var r;return ve(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===a?r?r[t]:e[o]:void(r?r.scrollTo(n?r.pageXOffset:a,n?a:r.pageYOffset):e[o]=a)},e,o,arguments.length)}}),Te.each(["top","left"],function(e,t){Te.cssHooks[t]=j(xe.pixelPosition,function(e,n){if(n)return n=q(e,t),ct.test(n)?Te(e).position()[t]+"px":n})}),Te.each({Height:"height",Width:"width"},function(e,t){Te.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,o){Te.fn[o]=function(a,r){var i=arguments.length&&(n||"boolean"!==typeof a),d=n||(!0===a||!0===r?"margin":"border");return Re(this,function(t,n,a){var r;return ve(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,re(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===a?Te.css(t,n,d):Te.style(t,n,a,d)},t,i?a:void 0,i)}})}),Te.each(["blur","focus","focusin","focusout","resize","scroll","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","change","select","submit","keydown","keypress","keyup","contextmenu"],function(e,t){Te.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}),Te.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Te.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),Te.proxy=function(e,t){var n,o,a;if("string"===typeof t&&(n=e[t],t=e,e=n),!!be(e))return o=le.call(arguments,2),a=function(){return e.apply(t||this,o.concat(le.call(arguments)))},a.guid=e.guid=e.guid||Te.guid++,a},Te.holdReady=function(e){e?Te.readyWait++:Te.ready(!0)},Te.isArray=Array.isArray,Te.parseJSON=JSON.parse,Te.nodeName=r,Te.isFunction=be,Te.isWindow=ve,Te.camelCase=g,Te.type=o,Te.now=Date.now,Te.isNumeric=function(e){var t=Te.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"===typeof define&&define.amd&&define("jquery",[],function(){return Te});var Zt=e.jQuery,en=e.$;return Te.noConflict=function(t){return e.$===Te&&(e.$=en),t&&e.jQuery===Te&&(e.jQuery=Zt),Te},t||(e.jQuery=e.$=Te),Te}),function(t){t(jQuery)}(function(d){var n=Math.PI,p=Math.round,o="ui-effects-",t=d;d.effects={effect:{}},function(g,m){function y(n,o,t){var a=C[o.type]||{};return null==n?t||!o.def?null:o.def:(n=a.floor?~~n:parseFloat(n),isNaN(n)?o.def:a.mod?(n+a.mod)%a.mod:0>n?0:n>a.max?a.max:n)}function e(d){var i=v(),p=i._rgba=[];return d=d.toLowerCase(),l(t,function(t,e){var n=e.re.exec(d),a=n&&e.parse(n),r=e.space||"rgba",s;return a?(s=i[r](a),i[_[r].cache]=s[_[r].cache],p=i._rgba=s._rgba,!1):m}),p.length?("0,0,0,0"===p.join()&&g.extend(p,u.transparent),i):u[d]}function x(n,e,t){return t=(t+1)%1,1>6*t?n+6*(e-n)*t:1>2*t?e:2>3*t?n+6*(e-n)*(2/3-t):n}var b=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],v=g.Color=function(e,t,o,a){return new g.Color.fn.parse(e,t,o,a)},_={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},C={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=v.support={},n=g("<p>")[0],l=g.each,u;n.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=-1<n.style.backgroundColor.indexOf("rgba"),l(_,function(n,e){e.cache="_"+n,e.props.alpha={idx:3,type:"percent",def:1}}),v.fn=g.extend(v.prototype,{parse:function(i,t,n,o){if(i===m)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=g(i).css(t),t=m);var r=this,a=g.type(i),d=this._rgba=[];return t!==m&&(i=[i,t,n,o],a="array"),"string"===a?this.parse(e(i)||u._default):"array"===a?(l(_.rgba.props,function(n,e){d[e.idx]=y(i[e.idx],e)}),this):"object"===a?(i instanceof v?l(_,function(n,e){i[e.cache]&&(r[e.cache]=i[e.cache].slice())}):l(_,function(e,n){var o=n.cache;l(n.props,function(a,e){if(!r[o]&&n.to){if("alpha"===a||null==i[a])return;r[o]=n.to(r._rgba)}r[o][e.idx]=y(i[a],e,!0)}),r[o]&&0>g.inArray(null,r[o].slice(0,3))&&(r[o][3]=1,n.from&&(r._rgba=n.from(r[o])))}),this):m},is:function(t){var d=v(t),p=!0,i=this;return l(_,function(t,e){var n=d[e.cache],a;return n&&(a=i[e.cache]||e.to&&e.to(i._rgba)||[],l(e.props,function(t,e){return null==n[e.idx]?m:p=n[e.idx]===a[e.idx]})),p}),p},_space:function(){var n=[],e=this;return l(_,function(t,o){e[o.cache]&&n.push(t)}),n.pop()},transition:function(i,d){var t=v(i),e=t._space(),n=_[e],a=0===this.alpha()?v("transparent"):this,s=a[n.cache]||n.to(a._rgba),r=s.slice();return t=t[n.cache],l(n.props,function(i,e){var n=e.idx,a=s[n],o=t[n],l=C[e.type]||{};null!==o&&(null===a?r[n]=o:(l.mod&&(o-a>l.mod/2?a+=l.mod:a-o>l.mod/2&&(a-=l.mod)),r[n]=y((o-a)*d+a,e)))}),this[e](r)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),o=t.pop(),a=v(e)._rgba;return v(g.map(t,function(n,e){return(1-o)*a[e]+o*n}))},toRgbaString:function(){var e="rgba(",t=g.map(this._rgba,function(n,e){return null==n?2<e?1:0:n});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=g.map(this.hsla(),function(n,e){return null==n&&(n=2<e?1:0),e&&3>e&&(n=p(100*n)+"%"),n});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+g.map(t,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),v.fn.parse.prototype=v.fn,_.hsla.to=function(c){if(null==c[0]||null==c[1]||null==c[2])return[null,null,null,c[3]];var e=c[0]/255,s=c[1]/255,n=c[2]/255,a=c[3],o=Math.max(e,s,n),r=Math.min(e,s,n),f=o-r,l=o+r,u=.5*l,d,t;return d=r===o?0:e===o?60*(s-n)/f+360:s===o?60*(n-e)/f+120:60*(e-s)/f+240,t=0===f?0:.5>=u?f/l:f/(2-l),[p(d)%360,t,u,null==a?1:a]},_.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var e=n[0]/360,t=n[1],i=n[2],d=n[3],a=.5>=i?i*(1+t):i+t-i*t,o=2*i-a;return[p(255*x(o,a,e+1/3)),p(255*x(o,a,e)),p(255*x(o,a,e-1/3)),d]},l(_,function(e,t){var i=t.props,a=t.cache,o=t.to,p=t.from;v.fn[e]=function(e){if(o&&!this[a]&&(this[a]=o(this._rgba)),e===m)return this[a].slice();var u=g.type(e),r="array"===u||"object"===u?e:arguments,d=this[a].slice(),t;return l(i,function(n,e){var t=r["object"===u?n:e.idx];null==t&&(t=d[e.idx]),d[e.idx]=y(t,e)}),p?(t=v(p(d)),t[a]=d,t):v(d)},l(i,function(r,t){v.fn[r]||(v.fn[r]=function(i){var n=g.type(i),o="alpha"===r?this._hsla?"hsla":"rgba":e,d=this[o](),s=d[t.idx],l;return"undefined"===n?s:("function"===n&&(i=i.call(this,s),n=g.type(i)),null==i&&t.empty?this:("string"===n&&(l=b.exec(i),l&&(i=s+parseFloat(l[2])*("+"===l[1]?1:-1))),d[t.idx]=i,this[o](d)))})})}),v.hook=function(n){var t=n.split(" ");l(t,function(n,a){g.cssHooks[a]={set:function(i,t){var n="",r,s;if("transparent"!==t&&("string"!==g.type(t)||(r=e(t)))){if(t=v(r||t),!d.rgba&&1!==t._rgba[3]){for(s="backgroundColor"===a?i.parentNode:i;(""===n||"transparent"===n)&&s&&s.style;)try{n=g.css(s,"backgroundColor"),s=s.parentNode}catch(e){}t=t.blend(n&&"transparent"!==n?n:"_default")}t=t.toRgbaString()}try{i.style[a]=t}catch(e){}}},g.fx.step[a]=function(e){e.colorInit||(e.start=v(e.elem,a),e.end=v(e.end),e.colorInit=!0),g.cssHooks[a].set(e.elem,e.start.transition(e.end,e.pos))}})},v.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),g.cssHooks.borderColor={expand:function(n){var e={};return l(["Top","Right","Bottom","Left"],function(t,o){e["border"+o+"Color"]=n}),e}},u=g.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(t),function(){function e(e){var o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,n={},a,r;if(o&&o.length&&o[0]&&o[o[0]])for(r=o.length;r--;)a=o[r],"string"==typeof o[a]&&(n[d.camelCase(a)]=o[a]);else for(a in o)"string"==typeof o[a]&&(n[a]=o[a]);return n}function o(e,t){var a={},o,r;for(o in t)r=t[o],e[o]!==r&&(l[o]||(d.fx.step[o]||!isNaN(parseFloat(r)))&&(a[o]=r));return a}var r=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};d.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){d.fx.step[n]=function(o){("none"===o.end||o.setAttr)&&(1!==o.pos||o.setAttr)||(t.style(o.elem,n,o.end),o.setAttr=!0)}}),d.fn.addBack||(d.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),d.effects.animateClass=function(n,t,a,i){var p=d.speed(t,a,i);return this.queue(function(){var i=d(this),t=i.attr("class")||"",s=p.children?i.find("*").addBack():i,l;s=s.map(function(){var t=d(this);return{el:t,start:e(this)}}),l=function(){d.each(r,function(o,e){n[e]&&i[e+"Class"](n[e])})},l(),s=s.map(function(){return this.end=e(this.el[0]),this.diff=o(this.start,this.end),this}),i.attr("class",t),s=s.map(function(){var e=this,t=d.Deferred(),n=d.extend({},p,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,n),t.promise()}),d.when.apply(d,s.get()).done(function(){l(),d.each(arguments,function(){var n=this.el;d.each(this.diff,function(t){n.css(t,"")})}),p.complete.call(i[0])})})},d.fn.extend({addClass:function(e){return function(t,o,r,n){return o?d.effects.animateClass.call(this,{add:t},o,r,n):e.apply(this,arguments)}}(d.fn.addClass),removeClass:function(e){return function(t,o,r,n){return 1<arguments.length?d.effects.animateClass.call(this,{remove:t},o,r,n):e.apply(this,arguments)}}(d.fn.removeClass),toggleClass:function(e){return function(t,r,l,n,a){return"boolean"==typeof r||void 0===r?l?d.effects.animateClass.call(this,r?{add:t}:{remove:t},l,n,a):e.apply(this,arguments):d.effects.animateClass.call(this,{toggle:t},r,l,n)}}(d.fn.toggleClass),switchClass:function(e,o,r,s,n){return d.effects.animateClass.call(this,{add:o,remove:e},r,s,n)}})}(),function(){function r(e,o,a,r){return d.isPlainObject(e)&&(o=e,e=e.effect),e={effect:e},null==o&&(o={}),d.isFunction(o)&&(r=o,a=null,o={}),("number"==typeof o||d.fx.speeds[o])&&(r=a,a=o,o={}),d.isFunction(a)&&(r=a,a=null),o&&d.extend(e,o),a=a||o.duration,e.duration=d.fx.off?0:"number"==typeof a?a:a in d.fx.speeds?d.fx.speeds[a]:d.fx.speeds._default,e.complete=r||o.complete,e}function a(e){return!e||"number"==typeof e||d.fx.speeds[e]||("string"!=typeof e||d.effects.effect[e]?!!d.isFunction(e)||("object"!=("undefined"===typeof e?"undefined":babelHelpers["typeof"](e))||e.effect?!1:!0):!0)}d.extend(d.effects,{version:"1.11.2",save:function(t,e){for(var n=0;e.length>n;n++)null!==e[n]&&t.data(o+e[n],t[0].style[e[n]])},restore:function(t,e){var a,r;for(r=0;e.length>r;r++)null!==e[r]&&(a=t.data(o+e[r]),void 0===a&&(a=""),t.css(e[r],a))},setMode:function(n,e){return"toggle"===e&&(e=n.is(":hidden")?"show":"hide"),e},getBaseline:function(n,e){var t,o;switch(n[0]){case"top":t=0;break;case"middle":t=.5;break;case"bottom":t=1;break;default:t=n[0]/e.height;}switch(n[1]){case"left":o=0;break;case"center":o=.5;break;case"right":o=1;break;default:o=n[1]/e.width;}return{x:o,y:t}},createWrapper:function(o){if(o.parent().is(".ui-effects-wrapper"))return o.parent();var t={width:o.outerWidth(!0),height:o.outerHeight(!0),float:o.css("float")},e=d("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:o.width(),height:o.height()},n=document.activeElement;try{n.id}catch(e){n=document.body}return o.wrap(e),(o[0]===n||d.contains(o[0],n))&&d(n).focus(),e=o.parent(),"static"===o.css("position")?(e.css({position:"relative"}),o.css({position:"relative"})):(d.extend(t,{position:o.css("position"),zIndex:o.css("z-index")}),d.each(["top","left","bottom","right"],function(n,e){t[e]=o.css(e),isNaN(parseInt(t[e],10))&&(t[e]="auto")}),o.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),o.css(r),e.css(t).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===t||d.contains(e[0],t))&&d(t).focus()),e},setTransition:function(o,e,t,r){return r=r||{},d.each(e,function(n,e){var i=o.cssUnit(e);0<i[0]&&(r[e]=i[0]*t+i[1])}),r}}),d.fn.extend({effect:function(){function e(e){function o(){d.isFunction(n)&&n.call(i[0]),d.isFunction(e)&&e()}var i=d(this),n=l.complete,a=l.mode;(i.is(":hidden")?"hide"===a:"show"===a)?(i[a](),o()):s.call(i[0],l,o)}var l=r.apply(this,arguments),t=l.mode,n=l.queue,s=d.effects.effect[l.effect];return d.fx.off||!s?t?this[t](l.duration,l.complete):this.each(function(){l.complete&&l.complete.call(this)}):!1===n?this.each(e):this.queue(n||"fx",e)},show:function(o){return function(e){if(a(e))return o.apply(this,arguments);var t=r.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}}(d.fn.show),hide:function(o){return function(e){if(a(e))return o.apply(this,arguments);var t=r.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}}(d.fn.hide),toggle:function(o){return function(e){if(a(e)||"boolean"==typeof e)return o.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(d.fn.toggle),cssUnit:function(e){var n=this.css(e),o=[];return d.each(["em","px","%","pt"],function(a,e){0<n.indexOf(e)&&(o=[parseFloat(n),e])}),o}})}(),function(){var o=Math.pow,a={};d.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,e){a[e]=function(e){return o(e,n+2)}}),d.extend(a,{Sine:function(t){return 1-Math.cos(t*n/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-o(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*n/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(n){for(var e=4,a;((a=o(2,--e))-1)/11>n;);return 1/o(4,3-e)-7.5625*o((3*a-2)/22-n,2)}}),d.each(a,function(e,t){d.easing["easeIn"+e]=t,d.easing["easeOut"+e]=function(n){return 1-t(1-n)},d.easing["easeInOut"+e]=function(n){return .5>n?t(2*n)/2:1-t(-2*n+2)/2}})}(),d.effects}),function(){function a(){d&&(n(a),jQuery.fx.tick())}for(var o=0,e=["webkit","moz"],n=window.requestAnimationFrame,r=window.cancelAnimationFrame,d;o<e.length&&!n;o++)n=window[e[o]+"RequestAnimationFrame"],r=r||window[e[o]+"CancelAnimationFrame"]||window[e[o]+"CancelRequestAnimationFrame"];n?(window.requestAnimationFrame=n,window.cancelAnimationFrame=r,jQuery.fx.timer=function(n){n()&&jQuery.timers.push(n)&&!d&&(d=!0,a())},jQuery.fx.stop=function(){d=!1}):(window.requestAnimationFrame=function(t){var e=new Date().getTime(),n=Math.max(0,16-(e-o)),a=window.setTimeout(function(){t(e+n)},n);return o=e+n,a},window.cancelAnimationFrame=function(t){clearTimeout(t)})}(jQuery),jQuery.extend({bez:function(e,n){if(jQuery.isArray(e)&&(n=e,e="bez_"+n.join("_").replace(/\./g,"p")),"function"!==typeof jQuery.easing[e]){var o=function(e,n){var o=[null,null],a=[null,null],r=[null,null],d=function(i,t){return r[t]=3*e[t],a[t]=3*(n[t]-e[t])-r[t],o[t]=1-r[t]-a[t],i*(r[t]+i*(a[t]+i*o[t]))},s=function(e){return r[0]+e*(2*a[0]+3*o[0]*e)},i=function(e){for(var t=e,n=0,o;14>++n&&(o=d(t,0)-e,!(1e-3>Math.abs(o)));)t-=o/s(t);return t};return function(e){return d(i(e),1)}};jQuery.easing[e]=function(e,a,t,r,i){return r*o([n[0],n[1]],[n[2],n[3]])(a/i)+t}}return e}}),"use notstrict",window.CRMLoaded=window.CRMLoaded||{listener:null,register:function(e){window.CRMLoaded.listener=e}},window.CRMLoaded.register(function(){function e(e){var t=[],n=e.split("}");return n.slice(0,-1).forEach(function(e){var n=e.indexOf("{"),o=e.slice(0,n).trim(),a=e.slice(n+1).trim();t.push({elements:o,ruleText:a})}),t}function t(e){if("number"===typeof e)return e;var t=e.split("."),n=~~e;return 1<t.length&&(n+=~~t[1]/10),n}function n(e){var o;return-1<(o=e.indexOf("*"))?n(e.slice(0,o-1).concat([t(e[o-1])*t(e[o+1])]).concat(e.slice(o+2))):-1<(o=e.indexOf("/"))?n(e.slice(0,o-1).concat([t(e[o-1])/t(e[o+1])]).concat(e.slice(o+2))):-1<e.indexOf("-")||-1<e.indexOf("+")?(e.forEach(function(n,o){"-"===n&&(e[o+1]=-1*t(e[o+1]),e[o]="+")}),0===e.length?0:1===e.length?t(e[0]):e.reduce(function(e,n){return t(e)+t(n)})):t(e[0])}function o(e){var t=0;return-1<(t=e.indexOf("+"))?[].concat(o(e.slice(0,t))).concat(["+"]).concat(o(e.slice(t+1))):-1<(t=e.indexOf("-"))?[].concat(o(e.slice(0,t))).concat(["-"]).concat(o(e.slice(t+1))):-1<(t=e.indexOf("*"))?[].concat(o(e.slice(0,t))).concat(["*"]).concat(o(e.slice(t+1))):-1<(t=e.indexOf("/"))?[].concat(o(e.slice(0,t))).concat(["/"]).concat(o(e.slice(t+1))):[e]}function a(e){var t=/\((.*)\)/,r=null;return(r=t.exec(e))?a(e.replace(r[0],a(r[1])+"")):n(o(e).map(function(e){return e.trim()}))}function r(){if(f)return f;var e=document.documentElement;return f=[e].concat(i(e.children)),f}function d(e){return l(r().map(function(t){return t.querySelectorAll(e)}))}function s(e,t){if(t(e),e.children)for(var n=0;n<e.children.length;n++)s(e.children[n],t)}function i(e){for(var t=[],n=0;n<e.length;n++)s(e[n],function(e){e.shadowRoot&&t.push(e.shadowRoot)});return t}function l(e){for(var t=[],n=0;n<e.length;n++)for(var o=0;o<e[n].length;o++)t.push(e[n][o]);return t}function p(e){for(var t=e.split(" "),n=d(t[0]),o=function(e){n=l(n.map(function(e){return e.shadowRoot?e.shadowRoot:e.shadowRoot}).map(function(n){return n.querySelectorAll(t[e])}))},a=1;a<t.length;a++)o(a);return n}function c(e){return Array.prototype.slice.apply(e)}function u(){g.forEach(function(e){var t=a(e.calculation.replace("vw"," * "+window.innerWidth/100).replace("vh"," * "+window.innerHeight/100).replace("em"," * 16").replace("px",""));e.elements.forEach(function(n){"length"!==e.key&&"parentRule"!==e.key&&(n.style[e.key]=t+"px")})})}var f=null,g=[],h;window.addCalcFn=function(e,t,n,o){if(h&&!o&&"length"!==t&&"parentRule"!==t)return void(e.style[t]="calc("+n+")");for(var a=0;a<g.length;a++)if(-1<g[a].elements.indexOf(e)&&g[a].key===t){g.splice(a,1);break}if(!o){g.push({elements:[e],calculation:n,key:t}),u()}},function(){var t=document.createElement("div");t.style.cssText="width: calc(100vw - 100px)",h=!!t.style.length,h||function(e){e.forEach(function(e){for(var t=e.key,n;-1<(n=t.indexOf("-"));)t=t.slice(0,n)+t[n+1].toUpperCase()+t.slice(n+2);if(e.elements=p(e.elements),!e.elements)return null;var o=c(e.elements);(-1<e.calculation.indexOf("vh")||-1<e.calculation.indexOf("vw"))&&g.push({calculation:e.calculation,elements:o,key:t});var r=e.calculation.replace("vw"," * "+window.innerWidth/100).replace("vh"," * "+window.innerHeight/100).replace("em"," * 16").replace("px",""),i=a(r);o.forEach(function(e){"length"!==t&&"parentRule"!==t&&(e.style[t]=i+"px")})}),window.onresize=function(){u()}}(function(e){var t=[],n=/calc\((.+)\)/;return e.forEach(function(e){e&&e.rules&&e.rules.forEach(function(o){var a=null;(a=n.exec(o.value))&&(-1<a[1].indexOf("vh")||-1<a[1].indexOf("vw"))&&t.push({elements:e.elements,key:o.key,calculation:a[1]})})}),t}(function(e){var t=/(\s*)((\w|-)+)(\s*):(\s*)((\w|%|\/|\*|\+|\(|\)|-|,|\s)+);(\s*)/;return e.map(function(e){if(-1===e.ruleText.indexOf("calc")||-1===e.ruleText.indexOf("vh")&&-1===e.ruleText.indexOf("vw"))return null;var n=[],o=e.ruleText.match(/(\s*)((\w|-)+)(\s*):(\s*)((\w|%|\/|\*|\+|\(|\)|-|,|\s)+);(\s*)/g);return o?(o.forEach(function(e){var o=e.match(t);n.push({key:o[2],value:o[6]})}),{rules:n,elements:e.elements}):null}).filter(function(e){return null!==e})}(function(t){var n=[];return t.forEach(function(t){return-1===t.indexOf("calc(")||-1===t.indexOf("vh")&&-1===t.indexOf("vw")?null:void(n=n.concat(e(t)))}),n}(function(e){return e.map(function(e){if("STYLE"===e.tagName)return e.textContent;var t=new XMLHttpRequest;return t.open("GET",e.sheet.href,!1),t.send(),200===t.status?t.responseText:""})}(d("style, link[rel=\"stylesheet\"]")))))),t.remove()}()});